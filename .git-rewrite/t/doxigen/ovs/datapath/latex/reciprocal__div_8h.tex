\hypertarget{reciprocal__div_8h}{}\section{/home/vladn/git/ovs/datapath/linux/compat/include/linux/reciprocal\+\_\+div.h File Reference}
\label{reciprocal__div_8h}\index{/home/vladn/git/ovs/datapath/linux/compat/include/linux/reciprocal\+\_\+div.\+h@{/home/vladn/git/ovs/datapath/linux/compat/include/linux/reciprocal\+\_\+div.\+h}}
{\ttfamily \#include $<$linux/types.\+h$>$}\\*
Include dependency graph for reciprocal\+\_\+div.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{reciprocal__div_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{reciprocal__div_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structreciprocal__value}{reciprocal\+\_\+value}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{reciprocal__div_8h_a78adc7b97028a17a134f8a0cd82c5c82}{reciprocal\+\_\+value}~\hyperlink{reciprocal__div_8c_a9521bfcfc19dc38ffcc0ce9221e5a91d}{rpl\+\_\+reciprocal\+\_\+value}
\item 
\#define \hyperlink{reciprocal__div_8h_a1aeee1ba3d23d8252d3df41c25c1fb68}{reciprocal\+\_\+divide}~\hyperlink{reciprocal__div_8h_a3cd12ce78a02bde65d6a4f99f474ee30}{rpl\+\_\+reciprocal\+\_\+divide}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structreciprocal__value}{reciprocal\+\_\+value} \hyperlink{reciprocal__div_8h_a9521bfcfc19dc38ffcc0ce9221e5a91d}{rpl\+\_\+reciprocal\+\_\+value} (u32 d)
\item 
static u32 \hyperlink{reciprocal__div_8h_a3cd12ce78a02bde65d6a4f99f474ee30}{rpl\+\_\+reciprocal\+\_\+divide} (u32 a, struct \hyperlink{structreciprocal__value}{reciprocal\+\_\+value} R)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{reciprocal__div_8h_a1aeee1ba3d23d8252d3df41c25c1fb68}{}\index{reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}!reciprocal\+\_\+divide@{reciprocal\+\_\+divide}}
\index{reciprocal\+\_\+divide@{reciprocal\+\_\+divide}!reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}}
\subsubsection[{reciprocal\+\_\+divide}]{\setlength{\rightskip}{0pt plus 5cm}\#define reciprocal\+\_\+divide~{\bf rpl\+\_\+reciprocal\+\_\+divide}}\label{reciprocal__div_8h_a1aeee1ba3d23d8252d3df41c25c1fb68}
\hypertarget{reciprocal__div_8h_a78adc7b97028a17a134f8a0cd82c5c82}{}\index{reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}!reciprocal\+\_\+value@{reciprocal\+\_\+value}}
\index{reciprocal\+\_\+value@{reciprocal\+\_\+value}!reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}}
\subsubsection[{reciprocal\+\_\+value}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf reciprocal\+\_\+value}~{\bf rpl\+\_\+reciprocal\+\_\+value}}\label{reciprocal__div_8h_a78adc7b97028a17a134f8a0cd82c5c82}


\subsection{Function Documentation}
\hypertarget{reciprocal__div_8h_a3cd12ce78a02bde65d6a4f99f474ee30}{}\index{reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}!rpl\+\_\+reciprocal\+\_\+divide@{rpl\+\_\+reciprocal\+\_\+divide}}
\index{rpl\+\_\+reciprocal\+\_\+divide@{rpl\+\_\+reciprocal\+\_\+divide}!reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}}
\subsubsection[{rpl\+\_\+reciprocal\+\_\+divide}]{\setlength{\rightskip}{0pt plus 5cm}static u32 rpl\+\_\+reciprocal\+\_\+divide (
\begin{DoxyParamCaption}
\item[{u32}]{a, }
\item[{struct {\bf reciprocal\+\_\+value}}]{R}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\label{reciprocal__div_8h_a3cd12ce78a02bde65d6a4f99f474ee30}

\begin{DoxyCode}
32 \{
33     u32 t = (u32)(((u64)a * R.\hyperlink{structreciprocal__value_aa32a30f86412446e8febcc66236f7472}{m}) >> 32);
34     \textcolor{keywordflow}{return} (t + ((a - t) >> R.\hyperlink{structreciprocal__value_a0154478c74b1c1d15bddd2adabfca9e1}{sh1})) >> R.\hyperlink{structreciprocal__value_aada545b593c9abb69094dfb9b074f61e}{sh2};
35 \}
\end{DoxyCode}
\hypertarget{reciprocal__div_8h_a9521bfcfc19dc38ffcc0ce9221e5a91d}{}\index{reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}!rpl\+\_\+reciprocal\+\_\+value@{rpl\+\_\+reciprocal\+\_\+value}}
\index{rpl\+\_\+reciprocal\+\_\+value@{rpl\+\_\+reciprocal\+\_\+value}!reciprocal\+\_\+div.\+h@{reciprocal\+\_\+div.\+h}}
\subsubsection[{rpl\+\_\+reciprocal\+\_\+value}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf reciprocal\+\_\+value} rpl\+\_\+reciprocal\+\_\+value (
\begin{DoxyParamCaption}
\item[{u32}]{d}
\end{DoxyParamCaption}
)}\label{reciprocal__div_8h_a9521bfcfc19dc38ffcc0ce9221e5a91d}

\begin{DoxyCode}
12 \{
13     \textcolor{keyword}{struct }\hyperlink{structreciprocal__value}{reciprocal\_value} R;
14     u64 \hyperlink{structreciprocal__value_aa32a30f86412446e8febcc66236f7472}{m};
15     \textcolor{keywordtype}{int} l;
16 
17     l = fls(d - 1);
18     m = ((1ULL << 32) * ((1ULL << l) - d));
19     do\_div(m, d);
20     ++\hyperlink{structreciprocal__value_aa32a30f86412446e8febcc66236f7472}{m};
21     R.m = (u32)m;
22     R.sh1 = min(l, 1);
23     R.sh2 = max(l - 1, 0);
24 
25     \textcolor{keywordflow}{return} R;
26 \}
\end{DoxyCode}
