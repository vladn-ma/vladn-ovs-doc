\hypertarget{genetlink-openvswitch_8c}{}\section{/home/vladn/git/ovs/datapath/linux/genetlink-\/openvswitch.c File Reference}
\label{genetlink-openvswitch_8c}\index{/home/vladn/git/ovs/datapath/linux/genetlink-\/openvswitch.\+c@{/home/vladn/git/ovs/datapath/linux/genetlink-\/openvswitch.\+c}}
{\ttfamily \#include $<$net/genetlink.\+h$>$}\\*
{\ttfamily \#include $<$linux/version.\+h$>$}\\*
Include dependency graph for genetlink-\/openvswitch.c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{genetlink-openvswitch_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{genetlink-openvswitch_8c_abcd68fa42d07fafbbb4e263dd8baca6c}{rpl\+\_\+genl\+\_\+notify} (struct \hyperlink{structrpl__genl__family}{rpl\+\_\+genl\+\_\+family} $\ast$family, struct sk\+\_\+buff $\ast$skb, struct net $\ast$net, u32 portid, u32 group, struct nlmsghdr $\ast$nlh, gfp\+\_\+t \hyperlink{flow_8h_af4f7a53f6b2df72c34ca881f2714ac91}{flags})
\item 
\hyperlink{genetlink-openvswitch_8c_a62e3dfffe9008f7d63bc6128f61b342a}{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L} (\hyperlink{genetlink-openvswitch_8c_abcd68fa42d07fafbbb4e263dd8baca6c}{rpl\+\_\+genl\+\_\+notify})
\item 
int \hyperlink{genetlink-openvswitch_8c_a2803a86a5f44e4c055773b4907a4950a}{rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family} (struct \hyperlink{structrpl__genl__family}{rpl\+\_\+genl\+\_\+family} $\ast$f)
\item 
\hyperlink{genetlink-openvswitch_8c_a19734b7486a5c6c341e8ffe9eaae41fa}{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L} (\hyperlink{genetlink-openvswitch_8c_a2803a86a5f44e4c055773b4907a4950a}{rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{genetlink-openvswitch_8c_a62e3dfffe9008f7d63bc6128f61b342a}{}\index{genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}!E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L@{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L}}
\index{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L@{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L}!genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}}
\subsubsection[{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L}]{\setlength{\rightskip}{0pt plus 5cm}E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L (
\begin{DoxyParamCaption}
\item[{{\bf rpl\+\_\+genl\+\_\+notify}}]{}
\end{DoxyParamCaption}
)}\label{genetlink-openvswitch_8c_a62e3dfffe9008f7d63bc6128f61b342a}
\hypertarget{genetlink-openvswitch_8c_a19734b7486a5c6c341e8ffe9eaae41fa}{}\index{genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}!E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L@{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L}}
\index{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L@{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L}!genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}}
\subsubsection[{E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L}]{\setlength{\rightskip}{0pt plus 5cm}E\+X\+P\+O\+R\+T\+\_\+\+S\+Y\+M\+B\+O\+L\+\_\+\+G\+P\+L (
\begin{DoxyParamCaption}
\item[{{\bf rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family}}]{}
\end{DoxyParamCaption}
)}\label{genetlink-openvswitch_8c_a19734b7486a5c6c341e8ffe9eaae41fa}
\hypertarget{genetlink-openvswitch_8c_a2803a86a5f44e4c055773b4907a4950a}{}\index{genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}!rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family@{rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family}}
\index{rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family@{rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family}!genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}}
\subsubsection[{rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family}]{\setlength{\rightskip}{0pt plus 5cm}int rpl\+\_\+\+\_\+\+\_\+genl\+\_\+register\+\_\+family (
\begin{DoxyParamCaption}
\item[{struct {\bf rpl\+\_\+genl\+\_\+family} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{genetlink-openvswitch_8c_a2803a86a5f44e4c055773b4907a4950a}

\begin{DoxyCode}
27 \{
28     \textcolor{keywordtype}{int} err;
29 
30     f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.id = f->\hyperlink{structrpl__genl__family_a34a498924fba8a8da9d410d545cfeee2}{id};
31     f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.hdrsize = f->\hyperlink{structrpl__genl__family_a9a291012510fda23c4d3bf64859e5de0}{hdrsize};
32     strncpy(f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.name, f->\hyperlink{structrpl__genl__family_a0ee3a650097beb5d2e4a4deb301cb479}{name}, GENL\_NAMSIZ);
33     f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.version = f->\hyperlink{structrpl__genl__family_a09a64c948abbbd61907dfd9f0d17663d}{version};
34     f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.maxattr = f->\hyperlink{structrpl__genl__family_a7f6d39207e37f45f704e387488b580d0}{maxattr};
35     f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.netnsok = f->\hyperlink{structrpl__genl__family_a126424f7f454c57970d3aa43fa6f6321}{netnsok};
36 \textcolor{preprocessor}{#ifdef HAVE\_PARALLEL\_OPS}
37     f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family}.parallel\_ops = f->\hyperlink{structrpl__genl__family_a0c6f86f5d811b297add5721fc9412545}{parallel\_ops};
38 \textcolor{preprocessor}{#endif}
39     err = genl\_register\_family\_with\_ops(&f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family},
40                         (\textcolor{keyword}{struct} genl\_ops *) f->\hyperlink{structrpl__genl__family_a2d6fa633ee14f455af7965bf76508255}{ops}, f->\hyperlink{structrpl__genl__family_a2015e11f05185d06f8ef4125a43fd48b}{n\_ops});
41     \textcolor{keywordflow}{if} (err)
42         \textcolor{keywordflow}{goto} error;
43 
44     \textcolor{keywordflow}{if} (f->\hyperlink{structrpl__genl__family_aa824bef8504ad3a92bc3fdd62d7554ec}{mcgrps}) \{
45         \textcolor{comment}{/* Need to Fix GROUP\_ID() for more than one group. */}
46         BUG\_ON(f->\hyperlink{structrpl__genl__family_aa39896dd5abd2de8beaeaa1a39d61c98}{n\_mcgrps} > 1);
47         err = genl\_register\_mc\_group(&f->\hyperlink{structrpl__genl__family_a6da3fbe86360d91cce207287b2de165d}{compat\_family},
48                          (\textcolor{keyword}{struct} genl\_multicast\_group *) f->\hyperlink{structrpl__genl__family_aa824bef8504ad3a92bc3fdd62d7554ec}{mcgrps});
49         \textcolor{keywordflow}{if} (err)
50             \textcolor{keywordflow}{goto} error;
51     \}
52 error:
53     \textcolor{keywordflow}{return} err;
54 
55 \}
\end{DoxyCode}
\hypertarget{genetlink-openvswitch_8c_abcd68fa42d07fafbbb4e263dd8baca6c}{}\index{genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}!rpl\+\_\+genl\+\_\+notify@{rpl\+\_\+genl\+\_\+notify}}
\index{rpl\+\_\+genl\+\_\+notify@{rpl\+\_\+genl\+\_\+notify}!genetlink-\/openvswitch.\+c@{genetlink-\/openvswitch.\+c}}
\subsubsection[{rpl\+\_\+genl\+\_\+notify}]{\setlength{\rightskip}{0pt plus 5cm}void rpl\+\_\+genl\+\_\+notify (
\begin{DoxyParamCaption}
\item[{struct {\bf rpl\+\_\+genl\+\_\+family} $\ast$}]{family, }
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{struct net $\ast$}]{net, }
\item[{u32}]{portid, }
\item[{u32}]{group, }
\item[{struct nlmsghdr $\ast$}]{nlh, }
\item[{gfp\+\_\+t}]{flags}
\end{DoxyParamCaption}
)}\label{genetlink-openvswitch_8c_abcd68fa42d07fafbbb4e263dd8baca6c}

\begin{DoxyCode}
11 \{
12 \textcolor{preprocessor}{#if LINUX\_VERSION\_CODE < KERNEL\_VERSION(3,3,0)}
13     \textcolor{keyword}{struct }sock *sk = net->genl\_sock;
14     \textcolor{keywordtype}{int} report = 0;
15 
16     \textcolor{keywordflow}{if} (nlh)
17         report = nlmsg\_report(nlh);
18 
19     nlmsg\_notify(sk, skb, portid, group, report, \hyperlink{flow_8h_af4f7a53f6b2df72c34ca881f2714ac91}{flags});
20 \textcolor{preprocessor}{#else}
21     \hyperlink{genetlink_8h_a3e365d35277825cfe05ad9d319085842}{genl\_notify}(skb, net, portid, group, nlh, \hyperlink{flow_8h_af4f7a53f6b2df72c34ca881f2714ac91}{flags});
22 \textcolor{preprocessor}{#endif}
23 \}
\end{DoxyCode}
