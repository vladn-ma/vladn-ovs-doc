\hypertarget{datapath_8h}{}\section{/home/vladn/git/ovs/datapath/datapath.h File Reference}
\label{datapath_8h}\index{/home/vladn/git/ovs/datapath/datapath.\+h@{/home/vladn/git/ovs/datapath/datapath.\+h}}
{\ttfamily \#include $<$asm/page.\+h$>$}\\*
{\ttfamily \#include $<$linux/kernel.\+h$>$}\\*
{\ttfamily \#include $<$linux/mutex.\+h$>$}\\*
{\ttfamily \#include $<$linux/netdevice.\+h$>$}\\*
{\ttfamily \#include $<$linux/skbuff.\+h$>$}\\*
{\ttfamily \#include $<$linux/u64\+\_\+stats\+\_\+sync.\+h$>$}\\*
{\ttfamily \#include \char`\"{}compat.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}flow.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}flow\+\_\+table.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}vlan.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}vport.\+h\char`\"{}}\\*
Include dependency graph for datapath.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{datapath_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{datapath_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structdp__stats__percpu}{dp\+\_\+stats\+\_\+percpu}
\item 
struct \hyperlink{structdatapath}{datapath}
\item 
struct \hyperlink{structovs__skb__cb}{ovs\+\_\+skb\+\_\+cb}
\item 
struct \hyperlink{structdp__upcall__info}{dp\+\_\+upcall\+\_\+info}
\item 
struct \hyperlink{structovs__net}{ovs\+\_\+net}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{datapath_8h_a73b117dd1ebe456eecfb7688047a03f1}{D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S}~\hyperlink{kernel_8h_a689b119da994dece91d44b5aeac643ed}{U\+S\+H\+R\+T\+\_\+\+M\+A\+X}
\item 
\#define \hyperlink{datapath_8h_ac1bf9805d62227b8f76f130087e18018}{D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S}~1024
\item 
\#define \hyperlink{datapath_8h_ad323527e924235c97bf936e4e85dfdba}{S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H}~3
\item 
\#define \hyperlink{datapath_8h_ac337c4d4ddca29916ce8e900038ddd78}{O\+V\+S\+\_\+\+C\+B}(skb)~((struct \hyperlink{structovs__skb__cb}{ovs\+\_\+skb\+\_\+cb} $\ast$)(skb)-\/$>$cb)
\item 
\#define \hyperlink{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}()~1
\item 
\#define \hyperlink{datapath_8h_af8d476fa8191790e6f57cad0623f192c}{A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L}()~W\+A\+R\+N\+\_\+\+O\+N(!\hyperlink{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}())
\item 
\#define \hyperlink{datapath_8h_a06ef69170d345fd3996a467dcacf3ff3}{ovsl\+\_\+dereference}(p)~\hyperlink{rcupdate_8h_af8e0682efe4f8bd0488ea6c1f66b0064}{rcu\+\_\+dereference\+\_\+protected}(p, \hyperlink{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}())
\item 
\#define \hyperlink{datapath_8h_a5f2a2c1026f970f0052e77f5ebba33d1}{rcu\+\_\+dereference\+\_\+ovsl}(p)~\hyperlink{rcupdate_8h_a1132a81ccc2a14e56d6fd4d794f953ea}{rcu\+\_\+dereference\+\_\+check}(p, \hyperlink{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}())
\item 
\#define \hyperlink{datapath_8h_a54648b7a2c9b192074cd95eb945433f0}{O\+V\+S\+\_\+\+N\+L\+E\+R\+R}(logging\+\_\+allowed,  fmt, ...)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{datapath_8h_a092c1f450b78a173c890ed4c56839e1a}{ovs\+\_\+lock} (void)
\item 
void \hyperlink{datapath_8h_ac3ccfd98a880ed6d2480209be0d16680}{ovs\+\_\+unlock} (void)
\item 
static struct net $\ast$ \hyperlink{datapath_8h_aef2302004ca1f45133eaef00bb3740eb}{ovs\+\_\+dp\+\_\+get\+\_\+net} (const struct \hyperlink{structdatapath}{datapath} $\ast$dp)
\item 
static void \hyperlink{datapath_8h_af2973d12bb9f33d8e86d2fcad4dc7319}{ovs\+\_\+dp\+\_\+set\+\_\+net} (struct \hyperlink{structdatapath}{datapath} $\ast$dp, struct net $\ast$net)
\item 
struct \hyperlink{structvport}{vport} $\ast$ \hyperlink{datapath_8h_a0a9ec01692e1fdcb15a9a294d3789af0}{ovs\+\_\+lookup\+\_\+vport} (const struct \hyperlink{structdatapath}{datapath} $\ast$dp, u16 port\+\_\+no)
\item 
static struct \hyperlink{structvport}{vport} $\ast$ \hyperlink{datapath_8h_ac6f3c37a7850774112c03c6e88d89dc0}{ovs\+\_\+vport\+\_\+rcu} (const struct \hyperlink{structdatapath}{datapath} $\ast$dp, int port\+\_\+no)
\item 
static struct \hyperlink{structvport}{vport} $\ast$ \hyperlink{datapath_8h_a33d8540a1f2484576cfa52366828fcfc}{ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu} (const struct \hyperlink{structdatapath}{datapath} $\ast$dp, int port\+\_\+no)
\item 
static struct \hyperlink{structvport}{vport} $\ast$ \hyperlink{datapath_8h_a422576bd4b943e9df313ba73f6c624e1}{ovs\+\_\+vport\+\_\+ovsl} (const struct \hyperlink{structdatapath}{datapath} $\ast$dp, int port\+\_\+no)
\item 
void \hyperlink{datapath_8h_aa52cbaf8a4e68129287bfc8ddcde0711}{ovs\+\_\+dp\+\_\+process\+\_\+packet} (struct sk\+\_\+buff $\ast$skb, struct \hyperlink{structsw__flow__key}{sw\+\_\+flow\+\_\+key} $\ast$key)
\item 
void \hyperlink{datapath_8h_af781f4768228c53f3319dd2526a1d625}{ovs\+\_\+dp\+\_\+detach\+\_\+port} (struct \hyperlink{structvport}{vport} $\ast$)
\item 
int \hyperlink{datapath_8h_aa97839171ab77e6823ee8283f166e19e}{ovs\+\_\+dp\+\_\+upcall} (struct \hyperlink{structdatapath}{datapath} $\ast$, struct sk\+\_\+buff $\ast$, const struct \hyperlink{structsw__flow__key}{sw\+\_\+flow\+\_\+key} $\ast$, const struct \hyperlink{structdp__upcall__info}{dp\+\_\+upcall\+\_\+info} $\ast$)
\item 
const char $\ast$ \hyperlink{datapath_8h_a6a23196916bb5de4994f901bdf1aba2d}{ovs\+\_\+dp\+\_\+name} (const struct \hyperlink{structdatapath}{datapath} $\ast$dp)
\item 
struct sk\+\_\+buff $\ast$ \hyperlink{datapath_8h_a15944602a340ff7fc6df155626c56428}{ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info} (struct \hyperlink{structvport}{vport} $\ast$, u32 pid, u32 seq, u8 cmd)
\item 
int \hyperlink{datapath_8h_a340ea4456673ed4deaf3bae36d9fc1b1}{ovs\+\_\+execute\+\_\+actions} (struct \hyperlink{structdatapath}{datapath} $\ast$dp, struct sk\+\_\+buff $\ast$skb, const struct \hyperlink{structsw__flow__actions}{sw\+\_\+flow\+\_\+actions} $\ast$, struct \hyperlink{structsw__flow__key}{sw\+\_\+flow\+\_\+key} $\ast$)
\item 
void \hyperlink{datapath_8h_a5d5624a3bb21c222e3a6f18f56ff20b2}{ovs\+\_\+dp\+\_\+notify\+\_\+wq} (struct work\+\_\+struct $\ast$work)
\item 
int \hyperlink{datapath_8h_a3006f0376c2aecb6525126ad0e9bae25}{action\+\_\+fifos\+\_\+init} (void)
\item 
void \hyperlink{datapath_8h_a7dfd1f218e0966ef342251a185866f4d}{action\+\_\+fifos\+\_\+exit} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{datapath_8h_ace140298dc2b59b3d77d59c0a210de29}{ovs\+\_\+net\+\_\+id}
\item 
struct notifier\+\_\+block \hyperlink{datapath_8h_ab34ba4d6c1125efcec9480356f3393e6}{ovs\+\_\+dp\+\_\+device\+\_\+notifier}
\item 
struct \hyperlink{genetlink_8h_aba961c2c372b7122ad0c8ae5e7af2f3b}{genl\+\_\+family} \hyperlink{datapath_8h_a69bf55f33e234bc4b78e6eeee1d603fd}{dp\+\_\+vport\+\_\+genl\+\_\+family}
\item 
struct genl\+\_\+multicast\+\_\+group \hyperlink{datapath_8h_a9dd8d4307b50fdee582eb4013d89eb7b}{ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{datapath_8h_af8d476fa8191790e6f57cad0623f192c}{}\index{datapath.\+h@{datapath.\+h}!A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L@{A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L}}
\index{A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L@{A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L}!datapath.\+h@{datapath.\+h}}
\subsubsection[{A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+S\+S\+E\+R\+T\+\_\+\+O\+V\+S\+L(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~W\+A\+R\+N\+\_\+\+O\+N(!{\bf lockdep\+\_\+ovsl\+\_\+is\+\_\+held}())}\label{datapath_8h_af8d476fa8191790e6f57cad0623f192c}
\hypertarget{datapath_8h_a73b117dd1ebe456eecfb7688047a03f1}{}\index{datapath.\+h@{datapath.\+h}!D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S@{D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S}}
\index{D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S@{D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S}!datapath.\+h@{datapath.\+h}}
\subsubsection[{D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+P\+\_\+\+M\+A\+X\+\_\+\+P\+O\+R\+T\+S~{\bf U\+S\+H\+R\+T\+\_\+\+M\+A\+X}}\label{datapath_8h_a73b117dd1ebe456eecfb7688047a03f1}
\hypertarget{datapath_8h_ac1bf9805d62227b8f76f130087e18018}{}\index{datapath.\+h@{datapath.\+h}!D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S@{D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S}}
\index{D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S@{D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S}!datapath.\+h@{datapath.\+h}}
\subsubsection[{D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+P\+\_\+\+V\+P\+O\+R\+T\+\_\+\+H\+A\+S\+H\+\_\+\+B\+U\+C\+K\+E\+T\+S~1024}\label{datapath_8h_ac1bf9805d62227b8f76f130087e18018}
\hypertarget{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}{}\index{datapath.\+h@{datapath.\+h}!lockdep\+\_\+ovsl\+\_\+is\+\_\+held@{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}}
\index{lockdep\+\_\+ovsl\+\_\+is\+\_\+held@{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}!datapath.\+h@{datapath.\+h}}
\subsubsection[{lockdep\+\_\+ovsl\+\_\+is\+\_\+held}]{\setlength{\rightskip}{0pt plus 5cm}\#define lockdep\+\_\+ovsl\+\_\+is\+\_\+held(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~1}\label{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}
\hypertarget{datapath_8h_ac337c4d4ddca29916ce8e900038ddd78}{}\index{datapath.\+h@{datapath.\+h}!O\+V\+S\+\_\+\+C\+B@{O\+V\+S\+\_\+\+C\+B}}
\index{O\+V\+S\+\_\+\+C\+B@{O\+V\+S\+\_\+\+C\+B}!datapath.\+h@{datapath.\+h}}
\subsubsection[{O\+V\+S\+\_\+\+C\+B}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+S\+\_\+\+C\+B(
\begin{DoxyParamCaption}
\item[{}]{skb}
\end{DoxyParamCaption}
)~((struct {\bf ovs\+\_\+skb\+\_\+cb} $\ast$)(skb)-\/$>$cb)}\label{datapath_8h_ac337c4d4ddca29916ce8e900038ddd78}
\hypertarget{datapath_8h_a54648b7a2c9b192074cd95eb945433f0}{}\index{datapath.\+h@{datapath.\+h}!O\+V\+S\+\_\+\+N\+L\+E\+R\+R@{O\+V\+S\+\_\+\+N\+L\+E\+R\+R}}
\index{O\+V\+S\+\_\+\+N\+L\+E\+R\+R@{O\+V\+S\+\_\+\+N\+L\+E\+R\+R}!datapath.\+h@{datapath.\+h}}
\subsubsection[{O\+V\+S\+\_\+\+N\+L\+E\+R\+R}]{\setlength{\rightskip}{0pt plus 5cm}\#define O\+V\+S\+\_\+\+N\+L\+E\+R\+R(
\begin{DoxyParamCaption}
\item[{}]{logging\+\_\+allowed, }
\item[{}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{datapath_8h_a54648b7a2c9b192074cd95eb945433f0}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{                                \(\backslash\)
    if (logging\_allowed && net\_ratelimit())         \(\backslash\)
        pr\_info(\textcolor{stringliteral}{"netlink: "} fmt \textcolor{stringliteral}{"\(\backslash\)n"}, ##\_\_VA\_ARGS\_\_);   \(\backslash\)
\} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}
\hypertarget{datapath_8h_a06ef69170d345fd3996a467dcacf3ff3}{}\index{datapath.\+h@{datapath.\+h}!ovsl\+\_\+dereference@{ovsl\+\_\+dereference}}
\index{ovsl\+\_\+dereference@{ovsl\+\_\+dereference}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovsl\+\_\+dereference}]{\setlength{\rightskip}{0pt plus 5cm}\#define ovsl\+\_\+dereference(
\begin{DoxyParamCaption}
\item[{}]{p}
\end{DoxyParamCaption}
)~{\bf rcu\+\_\+dereference\+\_\+protected}(p, {\bf lockdep\+\_\+ovsl\+\_\+is\+\_\+held}())}\label{datapath_8h_a06ef69170d345fd3996a467dcacf3ff3}
\hypertarget{datapath_8h_a5f2a2c1026f970f0052e77f5ebba33d1}{}\index{datapath.\+h@{datapath.\+h}!rcu\+\_\+dereference\+\_\+ovsl@{rcu\+\_\+dereference\+\_\+ovsl}}
\index{rcu\+\_\+dereference\+\_\+ovsl@{rcu\+\_\+dereference\+\_\+ovsl}!datapath.\+h@{datapath.\+h}}
\subsubsection[{rcu\+\_\+dereference\+\_\+ovsl}]{\setlength{\rightskip}{0pt plus 5cm}\#define rcu\+\_\+dereference\+\_\+ovsl(
\begin{DoxyParamCaption}
\item[{}]{p}
\end{DoxyParamCaption}
)~{\bf rcu\+\_\+dereference\+\_\+check}(p, {\bf lockdep\+\_\+ovsl\+\_\+is\+\_\+held}())}\label{datapath_8h_a5f2a2c1026f970f0052e77f5ebba33d1}
\hypertarget{datapath_8h_ad323527e924235c97bf936e4e85dfdba}{}\index{datapath.\+h@{datapath.\+h}!S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H@{S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H}}
\index{S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H@{S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H}!datapath.\+h@{datapath.\+h}}
\subsubsection[{S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+A\+M\+P\+L\+E\+\_\+\+A\+C\+T\+I\+O\+N\+\_\+\+D\+E\+P\+T\+H~3}\label{datapath_8h_ad323527e924235c97bf936e4e85dfdba}


\subsection{Function Documentation}
\hypertarget{datapath_8h_a7dfd1f218e0966ef342251a185866f4d}{}\index{datapath.\+h@{datapath.\+h}!action\+\_\+fifos\+\_\+exit@{action\+\_\+fifos\+\_\+exit}}
\index{action\+\_\+fifos\+\_\+exit@{action\+\_\+fifos\+\_\+exit}!datapath.\+h@{datapath.\+h}}
\subsubsection[{action\+\_\+fifos\+\_\+exit}]{\setlength{\rightskip}{0pt plus 5cm}void action\+\_\+fifos\+\_\+exit (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_a7dfd1f218e0966ef342251a185866f4d}

\begin{DoxyCode}
1016 \{
1017     free\_percpu(\hyperlink{actions_8c_a38c6295376dbb80340f4f1b8e488f223}{action\_fifos});
1018 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a3006f0376c2aecb6525126ad0e9bae25}{}\index{datapath.\+h@{datapath.\+h}!action\+\_\+fifos\+\_\+init@{action\+\_\+fifos\+\_\+init}}
\index{action\+\_\+fifos\+\_\+init@{action\+\_\+fifos\+\_\+init}!datapath.\+h@{datapath.\+h}}
\subsubsection[{action\+\_\+fifos\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}int action\+\_\+fifos\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_a3006f0376c2aecb6525126ad0e9bae25}

\begin{DoxyCode}
1007 \{
1008     \hyperlink{actions_8c_a38c6295376dbb80340f4f1b8e488f223}{action\_fifos} = alloc\_percpu(\textcolor{keyword}{struct} \hyperlink{structaction__fifo}{action\_fifo});
1009     \textcolor{keywordflow}{if} (!\hyperlink{actions_8c_a38c6295376dbb80340f4f1b8e488f223}{action\_fifos})
1010         \textcolor{keywordflow}{return} -ENOMEM;
1011 
1012     \textcolor{keywordflow}{return} 0;
1013 \}
\end{DoxyCode}
\hypertarget{datapath_8h_af781f4768228c53f3319dd2526a1d625}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+detach\+\_\+port@{ovs\+\_\+dp\+\_\+detach\+\_\+port}}
\index{ovs\+\_\+dp\+\_\+detach\+\_\+port@{ovs\+\_\+dp\+\_\+detach\+\_\+port}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+detach\+\_\+port}]{\setlength{\rightskip}{0pt plus 5cm}void ovs\+\_\+dp\+\_\+detach\+\_\+port (
\begin{DoxyParamCaption}
\item[{struct {\bf vport} $\ast$}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_af781f4768228c53f3319dd2526a1d625}

\begin{DoxyCode}
249 \{
250     \hyperlink{datapath_8h_af8d476fa8191790e6f57cad0623f192c}{ASSERT\_OVSL}();
251 
252     \textcolor{comment}{/* First drop references to device. */}
253     hlist\_del\_rcu(&p->dp\_hash\_node);
254 
255     \textcolor{comment}{/* Then destroy it. */}
256     \hyperlink{linux_2vport_8c_ad7676013c642bc044ead47b79eb94075}{ovs\_vport\_del}(p);
257 \}
\end{DoxyCode}
\hypertarget{datapath_8h_aef2302004ca1f45133eaef00bb3740eb}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+get\+\_\+net@{ovs\+\_\+dp\+\_\+get\+\_\+net}}
\index{ovs\+\_\+dp\+\_\+get\+\_\+net@{ovs\+\_\+dp\+\_\+get\+\_\+net}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+get\+\_\+net}]{\setlength{\rightskip}{0pt plus 5cm}static struct net$\ast$ ovs\+\_\+dp\+\_\+get\+\_\+net (
\begin{DoxyParamCaption}
\item[{const struct {\bf datapath} $\ast$}]{dp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{datapath_8h_aef2302004ca1f45133eaef00bb3740eb}

\begin{DoxyCode}
158 \{
159     \textcolor{keywordflow}{return} read\_pnet(&dp->net);
160 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a6a23196916bb5de4994f901bdf1aba2d}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+name@{ovs\+\_\+dp\+\_\+name}}
\index{ovs\+\_\+dp\+\_\+name@{ovs\+\_\+dp\+\_\+name}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ovs\+\_\+dp\+\_\+name (
\begin{DoxyParamCaption}
\item[{const struct {\bf datapath} $\ast$}]{dp}
\end{DoxyParamCaption}
)}\label{datapath_8h_a6a23196916bb5de4994f901bdf1aba2d}

\begin{DoxyCode}
179 \{
180     \textcolor{keyword}{struct }\hyperlink{structvport}{vport} *\hyperlink{structvport}{vport} = \hyperlink{datapath_8h_a33d8540a1f2484576cfa52366828fcfc}{ovs\_vport\_ovsl\_rcu}(dp, 
      \hyperlink{openvswitch_8h_aff2f13b95c27262c520f26831e647598}{OVSP\_LOCAL});
181     \textcolor{keywordflow}{return} vport->\hyperlink{structvport_a5af933fc664c1194ac3bbc337da35586}{ops}->\hyperlink{structvport__ops_abe0c3315271724bf05338487e0ced13c}{get\_name}(vport);
182 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a5d5624a3bb21c222e3a6f18f56ff20b2}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+notify\+\_\+wq@{ovs\+\_\+dp\+\_\+notify\+\_\+wq}}
\index{ovs\+\_\+dp\+\_\+notify\+\_\+wq@{ovs\+\_\+dp\+\_\+notify\+\_\+wq}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+notify\+\_\+wq}]{\setlength{\rightskip}{0pt plus 5cm}void ovs\+\_\+dp\+\_\+notify\+\_\+wq (
\begin{DoxyParamCaption}
\item[{struct work\+\_\+struct $\ast$}]{work}
\end{DoxyParamCaption}
)}\label{datapath_8h_a5d5624a3bb21c222e3a6f18f56ff20b2}

\begin{DoxyCode}
50 \{
51     \textcolor{keyword}{struct }\hyperlink{structovs__net}{ovs\_net} *\hyperlink{structovs__net}{ovs\_net} = container\_of(work, \textcolor{keyword}{struct} ovs\_net, 
      \hyperlink{structovs__net_ac8cdb834420a37531f032e526ac61901}{dp\_notify\_work});
52     \textcolor{keyword}{struct }\hyperlink{structdatapath}{datapath} *dp;
53 
54     \hyperlink{datapath_8c_a092c1f450b78a173c890ed4c56839e1a}{ovs\_lock}();
55     list\_for\_each\_entry(dp, &ovs\_net->\hyperlink{structovs__net_a0490101f7ea82f5c290a92d447bd8f9d}{dps}, \hyperlink{structdatapath_ac5f44be07025a2addb5c393fba822000}{list\_node}) \{
56         \textcolor{keywordtype}{int} i;
57 
58         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{datapath_8h_ac1bf9805d62227b8f76f130087e18018}{DP\_VPORT\_HASH\_BUCKETS}; i++) \{
59             \textcolor{keyword}{struct }\hyperlink{structvport}{vport} *\hyperlink{structvport}{vport};
60             \textcolor{keyword}{struct }hlist\_node *n;
61 
62             \hyperlink{list_8h_ae2f7dd7dbbe2f13fa51aca9fcb31a03f}{hlist\_for\_each\_entry\_safe}(vport, n, &dp->
      \hyperlink{structdatapath_abb0de528545b312de283b571cb6c4ede}{ports}[i], dp\_hash\_node) \{
63                 \textcolor{keyword}{struct }\hyperlink{structnetdev__vport}{netdev\_vport} *\hyperlink{structnetdev__vport}{netdev\_vport};
64 
65                 \textcolor{keywordflow}{if} (vport->\hyperlink{structvport_a5af933fc664c1194ac3bbc337da35586}{ops}->\hyperlink{structvport__ops_a7dd0d3776e78a2885063d3afd5e78148}{type} != \hyperlink{openvswitch_8h_a9a1b861aa99bd83177a2b10b34745b0aa825efa4a45bf501996d8d8fbb83887dd}{OVS\_VPORT\_TYPE\_NETDEV})
66                     \textcolor{keywordflow}{continue};
67 
68                 netdev\_vport = \hyperlink{vport-netdev_8h_a2cb441c6cf067ce3c79cb43836e9fc55}{netdev\_vport\_priv}(vport);
69                 \textcolor{keywordflow}{if} (!(\hyperlink{linux_2vport-netdev_8c_adf074c6126d43c3f7ea008ac19d33112}{ovs\_netdev\_get\_vport}(netdev\_vport->\hyperlink{structnetdev__vport_acf4ee248f7385e2f987fd2736f824ca9}{dev})))
70                     \hyperlink{dp__notify_8c_abfe6aca1ecdf831b014297563fc08731}{dp\_detach\_port\_notify}(vport);
71             \}
72         \}
73     \}
74     \hyperlink{datapath_8c_ac3ccfd98a880ed6d2480209be0d16680}{ovs\_unlock}();
75 \}
\end{DoxyCode}
\hypertarget{datapath_8h_aa52cbaf8a4e68129287bfc8ddcde0711}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+process\+\_\+packet@{ovs\+\_\+dp\+\_\+process\+\_\+packet}}
\index{ovs\+\_\+dp\+\_\+process\+\_\+packet@{ovs\+\_\+dp\+\_\+process\+\_\+packet}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+process\+\_\+packet}]{\setlength{\rightskip}{0pt plus 5cm}void ovs\+\_\+dp\+\_\+process\+\_\+packet (
\begin{DoxyParamCaption}
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{struct {\bf sw\+\_\+flow\+\_\+key} $\ast$}]{key}
\end{DoxyParamCaption}
)}\label{datapath_8h_aa52cbaf8a4e68129287bfc8ddcde0711}

\begin{DoxyCode}
261 \{
262     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structvport}{vport} *p = \hyperlink{datapath_8h_ac337c4d4ddca29916ce8e900038ddd78}{OVS\_CB}(skb)->input\_vport;
263     \textcolor{keyword}{struct }\hyperlink{structdatapath}{datapath} *dp = p->\hyperlink{structvport_a49fb6f6bf0ac4337853e9242e88ddc42}{dp};
264     \textcolor{keyword}{struct }\hyperlink{structsw__flow}{sw\_flow} *flow;
265     \textcolor{keyword}{struct }\hyperlink{structsw__flow__actions}{sw\_flow\_actions} *sf\_acts;
266     \textcolor{keyword}{struct }\hyperlink{structdp__stats__percpu}{dp\_stats\_percpu} *stats;
267     u64 *stats\_counter;
268     u32 \hyperlink{structdp__stats__percpu_acbf57615b1fb66464f9e67efb32bd038}{n\_mask\_hit};
269 
270     stats = \hyperlink{percpu_8h_a1cd55f287dff5c4a79fc11dd38d47c12}{this\_cpu\_ptr}(dp->\hyperlink{structdatapath_a26ff295c711206c8177cdc89150c6a4a}{stats\_percpu});
271 
272     \textcolor{comment}{/* Look up flow. */}
273     flow = \hyperlink{flow__table_8c_ac1ff64b403e23c6e8226b0024969556b}{ovs\_flow\_tbl\_lookup\_stats}(&dp->\hyperlink{structdatapath_ac6d67fe586c19484391acbcfa267259d}{table}, key, 
      \hyperlink{skbuff_8h_acb236314b209f764af9aae7fbbb04311}{skb\_get\_hash}(skb),
274                      &n\_mask\_hit);
275     \textcolor{keywordflow}{if} (unlikely(!flow)) \{
276         \textcolor{keyword}{struct }\hyperlink{structdp__upcall__info}{dp\_upcall\_info} upcall;
277         \textcolor{keywordtype}{int} error;
278 
279         memset(&upcall, 0, \textcolor{keyword}{sizeof}(upcall));
280         upcall.cmd = \hyperlink{openvswitch_8h_a162a763c571debd951c9d2727b0f9bc3ae41f30829d03ed04928e74f82b349f0a}{OVS\_PACKET\_CMD\_MISS};
281         upcall.portid = \hyperlink{linux_2vport_8c_aeee9e742f0a0fbb3bda943eea9e63e56}{ovs\_vport\_find\_upcall\_portid}(p, skb);
282         error = \hyperlink{datapath_8c_a229b5c7d0158ebc24a90f44de0df0040}{ovs\_dp\_upcall}(dp, skb, key, &upcall);
283         \textcolor{keywordflow}{if} (unlikely(error))
284             kfree\_skb(skb);
285         \textcolor{keywordflow}{else}
286             \hyperlink{skbuff_8h_adc460a9e6dccf5557d55bbce8c7adb6a}{consume\_skb}(skb);
287         stats\_counter = &stats->\hyperlink{structdp__stats__percpu_ab919c22c9548a3dcd42632fb84634e26}{n\_missed};
288         \textcolor{keywordflow}{goto} out;
289     \}
290 
291     \hyperlink{flow_8c_ad20885fb9e6da56eb9cb58d139281916}{ovs\_flow\_stats\_update}(flow, key->\hyperlink{structsw__flow__key_a9c1944a39db1bf91141048df6d85ce8b}{tp}.\hyperlink{structsw__flow__key_a910f5e4408d113dbc9211190b44e0880}{flags}, skb);
292     sf\_acts = rcu\_dereference(flow->\hyperlink{structsw__flow_aa845bdaabc25d81dcf8b1a7519b35408}{sf\_acts});
293     \hyperlink{actions_8c_a5b34c1980d155574d657a21cac3bcc37}{ovs\_execute\_actions}(dp, skb, sf\_acts, key);
294 
295     stats\_counter = &stats->\hyperlink{structdp__stats__percpu_add53281b86504a50626cce7fac173d5b}{n\_hit};
296 
297 out:
298     \textcolor{comment}{/* Update datapath statistics. */}
299     \hyperlink{u64__stats__sync_8h_a79de6de9a2c8c4e1c98d78e5689b74f7}{u64\_stats\_update\_begin}(&stats->\hyperlink{structdp__stats__percpu_ad67971f59f6db5432848db23d185dc2f}{syncp});
300     (*stats\_counter)++;
301     stats->\hyperlink{structdp__stats__percpu_acbf57615b1fb66464f9e67efb32bd038}{n\_mask\_hit} += n\_mask\_hit;
302     \hyperlink{u64__stats__sync_8h_a4005b558b0a34d25298936e8d899e980}{u64\_stats\_update\_end}(&stats->\hyperlink{structdp__stats__percpu_ad67971f59f6db5432848db23d185dc2f}{syncp});
303 \}
\end{DoxyCode}
\hypertarget{datapath_8h_af2973d12bb9f33d8e86d2fcad4dc7319}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+set\+\_\+net@{ovs\+\_\+dp\+\_\+set\+\_\+net}}
\index{ovs\+\_\+dp\+\_\+set\+\_\+net@{ovs\+\_\+dp\+\_\+set\+\_\+net}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+set\+\_\+net}]{\setlength{\rightskip}{0pt plus 5cm}static void ovs\+\_\+dp\+\_\+set\+\_\+net (
\begin{DoxyParamCaption}
\item[{struct {\bf datapath} $\ast$}]{dp, }
\item[{struct net $\ast$}]{net}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}\label{datapath_8h_af2973d12bb9f33d8e86d2fcad4dc7319}

\begin{DoxyCode}
163 \{
164     write\_pnet(&dp->net, net);
165 \}
\end{DoxyCode}
\hypertarget{datapath_8h_aa97839171ab77e6823ee8283f166e19e}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+upcall@{ovs\+\_\+dp\+\_\+upcall}}
\index{ovs\+\_\+dp\+\_\+upcall@{ovs\+\_\+dp\+\_\+upcall}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+upcall}]{\setlength{\rightskip}{0pt plus 5cm}int ovs\+\_\+dp\+\_\+upcall (
\begin{DoxyParamCaption}
\item[{struct {\bf datapath} $\ast$}]{, }
\item[{struct sk\+\_\+buff $\ast$}]{, }
\item[{const struct {\bf sw\+\_\+flow\+\_\+key} $\ast$}]{, }
\item[{const struct {\bf dp\+\_\+upcall\+\_\+info} $\ast$}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_aa97839171ab77e6823ee8283f166e19e}

\begin{DoxyCode}
308 \{
309     \textcolor{keyword}{struct }\hyperlink{structdp__stats__percpu}{dp\_stats\_percpu} *stats;
310     \textcolor{keywordtype}{int} err;
311 
312     \textcolor{keywordflow}{if} (upcall\_info->portid == 0) \{
313         err = -ENOTCONN;
314         \textcolor{keywordflow}{goto} err;
315     \}
316 
317     \textcolor{keywordflow}{if} (!skb\_is\_gso(skb))
318         err = \hyperlink{datapath_8c_a549c591fae56562523f243abbe4a1e3e}{queue\_userspace\_packet}(dp, skb, key, upcall\_info);
319     \textcolor{keywordflow}{else}
320         err = \hyperlink{datapath_8c_a2c10ba8a23a8cb2f14b7f7684e5ebb5d}{queue\_gso\_packets}(dp, skb, key, upcall\_info);
321     \textcolor{keywordflow}{if} (err)
322         \textcolor{keywordflow}{goto} err;
323 
324     \textcolor{keywordflow}{return} 0;
325 
326 err:
327     stats = \hyperlink{percpu_8h_a1cd55f287dff5c4a79fc11dd38d47c12}{this\_cpu\_ptr}(dp->stats\_percpu);
328 
329     \hyperlink{u64__stats__sync_8h_a79de6de9a2c8c4e1c98d78e5689b74f7}{u64\_stats\_update\_begin}(&stats->\hyperlink{structdp__stats__percpu_ad67971f59f6db5432848db23d185dc2f}{syncp});
330     stats->\hyperlink{structdp__stats__percpu_abecbd535feefeb9ff1721ca6e517c310}{n\_lost}++;
331     \hyperlink{u64__stats__sync_8h_a4005b558b0a34d25298936e8d899e980}{u64\_stats\_update\_end}(&stats->\hyperlink{structdp__stats__percpu_ad67971f59f6db5432848db23d185dc2f}{syncp});
332 
333     \textcolor{keywordflow}{return} err;
334 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a340ea4456673ed4deaf3bae36d9fc1b1}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+execute\+\_\+actions@{ovs\+\_\+execute\+\_\+actions}}
\index{ovs\+\_\+execute\+\_\+actions@{ovs\+\_\+execute\+\_\+actions}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+execute\+\_\+actions}]{\setlength{\rightskip}{0pt plus 5cm}int ovs\+\_\+execute\+\_\+actions (
\begin{DoxyParamCaption}
\item[{struct {\bf datapath} $\ast$}]{dp, }
\item[{struct sk\+\_\+buff $\ast$}]{skb, }
\item[{const struct {\bf sw\+\_\+flow\+\_\+actions} $\ast$}]{, }
\item[{struct {\bf sw\+\_\+flow\+\_\+key} $\ast$}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_a340ea4456673ed4deaf3bae36d9fc1b1}

\begin{DoxyCode}
977 \{
978     \textcolor{keywordtype}{int} level = \hyperlink{percpu_8h_a15341bef54ee4dd9fcc2d811bb11d39d}{this\_cpu\_read}(exec\_actions\_level);
979     \textcolor{keywordtype}{int} err;
980 
981     \textcolor{keywordflow}{if} (unlikely(level >= \hyperlink{actions_8c_aef2488868338b5c1ec4419f0efde93f1}{EXEC\_ACTIONS\_LEVEL\_LIMIT})) \{
982         \textcolor{keywordflow}{if} (net\_ratelimit())
983             pr\_warn(\textcolor{stringliteral}{"%s: packet loop detected, dropping.\(\backslash\)n"},
984                 \hyperlink{datapath_8c_a6a23196916bb5de4994f901bdf1aba2d}{ovs\_dp\_name}(dp));
985 
986         kfree\_skb(skb);
987         \textcolor{keywordflow}{return} -ELOOP;
988     \}
989 
990     \hyperlink{percpu_8h_a8999ff6f1c86c39d81e8b2388d8056ac}{this\_cpu\_inc}(exec\_actions\_level);
991     err = \hyperlink{actions_8c_ad41a07588c602d50a247bcf2bf9ae9d5}{do\_execute\_actions}(dp, skb, key,
992                  acts->actions, acts->actions\_len);
993 
994     \textcolor{keywordflow}{if} (!level)
995         \hyperlink{actions_8c_afa871a96ea915a7ce87b96a0b7b30538}{process\_deferred\_actions}(dp);
996 
997     \hyperlink{percpu_8h_a3949346d789a1c87ab4bc81744bc3fad}{this\_cpu\_dec}(exec\_actions\_level);
998 
999     \textcolor{comment}{/* This return status currently does not reflect the errors}
1000 \textcolor{comment}{     * encounted during deferred actions execution. Probably needs to}
1001 \textcolor{comment}{     * be fixed in the future.}
1002 \textcolor{comment}{     */}
1003     \textcolor{keywordflow}{return} err;
1004 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a092c1f450b78a173c890ed4c56839e1a}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+lock@{ovs\+\_\+lock}}
\index{ovs\+\_\+lock@{ovs\+\_\+lock}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+lock}]{\setlength{\rightskip}{0pt plus 5cm}void ovs\+\_\+lock (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_a092c1f450b78a173c890ed4c56839e1a}

\begin{DoxyCode}
121 \{
122     mutex\_lock(&ovs\_mutex);
123 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a0a9ec01692e1fdcb15a9a294d3789af0}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+lookup\+\_\+vport@{ovs\+\_\+lookup\+\_\+vport}}
\index{ovs\+\_\+lookup\+\_\+vport@{ovs\+\_\+lookup\+\_\+vport}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+lookup\+\_\+vport}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf vport}$\ast$ ovs\+\_\+lookup\+\_\+vport (
\begin{DoxyParamCaption}
\item[{const struct {\bf datapath} $\ast$}]{dp, }
\item[{u16}]{port\+\_\+no}
\end{DoxyParamCaption}
)}\label{datapath_8h_a0a9ec01692e1fdcb15a9a294d3789af0}

\begin{DoxyCode}
221 \{
222     \textcolor{keyword}{struct }\hyperlink{structvport}{vport} *\hyperlink{structvport}{vport};
223     \textcolor{keyword}{struct }hlist\_head *head;
224 
225     head = \hyperlink{datapath_8c_af291a723340e4e1bd38b4b14e7f4377a}{vport\_hash\_bucket}(dp, port\_no);
226     \hyperlink{rculist_8h_a482ed6bca0b607f6455d5386f3b1ed75}{hlist\_for\_each\_entry\_rcu}(vport, head, dp\_hash\_node) \{
227         \textcolor{keywordflow}{if} (vport->\hyperlink{structvport_aae00fc5d12b47f02cbfd4f67ae114b58}{port\_no} == port\_no)
228             \textcolor{keywordflow}{return} vport;
229     \}
230     \textcolor{keywordflow}{return} NULL;
231 \}
\end{DoxyCode}
\hypertarget{datapath_8h_ac3ccfd98a880ed6d2480209be0d16680}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+unlock@{ovs\+\_\+unlock}}
\index{ovs\+\_\+unlock@{ovs\+\_\+unlock}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+unlock}]{\setlength{\rightskip}{0pt plus 5cm}void ovs\+\_\+unlock (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{datapath_8h_ac3ccfd98a880ed6d2480209be0d16680}

\begin{DoxyCode}
126 \{
127     mutex\_unlock(&ovs\_mutex);
128 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a15944602a340ff7fc6df155626c56428}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info@{ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info}}
\index{ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info@{ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info}]{\setlength{\rightskip}{0pt plus 5cm}struct sk\+\_\+buff$\ast$ ovs\+\_\+vport\+\_\+cmd\+\_\+build\+\_\+info (
\begin{DoxyParamCaption}
\item[{struct {\bf vport} $\ast$}]{, }
\item[{u32}]{pid, }
\item[{u32}]{seq, }
\item[{u8}]{cmd}
\end{DoxyParamCaption}
)}\label{datapath_8h_a15944602a340ff7fc6df155626c56428}

\begin{DoxyCode}
1848 \{
1849     \textcolor{keyword}{struct }sk\_buff *skb;
1850     \textcolor{keywordtype}{int} retval;
1851 
1852     skb = nlmsg\_new(\hyperlink{linux_2netlink_8h_a5098e3f66b13a5c9ad78eeffe65e6868}{NLMSG\_DEFAULT\_SIZE}, GFP\_ATOMIC);
1853     \textcolor{keywordflow}{if} (!skb)
1854         \textcolor{keywordflow}{return} ERR\_PTR(-ENOMEM);
1855 
1856     retval = \hyperlink{datapath_8c_a4272403de9a985cea17181e99b7a7edc}{ovs\_vport\_cmd\_fill\_info}(\hyperlink{structvport}{vport}, skb, portid, seq, 0, cmd);
1857     BUG\_ON(retval < 0);
1858 
1859     \textcolor{keywordflow}{return} skb;
1860 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a422576bd4b943e9df313ba73f6c624e1}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+vport\+\_\+ovsl@{ovs\+\_\+vport\+\_\+ovsl}}
\index{ovs\+\_\+vport\+\_\+ovsl@{ovs\+\_\+vport\+\_\+ovsl}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+vport\+\_\+ovsl}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf vport}$\ast$ ovs\+\_\+vport\+\_\+ovsl (
\begin{DoxyParamCaption}
\item[{const struct {\bf datapath} $\ast$}]{dp, }
\item[{int}]{port\+\_\+no}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{datapath_8h_a422576bd4b943e9df313ba73f6c624e1}

\begin{DoxyCode}
182 \{
183     \hyperlink{datapath_8h_af8d476fa8191790e6f57cad0623f192c}{ASSERT\_OVSL}();
184     \textcolor{keywordflow}{return} \hyperlink{datapath_8h_a0a9ec01692e1fdcb15a9a294d3789af0}{ovs\_lookup\_vport}(dp, port\_no);
185 \}
\end{DoxyCode}
\hypertarget{datapath_8h_a33d8540a1f2484576cfa52366828fcfc}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu@{ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu}}
\index{ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu@{ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf vport}$\ast$ ovs\+\_\+vport\+\_\+ovsl\+\_\+rcu (
\begin{DoxyParamCaption}
\item[{const struct {\bf datapath} $\ast$}]{dp, }
\item[{int}]{port\+\_\+no}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{datapath_8h_a33d8540a1f2484576cfa52366828fcfc}

\begin{DoxyCode}
176 \{
177     WARN\_ON\_ONCE(!\hyperlink{rcupdate_8h_ab77c80b5efea34ea99ec24a4f532eb9b}{rcu\_read\_lock\_held}() && !
      \hyperlink{datapath_8h_a54d3f44a7dda58b44208095ce4b2c0ee}{lockdep\_ovsl\_is\_held}());
178     \textcolor{keywordflow}{return} \hyperlink{datapath_8h_a0a9ec01692e1fdcb15a9a294d3789af0}{ovs\_lookup\_vport}(dp, port\_no);
179 \}
\end{DoxyCode}
\hypertarget{datapath_8h_ac6f3c37a7850774112c03c6e88d89dc0}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+vport\+\_\+rcu@{ovs\+\_\+vport\+\_\+rcu}}
\index{ovs\+\_\+vport\+\_\+rcu@{ovs\+\_\+vport\+\_\+rcu}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+vport\+\_\+rcu}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf vport}$\ast$ ovs\+\_\+vport\+\_\+rcu (
\begin{DoxyParamCaption}
\item[{const struct {\bf datapath} $\ast$}]{dp, }
\item[{int}]{port\+\_\+no}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{datapath_8h_ac6f3c37a7850774112c03c6e88d89dc0}

\begin{DoxyCode}
170 \{
171     WARN\_ON\_ONCE(!\hyperlink{rcupdate_8h_ab77c80b5efea34ea99ec24a4f532eb9b}{rcu\_read\_lock\_held}());
172     \textcolor{keywordflow}{return} \hyperlink{datapath_8h_a0a9ec01692e1fdcb15a9a294d3789af0}{ovs\_lookup\_vport}(dp, port\_no);
173 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{datapath_8h_a69bf55f33e234bc4b78e6eeee1d603fd}{}\index{datapath.\+h@{datapath.\+h}!dp\+\_\+vport\+\_\+genl\+\_\+family@{dp\+\_\+vport\+\_\+genl\+\_\+family}}
\index{dp\+\_\+vport\+\_\+genl\+\_\+family@{dp\+\_\+vport\+\_\+genl\+\_\+family}!datapath.\+h@{datapath.\+h}}
\subsubsection[{dp\+\_\+vport\+\_\+genl\+\_\+family}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf genl\+\_\+family} dp\+\_\+vport\+\_\+genl\+\_\+family}\label{datapath_8h_a69bf55f33e234bc4b78e6eeee1d603fd}
\hypertarget{datapath_8h_ab34ba4d6c1125efcec9480356f3393e6}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+device\+\_\+notifier@{ovs\+\_\+dp\+\_\+device\+\_\+notifier}}
\index{ovs\+\_\+dp\+\_\+device\+\_\+notifier@{ovs\+\_\+dp\+\_\+device\+\_\+notifier}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+device\+\_\+notifier}]{\setlength{\rightskip}{0pt plus 5cm}struct notifier\+\_\+block ovs\+\_\+dp\+\_\+device\+\_\+notifier}\label{datapath_8h_ab34ba4d6c1125efcec9480356f3393e6}
\hypertarget{datapath_8h_a9dd8d4307b50fdee582eb4013d89eb7b}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group@{ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group}}
\index{ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group@{ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group}]{\setlength{\rightskip}{0pt plus 5cm}struct genl\+\_\+multicast\+\_\+group ovs\+\_\+dp\+\_\+vport\+\_\+multicast\+\_\+group}\label{datapath_8h_a9dd8d4307b50fdee582eb4013d89eb7b}
\hypertarget{datapath_8h_ace140298dc2b59b3d77d59c0a210de29}{}\index{datapath.\+h@{datapath.\+h}!ovs\+\_\+net\+\_\+id@{ovs\+\_\+net\+\_\+id}}
\index{ovs\+\_\+net\+\_\+id@{ovs\+\_\+net\+\_\+id}!datapath.\+h@{datapath.\+h}}
\subsubsection[{ovs\+\_\+net\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}int ovs\+\_\+net\+\_\+id}\label{datapath_8h_ace140298dc2b59b3d77d59c0a210de29}
