<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs datapath: /home/vladn/git/ovs/datapath/vport-vxlan.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs datapath
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vport-vxlan_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">vport-vxlan.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/version.h&gt;</code><br />
<code>#include &lt;<a class="el" href="in_8h_source.html">linux/in.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="linux_2ip_8h_source.html">linux/ip.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_8h_source.html">linux/net.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rculist_8h_source.html">linux/rculist.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="linux_2udp_8h_source.html">linux/udp.h</a>&gt;</code><br />
<code>#include &lt;linux/module.h&gt;</code><br />
<code>#include &lt;net/icmp.h&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2ip_8h_source.html">net/ip.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2udp_8h_source.html">net/udp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ip__tunnels_8h_source.html">net/ip_tunnels.h</a>&gt;</code><br />
<code>#include &lt;net/rtnetlink.h&gt;</code><br />
<code>#include &lt;net/route.h&gt;</code><br />
<code>#include &lt;net/dsfield.h&gt;</code><br />
<code>#include &lt;net/inet_ecn.h&gt;</code><br />
<code>#include &lt;<a class="el" href="net__namespace_8h_source.html">net/net_namespace.h</a>&gt;</code><br />
<code>#include &lt;net/netns/generic.h&gt;</code><br />
<code>#include &lt;<a class="el" href="vxlan_8h_source.html">net/vxlan.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="datapath_8h_source.html">datapath.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vport_8h_source.html">vport.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vport-vxlan_8h_source.html">vport-vxlan.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vport-vxlan.c:</div>
<div class="dyncontent">
<div class="center"><img src="vport-vxlan_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2datapath_2vport-vxlan_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2datapath_2vport-vxlan_8c" id="_2home_2vladn_2git_2ovs_2datapath_2vport-vxlan_8c">
<area shape="rect" id="node3" href="in_8h.html" title="linux/in.h" alt="" coords="2659,244,2734,271"/><area shape="rect" id="node5" href="linux_2ip_8h.html" title="linux/ip.h" alt="" coords="1762,169,1837,196"/><area shape="rect" id="node10" href="net_8h.html" title="linux/net.h" alt="" coords="2714,393,2797,420"/><area shape="rect" id="node11" href="rculist_8h.html" title="linux/rculist.h" alt="" coords="2829,95,2927,121"/><area shape="rect" id="node12" href="linux_2udp_8h.html" title="linux/udp.h" alt="" coords="526,244,611,271"/><area shape="rect" id="node14" href="net_2ip_8h.html" title="net/ip.h" alt="" coords="5,169,71,196"/><area shape="rect" id="node15" href="net_2udp_8h.html" title="net/udp.h" alt="" coords="64,393,140,420"/><area shape="rect" id="node16" href="ip__tunnels_8h.html" title="net/ip_tunnels.h" alt="" coords="317,319,431,345"/><area shape="rect" id="node21" href="net__namespace_8h.html" title="net/net_namespace.h" alt="" coords="3301,95,3447,121"/><area shape="rect" id="node23" href="vxlan_8h.html" title="net/vxlan.h" alt="" coords="500,169,587,196"/><area shape="rect" id="node29" href="datapath_8h.html" title="datapath.h" alt="" coords="1317,95,1399,121"/><area shape="rect" id="node46" href="vport_8h.html" title="vport.h" alt="" coords="1216,244,1279,271"/><area shape="rect" id="node50" href="vport-vxlan_8h.html" title="vport&#45;vxlan.h" alt="" coords="2036,244,2133,271"/><area shape="rect" id="node6" href="skbuff_8h.html" title="linux/skbuff.h" alt="" coords="1216,393,1316,420"/><area shape="rect" id="node7" href="types_8h.html" title="linux/types.h" alt="" coords="2037,468,2133,495"/><area shape="rect" id="node24" href="netdevice_8h.html" title="linux/netdevice.h" alt="" coords="763,244,883,271"/><area shape="rect" id="node28" href="gre_8h.html" title="net/gre.h" alt="" coords="396,244,469,271"/><area shape="rect" id="node26" href="u64__stats__sync_8h.html" title="linux/u64_stats_sync.h" alt="" coords="777,319,933,345"/><area shape="rect" id="node31" href="kernel_8h.html" title="linux/kernel.h" alt="" coords="1893,319,1991,345"/><area shape="rect" id="node34" href="compat_8h.html" title="compat.h" alt="" coords="2337,169,2413,196"/><area shape="rect" id="node38" href="flow_8h.html" title="flow.h" alt="" coords="1751,244,1808,271"/><area shape="rect" id="node44" href="flow__table_8h.html" title="flow_table.h" alt="" coords="1861,169,1953,196"/><area shape="rect" id="node45" href="vlan_8h.html" title="vlan.h" alt="" coords="456,319,513,345"/><area shape="rect" id="node36" href="linux_2netlink_8h.html" title="linux/netlink.h" alt="" coords="1592,319,1695,345"/><area shape="rect" id="node40" href="openvswitch_8h.html" title="linux/openvswitch.h" alt="" coords="2016,319,2153,345"/><area shape="rect" id="node41" href="if__ether_8h.html" title="linux/if_ether.h" alt="" coords="2138,393,2245,420"/><area shape="rect" id="node43" href="rcupdate_8h.html" title="linux/rcupdate.h" alt="" coords="2229,319,2343,345"/><area shape="rect" id="node48" href="list_8h.html" title="linux/list.h" alt="" coords="1147,319,1228,345"/><area shape="rect" id="node49" href="reciprocal__div_8h.html" title="linux/reciprocal_div.h" alt="" coords="1533,393,1677,420"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvxlan__port.html">vxlan_port</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
: vport name.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp11b33af0c85e2c8a3c03b696f666e431"></a>struct <a class="el" href="structvxlan__port.html">vxlan_port</a> - Keeps track of open UDP ports : <a class="el" href="structvxlan__sock.html">vxlan_sock</a> created for the port. </p>
</td></tr>
<tr class="memitem:a14100e1b742c7bb52f41541582330814"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvport__ops.html">vport_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a></td></tr>
<tr class="separator:a14100e1b742c7bb52f41541582330814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bca1dc2eb9e18c687ef067cae154b8b"><td class="memItemLeft" align="right" valign="top">static const struct nla_policy&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a8bca1dc2eb9e18c687ef067cae154b8b">exts_policy</a> [<a class="el" href="openvswitch_8h.html#ac764e78fe2e06d11f39448e337292c7c">OVS_VXLAN_EXT_MAX</a>+1]</td></tr>
<tr class="separator:a8bca1dc2eb9e18c687ef067cae154b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19470f9c73474113f37dc3c65265294"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvxlan__port.html">vxlan_port</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:ab19470f9c73474113f37dc3c65265294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b39f553c071625dac0570f97ef7924a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a0b39f553c071625dac0570f97ef7924a">vxlan_rcv</a> (struct <a class="el" href="structvxlan__sock.html">vxlan_sock</a> *vs, struct sk_buff *skb, struct <a class="el" href="structvxlan__metadata.html">vxlan_metadata</a> *md)</td></tr>
<tr class="separator:a0b39f553c071625dac0570f97ef7924a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ef73121a1de8be6425c76ea97fc3da"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a50ef73121a1de8be6425c76ea97fc3da">vxlan_get_options</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb)</td></tr>
<tr class="separator:a50ef73121a1de8be6425c76ea97fc3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade4bb74066fe5f4ab11820ab7c90485"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#aade4bb74066fe5f4ab11820ab7c90485">vxlan_tnl_destroy</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:aade4bb74066fe5f4ab11820ab7c90485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c323f01bc67db23967f87810a23939b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a1c323f01bc67db23967f87810a23939b">vxlan_configure_exts</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct nlattr *attr)</td></tr>
<tr class="separator:a1c323f01bc67db23967f87810a23939b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15944f1b89ca72bfaf953d278bf09ca7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvport.html">vport</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a15944f1b89ca72bfaf953d278bf09ca7">vxlan_tnl_create</a> (const struct <a class="el" href="structvport__parms.html">vport_parms</a> *parms)</td></tr>
<tr class="separator:a15944f1b89ca72bfaf953d278bf09ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20eca97b66cc1631237638ba80d3f6f4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a20eca97b66cc1631237638ba80d3f6f4">vxlan_ext_gbp</a> (struct sk_buff *skb)</td></tr>
<tr class="separator:a20eca97b66cc1631237638ba80d3f6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f79b05ea9b700c041b3aff7361e707f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a3f79b05ea9b700c041b3aff7361e707f">vxlan_tnl_send</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb)</td></tr>
<tr class="separator:a3f79b05ea9b700c041b3aff7361e707f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24930f1f6ecb4c221d189f13253a5feb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a24930f1f6ecb4c221d189f13253a5feb">vxlan_get_egress_tun_info</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb, struct <a class="el" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *egress_tun_info)</td></tr>
<tr class="separator:a24930f1f6ecb4c221d189f13253a5feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4bc3ac94b12c027f1c2148fae55d61"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a8c4bc3ac94b12c027f1c2148fae55d61">vxlan_get_name</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a8c4bc3ac94b12c027f1c2148fae55d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1c84a2865e1fdf35836751a795916c"><td class="memItemLeft" align="right" valign="top">static int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a1c1c84a2865e1fdf35836751a795916c">ovs_vxlan_tnl_init</a> (void)</td></tr>
<tr class="separator:a1c1c84a2865e1fdf35836751a795916c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93fd41de4d7cb36dccd5e2c57310ef71"><td class="memItemLeft" align="right" valign="top">static void __exit&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a93fd41de4d7cb36dccd5e2c57310ef71">ovs_vxlan_tnl_exit</a> (void)</td></tr>
<tr class="separator:a93fd41de4d7cb36dccd5e2c57310ef71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ade2284afa4864170856c68e08907e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a32ade2284afa4864170856c68e08907e">module_init</a> (<a class="el" href="vport-vxlan_8c.html#a1c1c84a2865e1fdf35836751a795916c">ovs_vxlan_tnl_init</a>)</td></tr>
<tr class="separator:a32ade2284afa4864170856c68e08907e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfe49db4b9b9e976d671d08c1bbf052f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#acfe49db4b9b9e976d671d08c1bbf052f">module_exit</a> (<a class="el" href="vport-vxlan_8c.html#a93fd41de4d7cb36dccd5e2c57310ef71">ovs_vxlan_tnl_exit</a>)</td></tr>
<tr class="separator:acfe49db4b9b9e976d671d08c1bbf052f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4652622a726ee59702be21c375bcd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#a8c4652622a726ee59702be21c375bcd1">MODULE_DESCRIPTION</a> (&quot;OVS: VXLAN switching port&quot;)</td></tr>
<tr class="separator:a8c4652622a726ee59702be21c375bcd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94b36675e7eb067ea3ce6ff9e244a44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr class="separator:ad94b36675e7eb067ea3ce6ff9e244a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e081f4770ba9f49ea55358f08183b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vport-vxlan_8c.html#ad0e081f4770ba9f49ea55358f08183b1">MODULE_ALIAS</a> (&quot;vport-<a class="el" href="flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>-4&quot;)</td></tr>
<tr class="separator:ad0e081f4770ba9f49ea55358f08183b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1f8c165bf4196327bc3abff648276d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad0e081f4770ba9f49ea55358f08183b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_ALIAS </td>
          <td>(</td>
          <td class="paramtype">&quot;vport-<a class="el" href="flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>-4&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c4652622a726ee59702be21c375bcd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;OVS: VXLAN switching port&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acfe49db4b9b9e976d671d08c1bbf052f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vport-vxlan_8c.html#a93fd41de4d7cb36dccd5e2c57310ef71">ovs_vxlan_tnl_exit</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a32ade2284afa4864170856c68e08907e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vport-vxlan_8c.html#a1c1c84a2865e1fdf35836751a795916c">ovs_vxlan_tnl_init</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a93fd41de4d7cb36dccd5e2c57310ef71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit ovs_vxlan_tnl_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="linux_2vport_8c.html#a8659a5c436f2b09d0b6be2c208ee790e">ovs_vport_ops_unregister</a>(&amp;<a class="code" href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="ttc" id="linux_2vport_8c_html_a8659a5c436f2b09d0b6be2c208ee790e"><div class="ttname"><a href="linux_2vport_8c.html#a8659a5c436f2b09d0b6be2c208ee790e">ovs_vport_ops_unregister</a></div><div class="ttdeci">void ovs_vport_ops_unregister(struct vport_ops *ops)</div><div class="ttdef"><b>Definition:</b> vport.c:98</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a14100e1b742c7bb52f41541582330814"><div class="ttname"><a href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_vxlan_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c1c84a2865e1fdf35836751a795916c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __init ovs_vxlan_tnl_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="linux_2vport_8c.html#a6b6d24642324a66b7bacab2909bea2dc">ovs_vport_ops_register</a>(&amp;<a class="code" href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="ttc" id="linux_2vport_8c_html_a6b6d24642324a66b7bacab2909bea2dc"><div class="ttname"><a href="linux_2vport_8c.html#a6b6d24642324a66b7bacab2909bea2dc">ovs_vport_ops_register</a></div><div class="ttdeci">int ovs_vport_ops_register(struct vport_ops *ops)</div><div class="ttdef"><b>Definition:</b> vport.c:80</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a14100e1b742c7bb52f41541582330814"><div class="ttname"><a href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_vxlan_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c323f01bc67db23967f87810a23939b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vxlan_configure_exts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nlattr *&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">struct </span>nlattr *exts[<a class="code" href="openvswitch_8h.html#ac764e78fe2e06d11f39448e337292c7c">OVS_VXLAN_EXT_MAX</a>+1];</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (nla_len(attr) &lt; <span class="keyword">sizeof</span>(<span class="keyword">struct</span> nlattr))</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    err = nla_parse_nested(exts, <a class="code" href="openvswitch_8h.html#ac764e78fe2e06d11f39448e337292c7c">OVS_VXLAN_EXT_MAX</a>, attr, <a class="code" href="vport-vxlan_8c.html#a8bca1dc2eb9e18c687ef067cae154b8b">exts_policy</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    vxlan_port = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (exts[<a class="code" href="openvswitch_8h.html#a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1">OVS_VXLAN_EXT_GBP</a>])</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">exts</a> |= <a class="code" href="vxlan_8h.html#a8331ae965f1a780ef26d2adc7ddb9fec">VXLAN_F_GBP</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="structvxlan__port_html_a4c4814fa8ff2517ef89920c98c1d66ba"><div class="ttname"><a href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">vxlan_port::exts</a></div><div class="ttdeci">u32 exts</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:55</div></div>
<div class="ttc" id="vxlan_8h_html_a8331ae965f1a780ef26d2adc7ddb9fec"><div class="ttname"><a href="vxlan_8h.html#a8331ae965f1a780ef26d2adc7ddb9fec">VXLAN_F_GBP</a></div><div class="ttdeci">#define VXLAN_F_GBP</div><div class="ttdef"><b>Definition:</b> vxlan.h:79</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a8bca1dc2eb9e18c687ef067cae154b8b"><div class="ttname"><a href="vport-vxlan_8c.html#a8bca1dc2eb9e18c687ef067cae154b8b">exts_policy</a></div><div class="ttdeci">static const struct nla_policy exts_policy[OVS_VXLAN_EXT_MAX+1]</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:127</div></div>
<div class="ttc" id="openvswitch_8h_html_ac764e78fe2e06d11f39448e337292c7c"><div class="ttname"><a href="openvswitch_8h.html#ac764e78fe2e06d11f39448e337292c7c">OVS_VXLAN_EXT_MAX</a></div><div class="ttdeci">#define OVS_VXLAN_EXT_MAX</div><div class="ttdef"><b>Definition:</b> openvswitch.h:289</div></div>
<div class="ttc" id="openvswitch_8h_html_a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1"><div class="ttname"><a href="openvswitch_8h.html#a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1">OVS_VXLAN_EXT_GBP</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:285</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20eca97b66cc1631237638ba80d3f6f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vxlan_ext_gbp </td>
          <td>(</td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *tun_info;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structovs__vxlan__opts.html">ovs_vxlan_opts</a> *opts;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    tun_info = <a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    opts = tun_info-&gt;<a class="code" href="structovs__tunnel__info.html#ae4fd786894f579a38a5955e7a0e68fd4">options</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (tun_info-&gt;<a class="code" href="structovs__tunnel__info.html#a007f0c7a9938884e6e8663cb4ab20d10">tunnel</a>.<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#a50cd9036253f584996011f418422a53f">TUNNEL_VXLAN_OPT</a> &amp;&amp;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        tun_info-&gt;<a class="code" href="structovs__tunnel__info.html#ab50d289f61727b922831739affb28b18">options_len</a> &gt;= <span class="keyword">sizeof</span>(*opts))</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">return</span> opts-&gt;<a class="code" href="structovs__vxlan__opts.html#a9b035f7870829fa9116ca074ef1ac2b4">gbp</a>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="ttc" id="structovs__tunnel__info_html"><div class="ttname"><a href="structovs__tunnel__info.html">ovs_tunnel_info</a></div><div class="ttdef"><b>Definition:</b> flow.h:54</div></div>
<div class="ttc" id="structovs__tunnel__info_html_ae4fd786894f579a38a5955e7a0e68fd4"><div class="ttname"><a href="structovs__tunnel__info.html#ae4fd786894f579a38a5955e7a0e68fd4">ovs_tunnel_info::options</a></div><div class="ttdeci">const void * options</div><div class="ttdef"><b>Definition:</b> flow.h:56</div></div>
<div class="ttc" id="structovs__vxlan__opts_html"><div class="ttname"><a href="structovs__vxlan__opts.html">ovs_vxlan_opts</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.h:7</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a50cd9036253f584996011f418422a53f"><div class="ttname"><a href="ip__tunnels_8h.html#a50cd9036253f584996011f418422a53f">TUNNEL_VXLAN_OPT</a></div><div class="ttdeci">#define TUNNEL_VXLAN_OPT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:76</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a7459e66ecf90329eb2fa6cf3fc4781db"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">ovs_key_ipv4_tunnel::tun_flags</a></div><div class="ttdeci">__be16 tun_flags</div><div class="ttdef"><b>Definition:</b> flow.h:47</div></div>
<div class="ttc" id="structovs__tunnel__info_html_a007f0c7a9938884e6e8663cb4ab20d10"><div class="ttname"><a href="structovs__tunnel__info.html#a007f0c7a9938884e6e8663cb4ab20d10">ovs_tunnel_info::tunnel</a></div><div class="ttdeci">struct ovs_key_ipv4_tunnel tunnel</div><div class="ttdef"><b>Definition:</b> flow.h:55</div></div>
<div class="ttc" id="structovs__vxlan__opts_html_a9b035f7870829fa9116ca074ef1ac2b4"><div class="ttname"><a href="structovs__vxlan__opts.html#a9b035f7870829fa9116ca074ef1ac2b4">ovs_vxlan_opts::gbp</a></div><div class="ttdeci">__u32 gbp</div><div class="ttdef"><b>Definition:</b> vport-vxlan.h:8</div></div>
<div class="ttc" id="structovs__tunnel__info_html_ab50d289f61727b922831739affb28b18"><div class="ttname"><a href="structovs__tunnel__info.html#ab50d289f61727b922831739affb28b18">ovs_tunnel_info::options_len</a></div><div class="ttdeci">u8 options_len</div><div class="ttdef"><b>Definition:</b> flow.h:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24930f1f6ecb4c221d189f13253a5feb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vxlan_get_egress_tun_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *&#160;</td>
          <td class="paramname"><em>egress_tun_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a> = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    __be16 dst_port = <a class="code" href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a>(vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vs</a>-&gt;<a class="code" href="structvxlan__sock.html#a75f35ac3f5f8e0340b2bdc247a84c322">sock</a>-&gt;sk);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    __be16 src_port;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    src_port = <a class="code" href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a>(net, skb, 0, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="linux_2vport_8c.html#ac5b64ee0badeb969348aae464fdc4c8d">ovs_tunnel_get_egress_info</a>(egress_tun_info, net,</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                      <a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info,</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                      IPPROTO_UDP, skb-&gt;mark,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                      src_port, dst_port);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
<div class="ttc" id="structvxlan__port_html_a28d2b1a2a5beaaf48453d1e0628efb88"><div class="ttname"><a href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vxlan_port::vs</a></div><div class="ttdeci">struct vxlan_sock * vs</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:53</div></div>
<div class="ttc" id="compat_8h_html_a66c1f58d06b91a3e79cf388a80e5096b"><div class="ttname"><a href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a></div><div class="ttdeci">#define inet_sport(sk)</div><div class="ttdef"><b>Definition:</b> compat.h:43</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structvport_html_a49fb6f6bf0ac4337853e9242e88ddc42"><div class="ttname"><a href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">vport::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:108</div></div>
<div class="ttc" id="linux_2vport_8c_html_ac5b64ee0badeb969348aae464fdc4c8d"><div class="ttname"><a href="linux_2vport_8c.html#ac5b64ee0badeb969348aae464fdc4c8d">ovs_tunnel_get_egress_info</a></div><div class="ttdeci">int ovs_tunnel_get_egress_info(struct ovs_tunnel_info *egress_tun_info, struct net *net, const struct ovs_tunnel_info *tun_info, u8 ipproto, u32 skb_mark, __be16 tp_src, __be16 tp_dst)</div><div class="ttdef"><b>Definition:</b> vport.c:586</div></div>
<div class="ttc" id="net_2udp_8h_html_afe6572fca30bf3135b12944bcd7e6c39"><div class="ttname"><a href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a></div><div class="ttdeci">#define udp_flow_src_port</div><div class="ttdef"><b>Definition:</b> udp.h:46</div></div>
<div class="ttc" id="structvxlan__sock_html_a75f35ac3f5f8e0340b2bdc247a84c322"><div class="ttname"><a href="structvxlan__sock.html#a75f35ac3f5f8e0340b2bdc247a84c322">vxlan_sock::sock</a></div><div class="ttdeci">struct socket * sock</div><div class="ttdef"><b>Definition:</b> vxlan.h:127</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c4bc3ac94b12c027f1c2148fae55d61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* vxlan_get_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a> = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a48b3eb83bbca17229480cf0d7a130272">name</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="ttc" id="structvxlan__port_html_a48b3eb83bbca17229480cf0d7a130272"><div class="ttname"><a href="structvxlan__port.html#a48b3eb83bbca17229480cf0d7a130272">vxlan_port::name</a></div><div class="ttdeci">char name[IFNAMSIZ]</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:54</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50ef73121a1de8be6425c76ea97fc3da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vxlan_get_options </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a> = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    __be16 dst_port = <a class="code" href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a>(vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vs</a>-&gt;<a class="code" href="structvxlan__sock.html#a75f35ac3f5f8e0340b2bdc247a84c322">sock</a>-&gt;sk);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (nla_put_u16(skb, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a>, ntohs(dst_port)))</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> -EMSGSIZE;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">exts</a>) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keyword">struct </span>nlattr *exts;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        exts = nla_nest_start(skb, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556ea310d573fc264521a7d47f37295666999">OVS_TUNNEL_ATTR_EXTENSION</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (!exts)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">return</span> -EMSGSIZE;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">exts</a> &amp; <a class="code" href="vxlan_8h.html#a8331ae965f1a780ef26d2adc7ddb9fec">VXLAN_F_GBP</a> &amp;&amp;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            nla_put_flag(skb, <a class="code" href="openvswitch_8h.html#a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1">OVS_VXLAN_EXT_GBP</a>))</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">return</span> -EMSGSIZE;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        nla_nest_end(skb, exts);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="ttc" id="structvxlan__port_html_a28d2b1a2a5beaaf48453d1e0628efb88"><div class="ttname"><a href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vxlan_port::vs</a></div><div class="ttdeci">struct vxlan_sock * vs</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:53</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556ea310d573fc264521a7d47f37295666999"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556ea310d573fc264521a7d47f37295666999">OVS_TUNNEL_ATTR_EXTENSION</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:296</div></div>
<div class="ttc" id="compat_8h_html_a66c1f58d06b91a3e79cf388a80e5096b"><div class="ttname"><a href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a></div><div class="ttdeci">#define inet_sport(sk)</div><div class="ttdef"><b>Definition:</b> compat.h:43</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="structvxlan__port_html_a4c4814fa8ff2517ef89920c98c1d66ba"><div class="ttname"><a href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">vxlan_port::exts</a></div><div class="ttdeci">u32 exts</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:55</div></div>
<div class="ttc" id="vxlan_8h_html_a8331ae965f1a780ef26d2adc7ddb9fec"><div class="ttname"><a href="vxlan_8h.html#a8331ae965f1a780ef26d2adc7ddb9fec">VXLAN_F_GBP</a></div><div class="ttdeci">#define VXLAN_F_GBP</div><div class="ttdef"><b>Definition:</b> vxlan.h:79</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:295</div></div>
<div class="ttc" id="structvxlan__sock_html_a75f35ac3f5f8e0340b2bdc247a84c322"><div class="ttname"><a href="structvxlan__sock.html#a75f35ac3f5f8e0340b2bdc247a84c322">vxlan_sock::sock</a></div><div class="ttdeci">struct socket * sock</div><div class="ttdef"><b>Definition:</b> vxlan.h:127</div></div>
<div class="ttc" id="openvswitch_8h_html_a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1"><div class="ttname"><a href="openvswitch_8h.html#a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1">OVS_VXLAN_EXT_GBP</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:285</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0b39f553c071625dac0570f97ef7924a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vxlan_rcv </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvxlan__sock.html">vxlan_sock</a> *&#160;</td>
          <td class="paramname"><em>vs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvxlan__metadata.html">vxlan_metadata</a> *&#160;</td>
          <td class="paramname"><em>md</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__tunnel__info.html">ovs_tunnel_info</a> tun_info;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvport.html">vport</a> *<a class="code" href="structvport.html">vport</a> = vs-&gt;<a class="code" href="structvxlan__sock.html#a44942474f147992d768c3a74b44c4d5f">data</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">struct </span>iphdr *iph;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__vxlan__opts.html">ovs_vxlan_opts</a> opts = {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        .<a class="code" href="structovs__vxlan__opts.html#a9b035f7870829fa9116ca074ef1ac2b4">gbp</a> = md-&gt;<a class="code" href="structvxlan__metadata.html#ad71c7ab9d521840720e30ebae8ff2a6a">gbp</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    };</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    __be64 key;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    __be16 <a class="code" href="flow_8h.html#af4f7a53f6b2df72c34ca881f2714ac91">flags</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    flags = <a class="code" href="ip__tunnels_8h.html#a5438f4a0ea8e58438776fffbed3f08a8">TUNNEL_KEY</a> | (<a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;check != 0 ? <a class="code" href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a> : 0);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    vxlan_port = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">if</span> (vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">exts</a> &amp; <a class="code" href="vxlan_8h.html#a8331ae965f1a780ef26d2adc7ddb9fec">VXLAN_F_GBP</a> &amp;&amp; md-&gt;<a class="code" href="structvxlan__metadata.html#ad71c7ab9d521840720e30ebae8ff2a6a">gbp</a>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        flags |= <a class="code" href="ip__tunnels_8h.html#a50cd9036253f584996011f418422a53f">TUNNEL_VXLAN_OPT</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">/* Save outer tunnel values */</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    iph = <a class="code" href="linux_2ip_8h.html#a06ad68dbeebbe718758ba2d5ebb6335c">ip_hdr</a>(skb);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    key = cpu_to_be64(ntohl(md-&gt;<a class="code" href="structvxlan__metadata.html#ac78e68c33d3c91061e3642616135cbc8">vni</a>) &gt;&gt; 8);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="flow_8h.html#a852c3ebd7a575ba7133623943f79e5df">ovs_flow_tun_info_init</a>(&amp;tun_info, iph,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                   <a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;source, <a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;dest,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                   key, flags, &amp;opts, <span class="keyword">sizeof</span>(opts));</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="linux_2vport_8c.html#a45b6883b8ea28eb25965e1f2e1586d46">ovs_vport_receive</a>(vport, skb, &amp;tun_info);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="ttc" id="structovs__tunnel__info_html"><div class="ttname"><a href="structovs__tunnel__info.html">ovs_tunnel_info</a></div><div class="ttdef"><b>Definition:</b> flow.h:54</div></div>
<div class="ttc" id="structvxlan__metadata_html_ad71c7ab9d521840720e30ebae8ff2a6a"><div class="ttname"><a href="structvxlan__metadata.html#ad71c7ab9d521840720e30ebae8ff2a6a">vxlan_metadata::gbp</a></div><div class="ttdeci">u32 gbp</div><div class="ttdef"><b>Definition:</b> vxlan.h:111</div></div>
<div class="ttc" id="structovs__vxlan__opts_html"><div class="ttname"><a href="structovs__vxlan__opts.html">ovs_vxlan_opts</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.h:7</div></div>
<div class="ttc" id="structvxlan__sock_html_a44942474f147992d768c3a74b44c4d5f"><div class="ttname"><a href="structvxlan__sock.html#a44942474f147992d768c3a74b44c4d5f">vxlan_sock::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> vxlan.h:125</div></div>
<div class="ttc" id="ip__tunnels_8h_html_ac8dc03940c0621b1aeddafa9b620022c"><div class="ttname"><a href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a></div><div class="ttdeci">#define TUNNEL_CSUM</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:42</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a50cd9036253f584996011f418422a53f"><div class="ttname"><a href="ip__tunnels_8h.html#a50cd9036253f584996011f418422a53f">TUNNEL_VXLAN_OPT</a></div><div class="ttdeci">#define TUNNEL_VXLAN_OPT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:76</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="linux_2vport_8c_html_a45b6883b8ea28eb25965e1f2e1586d46"><div class="ttname"><a href="linux_2vport_8c.html#a45b6883b8ea28eb25965e1f2e1586d46">ovs_vport_receive</a></div><div class="ttdeci">void ovs_vport_receive(struct vport *vport, struct sk_buff *skb, const struct ovs_tunnel_info *tun_info)</div><div class="ttdef"><b>Definition:</b> vport.c:483</div></div>
<div class="ttc" id="structvxlan__port_html_a4c4814fa8ff2517ef89920c98c1d66ba"><div class="ttname"><a href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">vxlan_port::exts</a></div><div class="ttdeci">u32 exts</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:55</div></div>
<div class="ttc" id="vxlan_8h_html_a8331ae965f1a780ef26d2adc7ddb9fec"><div class="ttname"><a href="vxlan_8h.html#a8331ae965f1a780ef26d2adc7ddb9fec">VXLAN_F_GBP</a></div><div class="ttdeci">#define VXLAN_F_GBP</div><div class="ttdef"><b>Definition:</b> vxlan.h:79</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a5438f4a0ea8e58438776fffbed3f08a8"><div class="ttname"><a href="ip__tunnels_8h.html#a5438f4a0ea8e58438776fffbed3f08a8">TUNNEL_KEY</a></div><div class="ttdeci">#define TUNNEL_KEY</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:44</div></div>
<div class="ttc" id="linux_2ip_8h_html_a06ad68dbeebbe718758ba2d5ebb6335c"><div class="ttname"><a href="linux_2ip_8h.html#a06ad68dbeebbe718758ba2d5ebb6335c">ip_hdr</a></div><div class="ttdeci">static struct iphdr * ip_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> ip.h:9</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:106</div></div>
<div class="ttc" id="linux_2udp_8h_html_a7b8908e197538768cf4ff9ec577bd86b"><div class="ttname"><a href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a></div><div class="ttdeci">static struct udphdr * udp_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> udp.h:7</div></div>
<div class="ttc" id="structovs__vxlan__opts_html_a9b035f7870829fa9116ca074ef1ac2b4"><div class="ttname"><a href="structovs__vxlan__opts.html#a9b035f7870829fa9116ca074ef1ac2b4">ovs_vxlan_opts::gbp</a></div><div class="ttdeci">__u32 gbp</div><div class="ttdef"><b>Definition:</b> vport-vxlan.h:8</div></div>
<div class="ttc" id="structvxlan__metadata_html_ac78e68c33d3c91061e3642616135cbc8"><div class="ttname"><a href="structvxlan__metadata.html#ac78e68c33d3c91061e3642616135cbc8">vxlan_metadata::vni</a></div><div class="ttdeci">__be32 vni</div><div class="ttdef"><b>Definition:</b> vxlan.h:110</div></div>
<div class="ttc" id="flow_8h_html_af4f7a53f6b2df72c34ca881f2714ac91"><div class="ttname"><a href="flow_8h.html#af4f7a53f6b2df72c34ca881f2714ac91">flags</a></div><div class="ttdeci">__be16 flags</div><div class="ttdef"><b>Definition:</b> flow.h:133</div></div>
<div class="ttc" id="flow_8h_html_a852c3ebd7a575ba7133623943f79e5df"><div class="ttname"><a href="flow_8h.html#a852c3ebd7a575ba7133623943f79e5df">ovs_flow_tun_info_init</a></div><div class="ttdeci">static void ovs_flow_tun_info_init(struct ovs_tunnel_info *tun_info, const struct iphdr *iph, __be16 tp_src, __be16 tp_dst, __be64 tun_id, __be16 tun_flags, const void *opts, u8 opts_len)</div><div class="ttdef"><b>Definition:</b> flow.h:102</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15944f1b89ca72bfaf953d278bf09ca7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvport.html">vport</a>* vxlan_tnl_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport__parms.html">vport_parms</a> *&#160;</td>
          <td class="paramname"><em>parms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(parms-&gt;<a class="code" href="structvport__parms.html#a15faa866e3d35a721de77b347017499e">dp</a>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">struct </span>nlattr *options = parms-&gt;<a class="code" href="structvport__parms.html#a5c6027e758731e1a16968e77d4e2ca7c">options</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__sock.html">vxlan_sock</a> *vs;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvport.html">vport</a> *<a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">struct </span>nlattr *a;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    u16 dst_port;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (!options) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    a = <a class="code" href="net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a>(options, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (a &amp;&amp; nla_len(a) == <span class="keyword">sizeof</span>(u16)) {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        dst_port = nla_get_u16(a);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="comment">/* Require destination port from userspace. */</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    vport = <a class="code" href="linux_2vport_8c.html#a9198ee06111592d2cf6c3b2bf94561c1">ovs_vport_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> vxlan_port),</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                &amp;<a class="code" href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a>, parms);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(vport))</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    vxlan_port = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    strncpy(vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a48b3eb83bbca17229480cf0d7a130272">name</a>, parms-&gt;<a class="code" href="structvport__parms.html#a4f27e2a7b7dc0493c095cdaabe225b38">name</a>, IFNAMSIZ);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    a = <a class="code" href="net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a>(options, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556ea310d573fc264521a7d47f37295666999">OVS_TUNNEL_ATTR_EXTENSION</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (a) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        err = <a class="code" href="vport-vxlan_8c.html#a1c323f01bc67db23967f87810a23939b">vxlan_configure_exts</a>(vport, a);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <a class="code" href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a>(vport);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    vs = <a class="code" href="vxlan_8h.html#a9ed9b80801b3c6e86f19168856645c59">vxlan_sock_add</a>(net, htons(dst_port), <a class="code" href="vport-vxlan_8c.html#a0b39f553c071625dac0570f97ef7924a">vxlan_rcv</a>, vport, <span class="keyword">true</span>,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">exts</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(vs)) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a>(vport);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)vs;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vs</a> = vs;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;error:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">return</span> ERR_PTR(err);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;}</div>
<div class="ttc" id="structvxlan__port_html_a28d2b1a2a5beaaf48453d1e0628efb88"><div class="ttname"><a href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vxlan_port::vs</a></div><div class="ttdeci">struct vxlan_sock * vs</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:53</div></div>
<div class="ttc" id="structvxlan__port_html_a48b3eb83bbca17229480cf0d7a130272"><div class="ttname"><a href="structvxlan__port.html#a48b3eb83bbca17229480cf0d7a130272">vxlan_port::name</a></div><div class="ttdeci">char name[IFNAMSIZ]</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:54</div></div>
<div class="ttc" id="linux_2vport_8c_html_a9198ee06111592d2cf6c3b2bf94561c1"><div class="ttname"><a href="linux_2vport_8c.html#a9198ee06111592d2cf6c3b2bf94561c1">ovs_vport_alloc</a></div><div class="ttdeci">struct vport * ovs_vport_alloc(int priv_size, const struct vport_ops *ops, const struct vport_parms *parms)</div><div class="ttdef"><b>Definition:</b> vport.c:137</div></div>
<div class="ttc" id="structvport__parms_html_a5c6027e758731e1a16968e77d4e2ca7c"><div class="ttname"><a href="structvport__parms.html#a5c6027e758731e1a16968e77d4e2ca7c">vport_parms::options</a></div><div class="ttdeci">struct nlattr * options</div><div class="ttdef"><b>Definition:</b> vport.h:135</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556ea310d573fc264521a7d47f37295666999"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556ea310d573fc264521a7d47f37295666999">OVS_TUNNEL_ATTR_EXTENSION</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:296</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a1c323f01bc67db23967f87810a23939b"><div class="ttname"><a href="vport-vxlan_8c.html#a1c323f01bc67db23967f87810a23939b">vxlan_configure_exts</a></div><div class="ttdeci">static int vxlan_configure_exts(struct vport *vport, struct nlattr *attr)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:131</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a0b39f553c071625dac0570f97ef7924a"><div class="ttname"><a href="vport-vxlan_8c.html#a0b39f553c071625dac0570f97ef7924a">vxlan_rcv</a></div><div class="ttdeci">static void vxlan_rcv(struct vxlan_sock *vs, struct sk_buff *skb, struct vxlan_metadata *md)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:65</div></div>
<div class="ttc" id="structvport__parms_html_a4f27e2a7b7dc0493c095cdaabe225b38"><div class="ttname"><a href="structvport__parms.html#a4f27e2a7b7dc0493c095cdaabe225b38">vport_parms::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> vport.h:133</div></div>
<div class="ttc" id="net_2netlink_8h_html_a5b73cd8f4a1d3d335642ee1492b7b2c2"><div class="ttname"><a href="net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a></div><div class="ttdeci">static struct nlattr * nla_find_nested(struct nlattr *nla, int attrtype)</div><div class="ttdef"><b>Definition:</b> netlink.h:60</div></div>
<div class="ttc" id="structvxlan__port_html_a4c4814fa8ff2517ef89920c98c1d66ba"><div class="ttname"><a href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">vxlan_port::exts</a></div><div class="ttdeci">u32 exts</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:55</div></div>
<div class="ttc" id="structvxlan__sock_html"><div class="ttname"><a href="structvxlan__sock.html">vxlan_sock</a></div><div class="ttdef"><b>Definition:</b> vxlan.h:122</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:106</div></div>
<div class="ttc" id="structvport__parms_html_a15faa866e3d35a721de77b347017499e"><div class="ttname"><a href="structvport__parms.html#a15faa866e3d35a721de77b347017499e">vport_parms::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:138</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:295</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a14100e1b742c7bb52f41541582330814"><div class="ttname"><a href="vport-vxlan_8c.html#a14100e1b742c7bb52f41541582330814">ovs_vxlan_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_vxlan_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:58</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="linux_2vport_8c_html_a17e57e95b47bad0bcf00e2e2805e2170"><div class="ttname"><a href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a></div><div class="ttdeci">void ovs_vport_free(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.c:194</div></div>
<div class="ttc" id="vxlan_8h_html_a9ed9b80801b3c6e86f19168856645c59"><div class="ttname"><a href="vxlan_8h.html#a9ed9b80801b3c6e86f19168856645c59">vxlan_sock_add</a></div><div class="ttdeci">#define vxlan_sock_add</div><div class="ttdef"><b>Definition:</b> vxlan.h:132</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aade4bb74066fe5f4ab11820ab7c90485"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vxlan_tnl_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a> = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="vxlan_8h.html#a9ca03180bef52de7bcac7fc144938a13">vxlan_sock_release</a>(vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vs</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="linux_2vport_8c.html#a91949289f78c0f0c2433ef5f20495e66">ovs_vport_deferred_free</a>(vport);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="ttc" id="structvxlan__port_html_a28d2b1a2a5beaaf48453d1e0628efb88"><div class="ttname"><a href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vxlan_port::vs</a></div><div class="ttdeci">struct vxlan_sock * vs</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:53</div></div>
<div class="ttc" id="vxlan_8h_html_a9ca03180bef52de7bcac7fc144938a13"><div class="ttname"><a href="vxlan_8h.html#a9ca03180bef52de7bcac7fc144938a13">vxlan_sock_release</a></div><div class="ttdeci">#define vxlan_sock_release</div><div class="ttdef"><b>Definition:</b> vxlan.h:137</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
<div class="ttc" id="linux_2vport_8c_html_a91949289f78c0f0c2433ef5f20495e66"><div class="ttname"><a href="linux_2vport_8c.html#a91949289f78c0f0c2433ef5f20495e66">ovs_vport_deferred_free</a></div><div class="ttdeci">void ovs_vport_deferred_free(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.c:577</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f79b05ea9b700c041b3aff7361e707f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int vxlan_tnl_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a> *<a class="code" href="flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__port.html">vxlan_port</a> *<a class="code" href="structvxlan__port.html">vxlan_port</a> = <a class="code" href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a>(vport);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    __be16 dst_port = <a class="code" href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a>(vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vs</a>-&gt;<a class="code" href="structvxlan__sock.html#a75f35ac3f5f8e0340b2bdc247a84c322">sock</a>-&gt;sk);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvxlan__metadata.html">vxlan_metadata</a> md = {0};</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">struct </span>rtable *rt;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    __be16 src_port;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    __be32 saddr;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    __be16 df;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    u32 vxflags;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (unlikely(!<a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info)) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    tun_key = &amp;<a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info-&gt;tunnel;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">/* Route lookup */</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    saddr = tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a1e5a978f104d61e9694e914a109734a7">ipv4_src</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    rt = <a class="code" href="compat_8h.html#a9fd71ce2d13a3dcc4f7d51469ba86d79">find_route</a>(<a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>),</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            &amp;saddr, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ipv4_dst</a>,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            IPPROTO_UDP, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ipv4_tos</a>,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            skb-&gt;mark);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(rt)) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        err = PTR_ERR(rt);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    df = tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#a3b33c8fadb48f2281d5852e2a0d8eeff">TUNNEL_DONT_FRAGMENT</a> ? htons(IP_DF) : 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    skb-&gt;ignore_df = 1;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    src_port = <a class="code" href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a>(net, skb, 0, 0, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    md.<a class="code" href="structvxlan__metadata.html#ac78e68c33d3c91061e3642616135cbc8">vni</a> = htonl(be64_to_cpu(tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae36132bc05ca6257b572edddffcb867a">tun_id</a>) &lt;&lt; 8);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    md.<a class="code" href="structvxlan__metadata.html#ad71c7ab9d521840720e30ebae8ff2a6a">gbp</a> = <a class="code" href="vport-vxlan_8c.html#a20eca97b66cc1631237638ba80d3f6f4">vxlan_ext_gbp</a>(skb);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    vxflags = vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">exts</a> |</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;              (tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a> ? <a class="code" href="vxlan_8h.html#a1b3d960bf01a2faa7302f79170aca48e">VXLAN_F_UDP_CSUM</a> : 0);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    err = <a class="code" href="vxlan_8h.html#a18881f641d198e10bc5367b31f844107">vxlan_xmit_skb</a>(vxlan_port-&gt;<a class="code" href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vs</a>, rt, skb,</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                 saddr, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ipv4_dst</a>,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                 tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ipv4_tos</a>,</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                 tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a24de7472a8c22903fce96b73dab68a40">ipv4_ttl</a>, df,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                 src_port, dst_port,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                 &amp;md, <span class="keyword">false</span>, vxflags);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        ip_rt_put(rt);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;error:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    kfree_skb(skb);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="ttc" id="structvxlan__port_html_a28d2b1a2a5beaaf48453d1e0628efb88"><div class="ttname"><a href="structvxlan__port.html#a28d2b1a2a5beaaf48453d1e0628efb88">vxlan_port::vs</a></div><div class="ttdeci">struct vxlan_sock * vs</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:53</div></div>
<div class="ttc" id="compat_8h_html_a9fd71ce2d13a3dcc4f7d51469ba86d79"><div class="ttname"><a href="compat_8h.html#a9fd71ce2d13a3dcc4f7d51469ba86d79">find_route</a></div><div class="ttdeci">static struct rtable * find_route(struct net *net, __be32 *saddr, __be32 daddr, u8 ipproto, u8 tos, u32 skb_mark)</div><div class="ttdef"><b>Definition:</b> compat.h:46</div></div>
<div class="ttc" id="structvxlan__metadata_html_ad71c7ab9d521840720e30ebae8ff2a6a"><div class="ttname"><a href="structvxlan__metadata.html#ad71c7ab9d521840720e30ebae8ff2a6a">vxlan_metadata::gbp</a></div><div class="ttdeci">u32 gbp</div><div class="ttdef"><b>Definition:</b> vxlan.h:111</div></div>
<div class="ttc" id="ip__tunnels_8h_html_ac8dc03940c0621b1aeddafa9b620022c"><div class="ttname"><a href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a></div><div class="ttdeci">#define TUNNEL_CSUM</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:42</div></div>
<div class="ttc" id="vxlan_8h_html_a18881f641d198e10bc5367b31f844107"><div class="ttname"><a href="vxlan_8h.html#a18881f641d198e10bc5367b31f844107">vxlan_xmit_skb</a></div><div class="ttdeci">#define vxlan_xmit_skb</div><div class="ttdef"><b>Definition:</b> vxlan.h:140</div></div>
<div class="ttc" id="compat_8h_html_a66c1f58d06b91a3e79cf388a80e5096b"><div class="ttname"><a href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a></div><div class="ttdeci">#define inet_sport(sk)</div><div class="ttdef"><b>Definition:</b> compat.h:43</div></div>
<div class="ttc" id="flow_8h_html_a904e9497acde49a1992636f77597c5c7"><div class="ttname"><a href="flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a></div><div class="ttdeci">struct ovs_key_ipv4_tunnel tun_key</div><div class="ttdef"><b>Definition:</b> flow.h:105</div></div>
<div class="ttc" id="vport-vxlan_8c_html_ab19470f9c73474113f37dc3c65265294"><div class="ttname"><a href="vport-vxlan_8c.html#ab19470f9c73474113f37dc3c65265294">vxlan_vport</a></div><div class="ttdeci">static struct vxlan_port * vxlan_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:60</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a69594eaf9d7dfc2824b264484e02498e"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ovs_key_ipv4_tunnel::ipv4_tos</a></div><div class="ttdeci">u8 ipv4_tos</div><div class="ttdef"><b>Definition:</b> flow.h:48</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structvport_html_a49fb6f6bf0ac4337853e9242e88ddc42"><div class="ttname"><a href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">vport::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:108</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a7459e66ecf90329eb2fa6cf3fc4781db"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">ovs_key_ipv4_tunnel::tun_flags</a></div><div class="ttdeci">__be16 tun_flags</div><div class="ttdef"><b>Definition:</b> flow.h:47</div></div>
<div class="ttc" id="vxlan_8h_html_a1b3d960bf01a2faa7302f79170aca48e"><div class="ttname"><a href="vxlan_8h.html#a1b3d960bf01a2faa7302f79170aca48e">VXLAN_F_UDP_CSUM</a></div><div class="ttdeci">#define VXLAN_F_UDP_CSUM</div><div class="ttdef"><b>Definition:</b> vxlan.h:83</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_ae443d381a97f53bbc4139fe36c0aae30"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ovs_key_ipv4_tunnel::ipv4_dst</a></div><div class="ttdeci">__be32 ipv4_dst</div><div class="ttdef"><b>Definition:</b> flow.h:46</div></div>
<div class="ttc" id="structvxlan__port_html_a4c4814fa8ff2517ef89920c98c1d66ba"><div class="ttname"><a href="structvxlan__port.html#a4c4814fa8ff2517ef89920c98c1d66ba">vxlan_port::exts</a></div><div class="ttdeci">u32 exts</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:55</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a></div><div class="ttdef"><b>Definition:</b> flow.h:43</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a1e5a978f104d61e9694e914a109734a7"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a1e5a978f104d61e9694e914a109734a7">ovs_key_ipv4_tunnel::ipv4_src</a></div><div class="ttdeci">__be32 ipv4_src</div><div class="ttdef"><b>Definition:</b> flow.h:45</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a24de7472a8c22903fce96b73dab68a40"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a24de7472a8c22903fce96b73dab68a40">ovs_key_ipv4_tunnel::ipv4_ttl</a></div><div class="ttdeci">u8 ipv4_ttl</div><div class="ttdef"><b>Definition:</b> flow.h:49</div></div>
<div class="ttc" id="structvxlan__metadata_html_ac78e68c33d3c91061e3642616135cbc8"><div class="ttname"><a href="structvxlan__metadata.html#ac78e68c33d3c91061e3642616135cbc8">vxlan_metadata::vni</a></div><div class="ttdeci">__be32 vni</div><div class="ttdef"><b>Definition:</b> vxlan.h:110</div></div>
<div class="ttc" id="net_2udp_8h_html_afe6572fca30bf3135b12944bcd7e6c39"><div class="ttname"><a href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a></div><div class="ttdeci">#define udp_flow_src_port</div><div class="ttdef"><b>Definition:</b> udp.h:46</div></div>
<div class="ttc" id="structvxlan__sock_html_a75f35ac3f5f8e0340b2bdc247a84c322"><div class="ttname"><a href="structvxlan__sock.html#a75f35ac3f5f8e0340b2bdc247a84c322">vxlan_sock::sock</a></div><div class="ttdeci">struct socket * sock</div><div class="ttdef"><b>Definition:</b> vxlan.h:127</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_ae36132bc05ca6257b572edddffcb867a"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#ae36132bc05ca6257b572edddffcb867a">ovs_key_ipv4_tunnel::tun_id</a></div><div class="ttdeci">__be64 tun_id</div><div class="ttdef"><b>Definition:</b> flow.h:44</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a3b33c8fadb48f2281d5852e2a0d8eeff"><div class="ttname"><a href="ip__tunnels_8h.html#a3b33c8fadb48f2281d5852e2a0d8eeff">TUNNEL_DONT_FRAGMENT</a></div><div class="ttdeci">#define TUNNEL_DONT_FRAGMENT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:63</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="structvxlan__metadata_html"><div class="ttname"><a href="structvxlan__metadata.html">vxlan_metadata</a></div><div class="ttdef"><b>Definition:</b> vxlan.h:109</div></div>
<div class="ttc" id="structvxlan__port_html"><div class="ttname"><a href="structvxlan__port.html">vxlan_port</a></div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:52</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a20eca97b66cc1631237638ba80d3f6f4"><div class="ttname"><a href="vport-vxlan_8c.html#a20eca97b66cc1631237638ba80d3f6f4">vxlan_ext_gbp</a></div><div class="ttdeci">static int vxlan_ext_gbp(struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:207</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab19470f9c73474113f37dc3c65265294"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvxlan__port.html">vxlan_port</a>* vxlan_vport </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vport_8h.html#ad18aa811f80cfd4c3895d96f7f3f4acd">vport_priv</a>(vport);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="ttc" id="vport_8h_html_ad18aa811f80cfd4c3895d96f7f3f4acd"><div class="ttname"><a href="vport_8h.html#ad18aa811f80cfd4c3895d96f7f3f4acd">vport_priv</a></div><div class="ttdeci">static void * vport_priv(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.h:206</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a8bca1dc2eb9e18c687ef067cae154b8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct nla_policy exts_policy[<a class="el" href="openvswitch_8h.html#ac764e78fe2e06d11f39448e337292c7c">OVS_VXLAN_EXT_MAX</a>+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [<a class="code" href="openvswitch_8h.html#a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1">OVS_VXLAN_EXT_GBP</a>] = { .type = NLA_FLAG, },</div>
<div class="line">}</div>
<div class="ttc" id="openvswitch_8h_html_a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1"><div class="ttname"><a href="openvswitch_8h.html#a4caf8d8f829279fba122163d961608a4ac0ae9083a880298a86e9d28d46b541c1">OVS_VXLAN_EXT_GBP</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:285</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14100e1b742c7bb52f41541582330814"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvport__ops.html">vport_ops</a> ovs_vxlan_vport_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .type           = <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a>,</div>
<div class="line">    .create         = <a class="code" href="vport-vxlan_8c.html#a15944f1b89ca72bfaf953d278bf09ca7">vxlan_tnl_create</a>,</div>
<div class="line">    .destroy        = <a class="code" href="vport-vxlan_8c.html#aade4bb74066fe5f4ab11820ab7c90485">vxlan_tnl_destroy</a>,</div>
<div class="line">    .get_name       = <a class="code" href="vport-vxlan_8c.html#a8c4bc3ac94b12c027f1c2148fae55d61">vxlan_get_name</a>,</div>
<div class="line">    .get_options        = <a class="code" href="vport-vxlan_8c.html#a50ef73121a1de8be6425c76ea97fc3da">vxlan_get_options</a>,</div>
<div class="line">    .send           = <a class="code" href="vport-vxlan_8c.html#a3f79b05ea9b700c041b3aff7361e707f">vxlan_tnl_send</a>,</div>
<div class="line">    .get_egress_tun_info    = <a class="code" href="vport-vxlan_8c.html#a24930f1f6ecb4c221d189f13253a5feb">vxlan_get_egress_tun_info</a>,</div>
<div class="line">    .owner          = THIS_MODULE,</div>
<div class="line">}</div>
<div class="ttc" id="vport-vxlan_8c_html_aade4bb74066fe5f4ab11820ab7c90485"><div class="ttname"><a href="vport-vxlan_8c.html#aade4bb74066fe5f4ab11820ab7c90485">vxlan_tnl_destroy</a></div><div class="ttdeci">static void vxlan_tnl_destroy(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:118</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a8c4bc3ac94b12c027f1c2148fae55d61"><div class="ttname"><a href="vport-vxlan_8c.html#a8c4bc3ac94b12c027f1c2148fae55d61">vxlan_get_name</a></div><div class="ttdeci">static const char * vxlan_get_name(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:293</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a3f79b05ea9b700c041b3aff7361e707f"><div class="ttname"><a href="vport-vxlan_8c.html#a3f79b05ea9b700c041b3aff7361e707f">vxlan_tnl_send</a></div><div class="ttdeci">static int vxlan_tnl_send(struct vport *vport, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:222</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a50ef73121a1de8be6425c76ea97fc3da"><div class="ttname"><a href="vport-vxlan_8c.html#a50ef73121a1de8be6425c76ea97fc3da">vxlan_get_options</a></div><div class="ttdeci">static int vxlan_get_options(const struct vport *vport, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:93</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a15944f1b89ca72bfaf953d278bf09ca7"><div class="ttname"><a href="vport-vxlan_8c.html#a15944f1b89ca72bfaf953d278bf09ca7">vxlan_tnl_create</a></div><div class="ttdeci">static struct vport * vxlan_tnl_create(const struct vport_parms *parms)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:152</div></div>
<div class="ttc" id="vport-vxlan_8c_html_a24930f1f6ecb4c221d189f13253a5feb"><div class="ttname"><a href="vport-vxlan_8c.html#a24930f1f6ecb4c221d189f13253a5feb">vxlan_get_egress_tun_info</a></div><div class="ttdeci">static int vxlan_get_egress_tun_info(struct vport *vport, struct sk_buff *skb, struct ovs_tunnel_info *egress_tun_info)</div><div class="ttdef"><b>Definition:</b> vport-vxlan.c:277</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:229</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_735673ca58647e7dec4e87713fc0822e.html">ovs</a></li><li class="navelem"><a class="el" href="dir_f0eaa0aee046c2546aa3d47fe4e5c43a.html">datapath</a></li><li class="navelem"><a class="el" href="vport-vxlan_8c.html">vport-vxlan.c</a></li>
    <li class="footer">Generated on Mon Aug 17 2015 11:15:08 for ovs datapath by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
