<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs datapath: /home/vladn/git/ovs/datapath/linux/vport-geneve.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs datapath
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('linux_2vport-geneve_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">vport-geneve.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="in_8h_source.html">linux/in.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="linux_2ip_8h_source.html">linux/ip.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_8h_source.html">linux/net.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rculist_8h_source.html">linux/rculist.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="linux_2udp_8h_source.html">linux/udp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="if__vlan_8h_source.html">linux/if_vlan.h</a>&gt;</code><br />
<code>#include &lt;linux/module.h&gt;</code><br />
<code>#include &lt;<a class="el" href="geneve_8h_source.html">net/geneve.h</a>&gt;</code><br />
<code>#include &lt;net/icmp.h&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2ip_8h_source.html">net/ip.h</a>&gt;</code><br />
<code>#include &lt;net/route.h&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2udp_8h_source.html">net/udp.h</a>&gt;</code><br />
<code>#include &lt;net/xfrm.h&gt;</code><br />
<code>#include &quot;<a class="el" href="datapath_8h_source.html">datapath.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vport_8h_source.html">vport.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vport-geneve.c:</div>
<div class="dyncontent">
<div class="center"><img src="linux_2vport-geneve_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2datapath_2linux_2vport-geneve_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2datapath_2linux_2vport-geneve_8c" id="_2home_2vladn_2git_2ovs_2datapath_2linux_2vport-geneve_8c">
<area shape="rect" id="node2" href="in_8h.html" title="linux/in.h" alt="" coords="299,259,374,285"/><area shape="rect" id="node4" href="linux_2ip_8h.html" title="linux/ip.h" alt="" coords="162,109,237,136"/><area shape="rect" id="node10" href="net_8h.html" title="linux/net.h" alt="" coords="2705,184,2787,211"/><area shape="rect" id="node11" href="rculist_8h.html" title="linux/rculist.h" alt="" coords="1181,109,1279,136"/><area shape="rect" id="node12" href="linux_2udp_8h.html" title="linux/udp.h" alt="" coords="1303,109,1389,136"/><area shape="rect" id="node13" href="if__vlan_8h.html" title="linux/if_vlan.h" alt="" coords="431,333,533,360"/><area shape="rect" id="node14" href="geneve_8h.html" title="net/geneve.h" alt="" coords="76,184,173,211"/><area shape="rect" id="node16" href="net_2ip_8h.html" title="net/ip.h" alt="" coords="375,184,440,211"/><area shape="rect" id="node18" href="net_2udp_8h.html" title="net/udp.h" alt="" coords="5,109,81,136"/><area shape="rect" id="node20" href="datapath_8h.html" title="datapath.h" alt="" coords="1023,109,1106,136"/><area shape="rect" id="node47" href="vport_8h.html" title="vport.h" alt="" coords="1033,259,1096,285"/><area shape="rect" id="node5" href="skbuff_8h.html" title="linux/skbuff.h" alt="" coords="579,408,679,435"/><area shape="rect" id="node7" href="types_8h.html" title="linux/types.h" alt="" coords="2522,483,2618,509"/><area shape="rect" id="node22" href="kernel_8h.html" title="linux/kernel.h" alt="" coords="1602,333,1701,360"/><area shape="rect" id="node25" href="netdevice_8h.html" title="linux/netdevice.h" alt="" coords="1309,259,1429,285"/><area shape="rect" id="node27" href="u64__stats__sync_8h.html" title="linux/u64_stats_sync.h" alt="" coords="1183,333,1339,360"/><area shape="rect" id="node29" href="compat_8h.html" title="compat.h" alt="" coords="695,184,771,211"/><area shape="rect" id="node33" href="flow_8h.html" title="flow.h" alt="" coords="2217,259,2275,285"/><area shape="rect" id="node44" href="flow__table_8h.html" title="flow_table.h" alt="" coords="1932,184,2024,211"/><area shape="rect" id="node46" href="vlan_8h.html" title="vlan.h" alt="" coords="900,259,957,285"/><area shape="rect" id="node31" href="linux_2netlink_8h.html" title="linux/netlink.h" alt="" coords="1004,333,1107,360"/><area shape="rect" id="node32" href="net_2netlink_8h.html" title="net/netlink.h" alt="" coords="938,408,1031,435"/><area shape="rect" id="node35" href="openvswitch_8h.html" title="linux/openvswitch.h" alt="" coords="2177,333,2315,360"/><area shape="rect" id="node36" href="if__ether_8h.html" title="linux/if_ether.h" alt="" coords="2193,408,2299,435"/><area shape="rect" id="node38" href="rcupdate_8h.html" title="linux/rcupdate.h" alt="" coords="2339,333,2454,360"/><area shape="rect" id="node40" href="jiffies_8h.html" title="linux/jiffies.h" alt="" coords="2059,333,2153,360"/><area shape="rect" id="node42" href="flex__array_8h.html" title="linux/flex_array.h" alt="" coords="1725,333,1847,360"/><area shape="rect" id="node45" href="ip__tunnels_8h.html" title="net/ip_tunnels.h" alt="" coords="1486,408,1601,435"/><area shape="rect" id="node49" href="list_8h.html" title="linux/list.h" alt="" coords="761,333,843,360"/><area shape="rect" id="node50" href="reciprocal__div_8h.html" title="linux/reciprocal_div.h" alt="" coords="1055,408,1199,435"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgeneve__port.html">geneve_port</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
: vport name.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp11b33af0c85e2c8a3c03b696f666e431"></a>struct <a class="el" href="structgeneve__port.html">geneve_port</a> - Keeps track of open UDP ports : The socket created for this port number. </p>
</td></tr>
<tr class="memitem:ad9b8555c118ad2e5874c3ab931390752"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvport__ops.html">vport_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a></td></tr>
<tr class="separator:ad9b8555c118ad2e5874c3ab931390752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66e082c97d7820eb9eb166e6cf4b996"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#aa66e082c97d7820eb9eb166e6cf4b996">LIST_HEAD</a> (geneve_ports)</td></tr>
<tr class="separator:aa66e082c97d7820eb9eb166e6cf4b996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51b640340c7d2eaf45af423bc1e0931"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structgeneve__port.html">geneve_port</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:aa51b640340c7d2eaf45af423bc1e0931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7668c9c0c48969a65fdcc4ba3a31b6c"><td class="memItemLeft" align="right" valign="top">static struct genevehdr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#ae7668c9c0c48969a65fdcc4ba3a31b6c">geneve_hdr</a> (const struct sk_buff *skb)</td></tr>
<tr class="separator:ae7668c9c0c48969a65fdcc4ba3a31b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b7591d7d9bf380d0f2899042668880"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a50b7591d7d9bf380d0f2899042668880">tunnel_id_to_vni</a> (__be64 <a class="el" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a>, __u8 *vni)</td></tr>
<tr class="separator:a50b7591d7d9bf380d0f2899042668880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4714395c3a408973e64b315af6ac35"><td class="memItemLeft" align="right" valign="top">static __be64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a1a4714395c3a408973e64b315af6ac35">vni_to_tunnel_id</a> (const __u8 *vni)</td></tr>
<tr class="separator:a1a4714395c3a408973e64b315af6ac35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0266c855cef0a46188e7bf48485171c4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a0266c855cef0a46188e7bf48485171c4">geneve_rcv</a> (struct geneve_sock *gs, struct sk_buff *skb)</td></tr>
<tr class="separator:a0266c855cef0a46188e7bf48485171c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08a891b83a07b3300134c1340f329e84"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a08a891b83a07b3300134c1340f329e84">geneve_get_options</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb)</td></tr>
<tr class="separator:a08a891b83a07b3300134c1340f329e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a5d6fd5319e6c71acd2af4bde2c833"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#ab0a5d6fd5319e6c71acd2af4bde2c833">geneve_tnl_destroy</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:ab0a5d6fd5319e6c71acd2af4bde2c833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b9a4a56d5a598c17c0bbfffce774798"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvport.html">vport</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a6b9a4a56d5a598c17c0bbfffce774798">geneve_tnl_create</a> (const struct <a class="el" href="structvport__parms.html">vport_parms</a> *parms)</td></tr>
<tr class="separator:a6b9a4a56d5a598c17c0bbfffce774798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7cfa0fa94438ef4fddf79129f8346d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#af7cfa0fa94438ef4fddf79129f8346d4">geneve_tnl_send</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb)</td></tr>
<tr class="separator:af7cfa0fa94438ef4fddf79129f8346d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9770cc8d8fc8fad0f6f05a783513df"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a8f9770cc8d8fc8fad0f6f05a783513df">geneve_get_name</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a8f9770cc8d8fc8fad0f6f05a783513df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed60d6de8f65dc856030e1ff6196b198"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#aed60d6de8f65dc856030e1ff6196b198">geneve_get_egress_tun_info</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb, struct <a class="el" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *egress_tun_info)</td></tr>
<tr class="separator:aed60d6de8f65dc856030e1ff6196b198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250fcfc7da979abfb351d5290b7ae319"><td class="memItemLeft" align="right" valign="top">static int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a250fcfc7da979abfb351d5290b7ae319">ovs_geneve_tnl_init</a> (void)</td></tr>
<tr class="separator:a250fcfc7da979abfb351d5290b7ae319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcdbd3154bb84fb2ab88296a0bd03c7"><td class="memItemLeft" align="right" valign="top">static void __exit&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a8fcdbd3154bb84fb2ab88296a0bd03c7">ovs_geneve_tnl_exit</a> (void)</td></tr>
<tr class="separator:a8fcdbd3154bb84fb2ab88296a0bd03c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67da53b39bd67cb2fe98ebf15b882489"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a67da53b39bd67cb2fe98ebf15b882489">module_init</a> (<a class="el" href="vport-geneve_8c.html#a250fcfc7da979abfb351d5290b7ae319">ovs_geneve_tnl_init</a>)</td></tr>
<tr class="separator:a67da53b39bd67cb2fe98ebf15b882489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ee305130afe983aa92a926c6e91f88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a77ee305130afe983aa92a926c6e91f88">module_exit</a> (<a class="el" href="vport-geneve_8c.html#a8fcdbd3154bb84fb2ab88296a0bd03c7">ovs_geneve_tnl_exit</a>)</td></tr>
<tr class="separator:a77ee305130afe983aa92a926c6e91f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1a2e7e8154bcd5ff96b22a9153cd52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#afa1a2e7e8154bcd5ff96b22a9153cd52">MODULE_DESCRIPTION</a> (&quot;OVS: Geneve swiching port&quot;)</td></tr>
<tr class="separator:afa1a2e7e8154bcd5ff96b22a9153cd52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94b36675e7eb067ea3ce6ff9e244a44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr class="separator:ad94b36675e7eb067ea3ce6ff9e244a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f89164187509105f25d6071184282d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-geneve_8c.html#a6f89164187509105f25d6071184282d7">MODULE_ALIAS</a> (&quot;vport-<a class="el" href="flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>-5&quot;)</td></tr>
<tr class="separator:a6f89164187509105f25d6071184282d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1f8c165bf4196327bc3abff648276d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aed60d6de8f65dc856030e1ff6196b198"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int geneve_get_egress_tun_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *&#160;</td>
          <td class="paramname"><em>egress_tun_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">struct </span><a class="code" href="structgeneve__port.html">geneve_port</a> *<a class="code" href="structgeneve__port.html">geneve_port</a> = <a class="code" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a>(vport);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    __be16 dport = <a class="code" href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a>(geneve_port-&gt;<a class="code" href="structgeneve__port.html#a4748918f17f05d385384df054553a612">gs</a>-&gt;sock-&gt;sk);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    __be16 sport = <a class="code" href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a>(net, skb, 1, <a class="code" href="kernel_8h.html#a689b119da994dece91d44b5aeac643ed">USHRT_MAX</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">/* Get tp_src and tp_dst, refert to geneve_build_header().</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="linux_2vport_8c.html#ac5b64ee0badeb969348aae464fdc4c8d">ovs_tunnel_get_egress_info</a>(egress_tun_info,</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                      <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>),</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                      <a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                      IPPROTO_UDP, skb-&gt;mark, sport, dport);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
<div class="ttc" id="structgeneve__port_html_a4748918f17f05d385384df054553a612"><div class="ttname"><a href="structgeneve__port.html#a4748918f17f05d385384df054553a612">geneve_port::gs</a></div><div class="ttdeci">struct geneve_sock * gs</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:38</div></div>
<div class="ttc" id="kernel_8h_html_a689b119da994dece91d44b5aeac643ed"><div class="ttname"><a href="kernel_8h.html#a689b119da994dece91d44b5aeac643ed">USHRT_MAX</a></div><div class="ttdeci">#define USHRT_MAX</div><div class="ttdef"><b>Definition:</b> kernel.h:50</div></div>
<div class="ttc" id="compat_8h_html_a66c1f58d06b91a3e79cf388a80e5096b"><div class="ttname"><a href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a></div><div class="ttdeci">#define inet_sport(sk)</div><div class="ttdef"><b>Definition:</b> compat.h:43</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structvport_html_a49fb6f6bf0ac4337853e9242e88ddc42"><div class="ttname"><a href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">vport::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:108</div></div>
<div class="ttc" id="linux_2vport_8c_html_ac5b64ee0badeb969348aae464fdc4c8d"><div class="ttname"><a href="linux_2vport_8c.html#ac5b64ee0badeb969348aae464fdc4c8d">ovs_tunnel_get_egress_info</a></div><div class="ttdeci">int ovs_tunnel_get_egress_info(struct ovs_tunnel_info *egress_tun_info, struct net *net, const struct ovs_tunnel_info *tun_info, u8 ipproto, u32 skb_mark, __be16 tp_src, __be16 tp_dst)</div><div class="ttdef"><b>Definition:</b> vport.c:586</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aa51b640340c7d2eaf45af423bc1e0931"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a></div><div class="ttdeci">static struct geneve_port * geneve_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:44</div></div>
<div class="ttc" id="structgeneve__port_html"><div class="ttname"><a href="structgeneve__port.html">geneve_port</a></div><div class="ttdef"><b>Definition:</b> vport-geneve.c:37</div></div>
<div class="ttc" id="net_2udp_8h_html_afe6572fca30bf3135b12944bcd7e6c39"><div class="ttname"><a href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a></div><div class="ttdeci">#define udp_flow_src_port</div><div class="ttdef"><b>Definition:</b> udp.h:46</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8f9770cc8d8fc8fad0f6f05a783513df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* geneve_get_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">struct </span><a class="code" href="structgeneve__port.html">geneve_port</a> *<a class="code" href="structgeneve__port.html">geneve_port</a> = <a class="code" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a>(vport);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> geneve_port-&gt;<a class="code" href="structgeneve__port.html#aab8c32b9d0a9be9e27711cd5a7f41226">name</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="ttc" id="structgeneve__port_html_aab8c32b9d0a9be9e27711cd5a7f41226"><div class="ttname"><a href="structgeneve__port.html#aab8c32b9d0a9be9e27711cd5a7f41226">geneve_port::name</a></div><div class="ttdeci">char name[IFNAMSIZ]</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:39</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aa51b640340c7d2eaf45af423bc1e0931"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a></div><div class="ttdeci">static struct geneve_port * geneve_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:44</div></div>
<div class="ttc" id="structgeneve__port_html"><div class="ttname"><a href="structgeneve__port.html">geneve_port</a></div><div class="ttdef"><b>Definition:</b> vport-geneve.c:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a08a891b83a07b3300134c1340f329e84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int geneve_get_options </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">struct </span><a class="code" href="structgeneve__port.html">geneve_port</a> *<a class="code" href="structgeneve__port.html">geneve_port</a> = <a class="code" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a>(vport);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    __be16 dst_port = <a class="code" href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a>(geneve_port-&gt;<a class="code" href="structgeneve__port.html#a4748918f17f05d385384df054553a612">gs</a>-&gt;sock-&gt;sk);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">if</span> (nla_put_u16(skb, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a>, ntohs(dst_port)))</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="keywordflow">return</span> -EMSGSIZE;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="structgeneve__port_html_a4748918f17f05d385384df054553a612"><div class="ttname"><a href="structgeneve__port.html#a4748918f17f05d385384df054553a612">geneve_port::gs</a></div><div class="ttdeci">struct geneve_sock * gs</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:38</div></div>
<div class="ttc" id="compat_8h_html_a66c1f58d06b91a3e79cf388a80e5096b"><div class="ttname"><a href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a></div><div class="ttdeci">#define inet_sport(sk)</div><div class="ttdef"><b>Definition:</b> compat.h:43</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aa51b640340c7d2eaf45af423bc1e0931"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a></div><div class="ttdeci">static struct geneve_port * geneve_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:44</div></div>
<div class="ttc" id="structgeneve__port_html"><div class="ttname"><a href="structgeneve__port.html">geneve_port</a></div><div class="ttdef"><b>Definition:</b> vport-geneve.c:37</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:295</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7668c9c0c48969a65fdcc4ba3a31b6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct genevehdr* geneve_hdr </td>
          <td>(</td>
          <td class="paramtype">const struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> genevehdr *)(<a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb) + 1);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="ttc" id="linux_2udp_8h_html_a7b8908e197538768cf4ff9ec577bd86b"><div class="ttname"><a href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a></div><div class="ttdeci">static struct udphdr * udp_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> udp.h:7</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0266c855cef0a46188e7bf48485171c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void geneve_rcv </td>
          <td>(</td>
          <td class="paramtype">struct geneve_sock *&#160;</td>
          <td class="paramname"><em>gs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvport.html">vport</a> *<a class="code" href="structvport.html">vport</a> = gs-&gt;rcv_data;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keyword">struct </span>genevehdr *geneveh = <a class="code" href="linux_2vport-geneve_8c.html#ae7668c9c0c48969a65fdcc4ba3a31b6c">geneve_hdr</a>(skb);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">int</span> opts_len;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__tunnel__info.html">ovs_tunnel_info</a> tun_info;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    __be64 key;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    __be16 <a class="code" href="flow_8h.html#af4f7a53f6b2df72c34ca881f2714ac91">flags</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    opts_len = geneveh-&gt;opt_len * 4;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    flags = <a class="code" href="ip__tunnels_8h.html#a5438f4a0ea8e58438776fffbed3f08a8">TUNNEL_KEY</a> | <a class="code" href="ip__tunnels_8h.html#a730279275492612f215921bf96742457">TUNNEL_GENEVE_OPT</a> |</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        (<a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;check != 0 ? <a class="code" href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a> : 0) |</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        (geneveh-&gt;oam ? <a class="code" href="ip__tunnels_8h.html#a348bd362fda2a6f1506a9709ac7d0a86">TUNNEL_OAM</a> : 0) |</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        (geneveh-&gt;critical ? <a class="code" href="ip__tunnels_8h.html#a43c97214a6c4680f930191ffad41e269">TUNNEL_CRIT_OPT</a> : 0);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    key = <a class="code" href="linux_2vport-geneve_8c.html#a1a4714395c3a408973e64b315af6ac35">vni_to_tunnel_id</a>(geneveh-&gt;vni);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="flow_8h.html#a852c3ebd7a575ba7133623943f79e5df">ovs_flow_tun_info_init</a>(&amp;tun_info, <a class="code" href="linux_2ip_8h.html#a06ad68dbeebbe718758ba2d5ebb6335c">ip_hdr</a>(skb),</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                   <a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;source, <a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;dest,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                   key, flags,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                   geneveh-&gt;options, opts_len);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="linux_2vport_8c.html#a45b6883b8ea28eb25965e1f2e1586d46">ovs_vport_receive</a>(vport, skb, &amp;tun_info);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="structovs__tunnel__info_html"><div class="ttname"><a href="structovs__tunnel__info.html">ovs_tunnel_info</a></div><div class="ttdef"><b>Definition:</b> flow.h:54</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a43c97214a6c4680f930191ffad41e269"><div class="ttname"><a href="ip__tunnels_8h.html#a43c97214a6c4680f930191ffad41e269">TUNNEL_CRIT_OPT</a></div><div class="ttdeci">#define TUNNEL_CRIT_OPT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:68</div></div>
<div class="ttc" id="ip__tunnels_8h_html_ac8dc03940c0621b1aeddafa9b620022c"><div class="ttname"><a href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a></div><div class="ttdeci">#define TUNNEL_CSUM</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:42</div></div>
<div class="ttc" id="linux_2vport_8c_html_a45b6883b8ea28eb25965e1f2e1586d46"><div class="ttname"><a href="linux_2vport_8c.html#a45b6883b8ea28eb25965e1f2e1586d46">ovs_vport_receive</a></div><div class="ttdeci">void ovs_vport_receive(struct vport *vport, struct sk_buff *skb, const struct ovs_tunnel_info *tun_info)</div><div class="ttdef"><b>Definition:</b> vport.c:483</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a730279275492612f215921bf96742457"><div class="ttname"><a href="ip__tunnels_8h.html#a730279275492612f215921bf96742457">TUNNEL_GENEVE_OPT</a></div><div class="ttdeci">#define TUNNEL_GENEVE_OPT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:72</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a5438f4a0ea8e58438776fffbed3f08a8"><div class="ttname"><a href="ip__tunnels_8h.html#a5438f4a0ea8e58438776fffbed3f08a8">TUNNEL_KEY</a></div><div class="ttdeci">#define TUNNEL_KEY</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:44</div></div>
<div class="ttc" id="linux_2ip_8h_html_a06ad68dbeebbe718758ba2d5ebb6335c"><div class="ttname"><a href="linux_2ip_8h.html#a06ad68dbeebbe718758ba2d5ebb6335c">ip_hdr</a></div><div class="ttdeci">static struct iphdr * ip_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> ip.h:9</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:106</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a348bd362fda2a6f1506a9709ac7d0a86"><div class="ttname"><a href="ip__tunnels_8h.html#a348bd362fda2a6f1506a9709ac7d0a86">TUNNEL_OAM</a></div><div class="ttdeci">#define TUNNEL_OAM</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:67</div></div>
<div class="ttc" id="linux_2udp_8h_html_a7b8908e197538768cf4ff9ec577bd86b"><div class="ttname"><a href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a></div><div class="ttdeci">static struct udphdr * udp_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> udp.h:7</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_a1a4714395c3a408973e64b315af6ac35"><div class="ttname"><a href="linux_2vport-geneve_8c.html#a1a4714395c3a408973e64b315af6ac35">vni_to_tunnel_id</a></div><div class="ttdeci">static __be64 vni_to_tunnel_id(const __u8 *vni)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:69</div></div>
<div class="ttc" id="flow_8h_html_af4f7a53f6b2df72c34ca881f2714ac91"><div class="ttname"><a href="flow_8h.html#af4f7a53f6b2df72c34ca881f2714ac91">flags</a></div><div class="ttdeci">__be16 flags</div><div class="ttdef"><b>Definition:</b> flow.h:133</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_ae7668c9c0c48969a65fdcc4ba3a31b6c"><div class="ttname"><a href="linux_2vport-geneve_8c.html#ae7668c9c0c48969a65fdcc4ba3a31b6c">geneve_hdr</a></div><div class="ttdeci">static struct genevehdr * geneve_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:49</div></div>
<div class="ttc" id="flow_8h_html_a852c3ebd7a575ba7133623943f79e5df"><div class="ttname"><a href="flow_8h.html#a852c3ebd7a575ba7133623943f79e5df">ovs_flow_tun_info_init</a></div><div class="ttdeci">static void ovs_flow_tun_info_init(struct ovs_tunnel_info *tun_info, const struct iphdr *iph, __be16 tp_src, __be16 tp_dst, __be64 tun_id, __be16 tun_flags, const void *opts, u8 opts_len)</div><div class="ttdef"><b>Definition:</b> flow.h:102</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b9a4a56d5a598c17c0bbfffce774798"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvport.html">vport</a>* geneve_tnl_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport__parms.html">vport_parms</a> *&#160;</td>
          <td class="paramname"><em>parms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(parms-&gt;<a class="code" href="structvport__parms.html#a15faa866e3d35a721de77b347017499e">dp</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">struct </span>nlattr *options = parms-&gt;<a class="code" href="structvport__parms.html#a5c6027e758731e1a16968e77d4e2ca7c">options</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keyword">struct </span><a class="code" href="structgeneve__port.html">geneve_port</a> *<a class="code" href="structgeneve__port.html">geneve_port</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">struct </span>geneve_sock *gs;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvport.html">vport</a> *<a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">struct </span>nlattr *a;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    u16 dst_port;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (!options) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    a = <a class="code" href="net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a>(options, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (a &amp;&amp; nla_len(a) == <span class="keyword">sizeof</span>(u16)) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        dst_port = nla_get_u16(a);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment">/* Require destination port from userspace. */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    vport = <a class="code" href="linux_2vport_8c.html#a9198ee06111592d2cf6c3b2bf94561c1">ovs_vport_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> geneve_port),</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                &amp;<a class="code" href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a>, parms);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(vport))</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    geneve_port = <a class="code" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a>(vport);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    strncpy(geneve_port-&gt;<a class="code" href="structgeneve__port.html#aab8c32b9d0a9be9e27711cd5a7f41226">name</a>, parms-&gt;<a class="code" href="structvport__parms.html#a4f27e2a7b7dc0493c095cdaabe225b38">name</a>, IFNAMSIZ);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    gs = geneve_sock_add(net, htons(dst_port), <a class="code" href="linux_2vport-geneve_8c.html#a0266c855cef0a46188e7bf48485171c4">geneve_rcv</a>, vport, <span class="keyword">true</span>, 0);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(gs)) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a>(vport);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)gs;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    geneve_port-&gt;<a class="code" href="structgeneve__port.html#a4748918f17f05d385384df054553a612">gs</a> = gs;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;error:</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> ERR_PTR(err);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="linux_2vport_8c_html_a9198ee06111592d2cf6c3b2bf94561c1"><div class="ttname"><a href="linux_2vport_8c.html#a9198ee06111592d2cf6c3b2bf94561c1">ovs_vport_alloc</a></div><div class="ttdeci">struct vport * ovs_vport_alloc(int priv_size, const struct vport_ops *ops, const struct vport_parms *parms)</div><div class="ttdef"><b>Definition:</b> vport.c:137</div></div>
<div class="ttc" id="structvport__parms_html_a5c6027e758731e1a16968e77d4e2ca7c"><div class="ttname"><a href="structvport__parms.html#a5c6027e758731e1a16968e77d4e2ca7c">vport_parms::options</a></div><div class="ttdeci">struct nlattr * options</div><div class="ttdef"><b>Definition:</b> vport.h:135</div></div>
<div class="ttc" id="structgeneve__port_html_a4748918f17f05d385384df054553a612"><div class="ttname"><a href="structgeneve__port.html#a4748918f17f05d385384df054553a612">geneve_port::gs</a></div><div class="ttdeci">struct geneve_sock * gs</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:38</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_ad9b8555c118ad2e5874c3ab931390752"><div class="ttname"><a href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_geneve_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:30</div></div>
<div class="ttc" id="structvport__parms_html_a4f27e2a7b7dc0493c095cdaabe225b38"><div class="ttname"><a href="structvport__parms.html#a4f27e2a7b7dc0493c095cdaabe225b38">vport_parms::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> vport.h:133</div></div>
<div class="ttc" id="net_2netlink_8h_html_a5b73cd8f4a1d3d335642ee1492b7b2c2"><div class="ttname"><a href="net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a></div><div class="ttdeci">static struct nlattr * nla_find_nested(struct nlattr *nla, int attrtype)</div><div class="ttdef"><b>Definition:</b> netlink.h:60</div></div>
<div class="ttc" id="structgeneve__port_html_aab8c32b9d0a9be9e27711cd5a7f41226"><div class="ttname"><a href="structgeneve__port.html#aab8c32b9d0a9be9e27711cd5a7f41226">geneve_port::name</a></div><div class="ttdeci">char name[IFNAMSIZ]</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:39</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:106</div></div>
<div class="ttc" id="structvport__parms_html_a15faa866e3d35a721de77b347017499e"><div class="ttname"><a href="structvport__parms.html#a15faa866e3d35a721de77b347017499e">vport_parms::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:138</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aa51b640340c7d2eaf45af423bc1e0931"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a></div><div class="ttdeci">static struct geneve_port * geneve_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:44</div></div>
<div class="ttc" id="structgeneve__port_html"><div class="ttname"><a href="structgeneve__port.html">geneve_port</a></div><div class="ttdef"><b>Definition:</b> vport-geneve.c:37</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:295</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="linux_2vport_8c_html_a17e57e95b47bad0bcf00e2e2805e2170"><div class="ttname"><a href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a></div><div class="ttdeci">void ovs_vport_free(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.c:194</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_a0266c855cef0a46188e7bf48485171c4"><div class="ttname"><a href="linux_2vport-geneve_8c.html#a0266c855cef0a46188e7bf48485171c4">geneve_rcv</a></div><div class="ttdeci">static void geneve_rcv(struct geneve_sock *gs, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:80</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0a5d6fd5319e6c71acd2af4bde2c833"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void geneve_tnl_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">struct </span><a class="code" href="structgeneve__port.html">geneve_port</a> *<a class="code" href="structgeneve__port.html">geneve_port</a> = <a class="code" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a>(vport);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    geneve_sock_release(geneve_port-&gt;<a class="code" href="structgeneve__port.html#a4748918f17f05d385384df054553a612">gs</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="linux_2vport_8c.html#a91949289f78c0f0c2433ef5f20495e66">ovs_vport_deferred_free</a>(vport);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="ttc" id="structgeneve__port_html_a4748918f17f05d385384df054553a612"><div class="ttname"><a href="structgeneve__port.html#a4748918f17f05d385384df054553a612">geneve_port::gs</a></div><div class="ttdeci">struct geneve_sock * gs</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:38</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aa51b640340c7d2eaf45af423bc1e0931"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a></div><div class="ttdeci">static struct geneve_port * geneve_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:44</div></div>
<div class="ttc" id="structgeneve__port_html"><div class="ttname"><a href="structgeneve__port.html">geneve_port</a></div><div class="ttdef"><b>Definition:</b> vport-geneve.c:37</div></div>
<div class="ttc" id="linux_2vport_8c_html_a91949289f78c0f0c2433ef5f20495e66"><div class="ttname"><a href="linux_2vport_8c.html#a91949289f78c0f0c2433ef5f20495e66">ovs_vport_deferred_free</a></div><div class="ttdeci">void ovs_vport_deferred_free(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.c:577</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7cfa0fa94438ef4fddf79129f8346d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int geneve_tnl_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a> *<a class="code" href="flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *tun_info;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">struct </span><a class="code" href="structgeneve__port.html">geneve_port</a> *<a class="code" href="structgeneve__port.html">geneve_port</a> = <a class="code" href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a>(vport);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    __be16 dport = <a class="code" href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a>(geneve_port-&gt;<a class="code" href="structgeneve__port.html#a4748918f17f05d385384df054553a612">gs</a>-&gt;sock-&gt;sk);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    __be16 sport;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    __be32 saddr;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">struct </span>rtable *rt;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    u8 vni[3], opts_len, *opts;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    __be16 df;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    tun_info = <a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (unlikely(!tun_info)) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    tun_key = &amp;tun_info-&gt;<a class="code" href="structovs__tunnel__info.html#a007f0c7a9938884e6e8663cb4ab20d10">tunnel</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    saddr = tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a1e5a978f104d61e9694e914a109734a7">ipv4_src</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    rt = <a class="code" href="compat_8h.html#a9fd71ce2d13a3dcc4f7d51469ba86d79">find_route</a>(<a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>),</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            &amp;saddr, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ipv4_dst</a>,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            IPPROTO_UDP, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ipv4_tos</a>,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            skb-&gt;mark);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(rt)) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        err = PTR_ERR(rt);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">goto</span> error;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    df = tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#a3b33c8fadb48f2281d5852e2a0d8eeff">TUNNEL_DONT_FRAGMENT</a> ? htons(IP_DF) : 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    sport = <a class="code" href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a>(net, skb, 1, <a class="code" href="kernel_8h.html#a689b119da994dece91d44b5aeac643ed">USHRT_MAX</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="linux_2vport-geneve_8c.html#a50b7591d7d9bf380d0f2899042668880">tunnel_id_to_vni</a>(tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae36132bc05ca6257b572edddffcb867a">tun_id</a>, vni);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    skb-&gt;ignore_df = 1;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#a730279275492612f215921bf96742457">TUNNEL_GENEVE_OPT</a>) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        opts = (u8 *)tun_info-&gt;<a class="code" href="structovs__tunnel__info.html#ae4fd786894f579a38a5955e7a0e68fd4">options</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        opts_len = tun_info-&gt;<a class="code" href="structovs__tunnel__info.html#ab50d289f61727b922831739affb28b18">options_len</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        opts = NULL;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        opts_len = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    err = geneve_xmit_skb(geneve_port-&gt;<a class="code" href="structgeneve__port.html#a4748918f17f05d385384df054553a612">gs</a>, rt, skb, saddr,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                  tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ipv4_dst</a>, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ipv4_tos</a>,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                  tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a24de7472a8c22903fce96b73dab68a40">ipv4_ttl</a>, df, sport, dport,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                  tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a>, vni, opts_len, opts,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                  !!(tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a>), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        ip_rt_put(rt);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;error:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    kfree_skb(skb);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="ttc" id="compat_8h_html_a9fd71ce2d13a3dcc4f7d51469ba86d79"><div class="ttname"><a href="compat_8h.html#a9fd71ce2d13a3dcc4f7d51469ba86d79">find_route</a></div><div class="ttdeci">static struct rtable * find_route(struct net *net, __be32 *saddr, __be32 daddr, u8 ipproto, u8 tos, u32 skb_mark)</div><div class="ttdef"><b>Definition:</b> compat.h:46</div></div>
<div class="ttc" id="structovs__tunnel__info_html"><div class="ttname"><a href="structovs__tunnel__info.html">ovs_tunnel_info</a></div><div class="ttdef"><b>Definition:</b> flow.h:54</div></div>
<div class="ttc" id="structovs__tunnel__info_html_ae4fd786894f579a38a5955e7a0e68fd4"><div class="ttname"><a href="structovs__tunnel__info.html#ae4fd786894f579a38a5955e7a0e68fd4">ovs_tunnel_info::options</a></div><div class="ttdeci">const void * options</div><div class="ttdef"><b>Definition:</b> flow.h:56</div></div>
<div class="ttc" id="ip__tunnels_8h_html_ac8dc03940c0621b1aeddafa9b620022c"><div class="ttname"><a href="ip__tunnels_8h.html#ac8dc03940c0621b1aeddafa9b620022c">TUNNEL_CSUM</a></div><div class="ttdeci">#define TUNNEL_CSUM</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:42</div></div>
<div class="ttc" id="structgeneve__port_html_a4748918f17f05d385384df054553a612"><div class="ttname"><a href="structgeneve__port.html#a4748918f17f05d385384df054553a612">geneve_port::gs</a></div><div class="ttdeci">struct geneve_sock * gs</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:38</div></div>
<div class="ttc" id="kernel_8h_html_a689b119da994dece91d44b5aeac643ed"><div class="ttname"><a href="kernel_8h.html#a689b119da994dece91d44b5aeac643ed">USHRT_MAX</a></div><div class="ttdeci">#define USHRT_MAX</div><div class="ttdef"><b>Definition:</b> kernel.h:50</div></div>
<div class="ttc" id="compat_8h_html_a66c1f58d06b91a3e79cf388a80e5096b"><div class="ttname"><a href="compat_8h.html#a66c1f58d06b91a3e79cf388a80e5096b">inet_sport</a></div><div class="ttdeci">#define inet_sport(sk)</div><div class="ttdef"><b>Definition:</b> compat.h:43</div></div>
<div class="ttc" id="flow_8h_html_a904e9497acde49a1992636f77597c5c7"><div class="ttname"><a href="flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a></div><div class="ttdeci">struct ovs_key_ipv4_tunnel tun_key</div><div class="ttdef"><b>Definition:</b> flow.h:105</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a69594eaf9d7dfc2824b264484e02498e"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ovs_key_ipv4_tunnel::ipv4_tos</a></div><div class="ttdeci">u8 ipv4_tos</div><div class="ttdef"><b>Definition:</b> flow.h:48</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structvport_html_a49fb6f6bf0ac4337853e9242e88ddc42"><div class="ttname"><a href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">vport::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:108</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a7459e66ecf90329eb2fa6cf3fc4781db"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">ovs_key_ipv4_tunnel::tun_flags</a></div><div class="ttdeci">__be16 tun_flags</div><div class="ttdef"><b>Definition:</b> flow.h:47</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a730279275492612f215921bf96742457"><div class="ttname"><a href="ip__tunnels_8h.html#a730279275492612f215921bf96742457">TUNNEL_GENEVE_OPT</a></div><div class="ttdeci">#define TUNNEL_GENEVE_OPT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:72</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_a50b7591d7d9bf380d0f2899042668880"><div class="ttname"><a href="linux_2vport-geneve_8c.html#a50b7591d7d9bf380d0f2899042668880">tunnel_id_to_vni</a></div><div class="ttdeci">static void tunnel_id_to_vni(__be64 tun_id, __u8 *vni)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:55</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_ae443d381a97f53bbc4139fe36c0aae30"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ovs_key_ipv4_tunnel::ipv4_dst</a></div><div class="ttdeci">__be32 ipv4_dst</div><div class="ttdef"><b>Definition:</b> flow.h:46</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a></div><div class="ttdef"><b>Definition:</b> flow.h:43</div></div>
<div class="ttc" id="structovs__tunnel__info_html_a007f0c7a9938884e6e8663cb4ab20d10"><div class="ttname"><a href="structovs__tunnel__info.html#a007f0c7a9938884e6e8663cb4ab20d10">ovs_tunnel_info::tunnel</a></div><div class="ttdeci">struct ovs_key_ipv4_tunnel tunnel</div><div class="ttdef"><b>Definition:</b> flow.h:55</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a1e5a978f104d61e9694e914a109734a7"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a1e5a978f104d61e9694e914a109734a7">ovs_key_ipv4_tunnel::ipv4_src</a></div><div class="ttdeci">__be32 ipv4_src</div><div class="ttdef"><b>Definition:</b> flow.h:45</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a24de7472a8c22903fce96b73dab68a40"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a24de7472a8c22903fce96b73dab68a40">ovs_key_ipv4_tunnel::ipv4_ttl</a></div><div class="ttdeci">u8 ipv4_ttl</div><div class="ttdef"><b>Definition:</b> flow.h:49</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aa51b640340c7d2eaf45af423bc1e0931"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aa51b640340c7d2eaf45af423bc1e0931">geneve_vport</a></div><div class="ttdeci">static struct geneve_port * geneve_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:44</div></div>
<div class="ttc" id="structgeneve__port_html"><div class="ttname"><a href="structgeneve__port.html">geneve_port</a></div><div class="ttdef"><b>Definition:</b> vport-geneve.c:37</div></div>
<div class="ttc" id="net_2udp_8h_html_afe6572fca30bf3135b12944bcd7e6c39"><div class="ttname"><a href="net_2udp_8h.html#afe6572fca30bf3135b12944bcd7e6c39">udp_flow_src_port</a></div><div class="ttdeci">#define udp_flow_src_port</div><div class="ttdef"><b>Definition:</b> udp.h:46</div></div>
<div class="ttc" id="structovs__tunnel__info_html_ab50d289f61727b922831739affb28b18"><div class="ttname"><a href="structovs__tunnel__info.html#ab50d289f61727b922831739affb28b18">ovs_tunnel_info::options_len</a></div><div class="ttdeci">u8 options_len</div><div class="ttdef"><b>Definition:</b> flow.h:57</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_ae36132bc05ca6257b572edddffcb867a"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#ae36132bc05ca6257b572edddffcb867a">ovs_key_ipv4_tunnel::tun_id</a></div><div class="ttdeci">__be64 tun_id</div><div class="ttdef"><b>Definition:</b> flow.h:44</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a3b33c8fadb48f2281d5852e2a0d8eeff"><div class="ttname"><a href="ip__tunnels_8h.html#a3b33c8fadb48f2281d5852e2a0d8eeff">TUNNEL_DONT_FRAGMENT</a></div><div class="ttdeci">#define TUNNEL_DONT_FRAGMENT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:63</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa51b640340c7d2eaf45af423bc1e0931"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structgeneve__port.html">geneve_port</a>* geneve_vport </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vport_8h.html#ad18aa811f80cfd4c3895d96f7f3f4acd">vport_priv</a>(vport);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="ttc" id="vport_8h_html_ad18aa811f80cfd4c3895d96f7f3f4acd"><div class="ttname"><a href="vport_8h.html#ad18aa811f80cfd4c3895d96f7f3f4acd">vport_priv</a></div><div class="ttdeci">static void * vport_priv(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.h:206</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa66e082c97d7820eb9eb166e6cf4b996"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">geneve_ports&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6f89164187509105f25d6071184282d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_ALIAS </td>
          <td>(</td>
          <td class="paramtype">&quot;vport-<a class="el" href="flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>-5&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afa1a2e7e8154bcd5ff96b22a9153cd52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;OVS: Geneve swiching port&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a77ee305130afe983aa92a926c6e91f88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vport-geneve_8c.html#a8fcdbd3154bb84fb2ab88296a0bd03c7">ovs_geneve_tnl_exit</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a67da53b39bd67cb2fe98ebf15b882489"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vport-geneve_8c.html#a250fcfc7da979abfb351d5290b7ae319">ovs_geneve_tnl_init</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8fcdbd3154bb84fb2ab88296a0bd03c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit ovs_geneve_tnl_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="linux_2vport_8c.html#a8659a5c436f2b09d0b6be2c208ee790e">ovs_vport_ops_unregister</a>(&amp;<a class="code" href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="ttc" id="linux_2vport-geneve_8c_html_ad9b8555c118ad2e5874c3ab931390752"><div class="ttname"><a href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_geneve_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:30</div></div>
<div class="ttc" id="linux_2vport_8c_html_a8659a5c436f2b09d0b6be2c208ee790e"><div class="ttname"><a href="linux_2vport_8c.html#a8659a5c436f2b09d0b6be2c208ee790e">ovs_vport_ops_unregister</a></div><div class="ttdeci">void ovs_vport_ops_unregister(struct vport_ops *ops)</div><div class="ttdef"><b>Definition:</b> vport.c:98</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a250fcfc7da979abfb351d5290b7ae319"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __init ovs_geneve_tnl_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="linux_2vport_8c.html#a6b6d24642324a66b7bacab2909bea2dc">ovs_vport_ops_register</a>(&amp;<a class="code" href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="ttc" id="linux_2vport-geneve_8c_html_ad9b8555c118ad2e5874c3ab931390752"><div class="ttname"><a href="linux_2vport-geneve_8c.html#ad9b8555c118ad2e5874c3ab931390752">ovs_geneve_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_geneve_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:30</div></div>
<div class="ttc" id="linux_2vport_8c_html_a6b6d24642324a66b7bacab2909bea2dc"><div class="ttname"><a href="linux_2vport_8c.html#a6b6d24642324a66b7bacab2909bea2dc">ovs_vport_ops_register</a></div><div class="ttdeci">int ovs_vport_ops_register(struct vport_ops *ops)</div><div class="ttdef"><b>Definition:</b> vport.c:80</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50b7591d7d9bf380d0f2899042668880"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tunnel_id_to_vni </td>
          <td>(</td>
          <td class="paramtype">__be64&#160;</td>
          <td class="paramname"><em>tun_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u8 *&#160;</td>
          <td class="paramname"><em>vni</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifdef __BIG_ENDIAN</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    vni[0] = (__force __u8)(<a class="code" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 16);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    vni[1] = (__force __u8)(<a class="code" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 8);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    vni[2] = (__force __u8)<a class="code" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    vni[0] = (__force __u8)((__force u64)<a class="code" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 40);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    vni[1] = (__force __u8)((__force u64)<a class="code" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 48);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    vni[2] = (__force __u8)((__force u64)<a class="code" href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 56);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div>
<div class="ttc" id="flow_8h_html_aba5027d7a3d96f0f58dd8e607365934b"><div class="ttname"><a href="flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a></div><div class="ttdeci">__be64 tun_id</div><div class="ttdef"><b>Definition:</b> flow.h:717</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a4714395c3a408973e64b315af6ac35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __be64 vni_to_tunnel_id </td>
          <td>(</td>
          <td class="paramtype">const __u8 *&#160;</td>
          <td class="paramname"><em>vni</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#ifdef __BIG_ENDIAN</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">return</span> (vni[0] &lt;&lt; 16) | (vni[1] &lt;&lt; 8) | vni[2];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> (__force __be64)(((__force u64)vni[0] &lt;&lt; 40) |</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                ((__force u64)vni[1] &lt;&lt; 48) |</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                ((__force u64)vni[2] &lt;&lt; 56));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ad9b8555c118ad2e5874c3ab931390752"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvport__ops.html">vport_ops</a> ovs_geneve_vport_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .type           = <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa8b60aa1406bfa154f35ede891a4ea382">OVS_VPORT_TYPE_GENEVE</a>,</div>
<div class="line">    .create         = <a class="code" href="linux_2vport-geneve_8c.html#a6b9a4a56d5a598c17c0bbfffce774798">geneve_tnl_create</a>,</div>
<div class="line">    .destroy        = <a class="code" href="linux_2vport-geneve_8c.html#ab0a5d6fd5319e6c71acd2af4bde2c833">geneve_tnl_destroy</a>,</div>
<div class="line">    .get_name       = <a class="code" href="linux_2vport-geneve_8c.html#a8f9770cc8d8fc8fad0f6f05a783513df">geneve_get_name</a>,</div>
<div class="line">    .get_options        = <a class="code" href="linux_2vport-geneve_8c.html#a08a891b83a07b3300134c1340f329e84">geneve_get_options</a>,</div>
<div class="line">    .send           = <a class="code" href="linux_2vport-geneve_8c.html#af7cfa0fa94438ef4fddf79129f8346d4">geneve_tnl_send</a>,</div>
<div class="line">    .get_egress_tun_info    = <a class="code" href="linux_2vport-geneve_8c.html#aed60d6de8f65dc856030e1ff6196b198">geneve_get_egress_tun_info</a>,</div>
<div class="line">    .owner          = THIS_MODULE,</div>
<div class="line">}</div>
<div class="ttc" id="linux_2vport-geneve_8c_html_aed60d6de8f65dc856030e1ff6196b198"><div class="ttname"><a href="linux_2vport-geneve_8c.html#aed60d6de8f65dc856030e1ff6196b198">geneve_get_egress_tun_info</a></div><div class="ttdeci">static int geneve_get_egress_tun_info(struct vport *vport, struct sk_buff *skb, struct ovs_tunnel_info *egress_tun_info)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:237</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_a08a891b83a07b3300134c1340f329e84"><div class="ttname"><a href="linux_2vport-geneve_8c.html#a08a891b83a07b3300134c1340f329e84">geneve_get_options</a></div><div class="ttdeci">static int geneve_get_options(const struct vport *vport, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:106</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_a6b9a4a56d5a598c17c0bbfffce774798"><div class="ttname"><a href="linux_2vport-geneve_8c.html#a6b9a4a56d5a598c17c0bbfffce774798">geneve_tnl_create</a></div><div class="ttdeci">static struct vport * geneve_tnl_create(const struct vport_parms *parms)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:126</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_a8f9770cc8d8fc8fad0f6f05a783513df"><div class="ttname"><a href="linux_2vport-geneve_8c.html#a8f9770cc8d8fc8fad0f6f05a783513df">geneve_get_name</a></div><div class="ttdeci">static const char * geneve_get_name(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:230</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_ab0a5d6fd5319e6c71acd2af4bde2c833"><div class="ttname"><a href="linux_2vport-geneve_8c.html#ab0a5d6fd5319e6c71acd2af4bde2c833">geneve_tnl_destroy</a></div><div class="ttdeci">static void geneve_tnl_destroy(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:117</div></div>
<div class="ttc" id="linux_2vport-geneve_8c_html_af7cfa0fa94438ef4fddf79129f8346d4"><div class="ttname"><a href="linux_2vport-geneve_8c.html#af7cfa0fa94438ef4fddf79129f8346d4">geneve_tnl_send</a></div><div class="ttdeci">static int geneve_tnl_send(struct vport *vport, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-geneve.c:171</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa8b60aa1406bfa154f35ede891a4ea382"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa8b60aa1406bfa154f35ede891a4ea382">OVS_VPORT_TYPE_GENEVE</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:230</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_735673ca58647e7dec4e87713fc0822e.html">ovs</a></li><li class="navelem"><a class="el" href="dir_f0eaa0aee046c2546aa3d47fe4e5c43a.html">datapath</a></li><li class="navelem"><a class="el" href="dir_db53fb08f45ea6d3b6338ab82a3d6c6d.html">linux</a></li><li class="navelem"><a class="el" href="linux_2vport-geneve_8c.html">vport-geneve.c</a></li>
    <li class="footer">Generated on Mon Aug 17 2015 11:15:08 for ovs datapath by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
