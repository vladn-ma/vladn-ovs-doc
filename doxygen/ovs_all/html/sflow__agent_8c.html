<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/lib/sflow_agent.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sflow__agent_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sflow_agent.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sflow__api_8h_source.html">sflow_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lib_2util_8h_source.html">util.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sflow_agent.c:</div>
<div class="dyncontent">
<div class="center"><img src="sflow__agent_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2lib_2sflow__agent_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2lib_2sflow__agent_8c" id="_2home_2vladn_2git_2ovs_2lib_2sflow__agent_8c">
<area shape="rect" id="node2" href="sflow__api_8h.html" title="sflow_api.h" alt="" coords="313,95,401,121"/><area shape="rect" id="node14" href="lib_2util_8h.html" title="util.h" alt="" coords="805,95,855,121"/><area shape="rect" id="node3" href="stdio_8h.html" title="stdio.h" alt="" coords="610,169,671,196"/><area shape="rect" id="node5" href="unistd_8h.html" title="unistd.h" alt="" coords="144,169,212,196"/><area shape="rect" id="node8" href="string_8h.html" title="string.h" alt="" coords="413,169,479,196"/><area shape="rect" id="node11" href="sflow_8h.html" title="sflow.h" alt="" coords="237,169,301,196"/><area shape="rect" id="node12" href="include_2openvswitch_2types_8h.html" title="openvswitch/types.h" alt="" coords="412,244,555,271"/><area shape="rect" id="node19" href="stddef_8h.html" title="stddef.h" alt="" coords="746,169,815,196"/><area shape="rect" id="node20" href="lib_2compiler_8h.html" title="compiler.h" alt="" coords="839,169,922,196"/><area shape="rect" id="node22" href="include_2openvswitch_2util_8h.html" title="openvswitch/util.h" alt="" coords="947,169,1073,196"/><area shape="rect" id="node21" href="include_2openvswitch_2compiler_8h.html" title="openvswitch/compiler.h" alt="" coords="739,244,897,271"/><area shape="rect" id="node23" href="version_8h.html" title="openvswitch/version.h" alt="" coords="922,244,1074,271"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1a7462d591fccbe2591fd5f67f4da3fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a1a7462d591fccbe2591fd5f67f4da3fa">MAX_ERRMSG_LEN</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a1a7462d591fccbe2591fd5f67f4da3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a46c4650f8660017af626251fde667cce"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, size_t bytes)</td></tr>
<tr class="separator:a46c4650f8660017af626251fde667cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab221af38cc4f903fee6518448d05f506"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, void *obj)</td></tr>
<tr class="separator:ab221af38cc4f903fee6518448d05f506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ce38423932546392058eeca027a706"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a15ce38423932546392058eeca027a706">sfl_agent_jumpTableAdd</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *sampler)</td></tr>
<tr class="separator:a15ce38423932546392058eeca027a706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc27292d40b8124879f83b8e0bebdadc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#acc27292d40b8124879f83b8e0bebdadc">sfl_agent_jumpTableRemove</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *sampler)</td></tr>
<tr class="separator:acc27292d40b8124879f83b8e0bebdadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f4d001da815a161a46371de93f4f3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a33f4d001da815a161a46371de93f4f3c">sfl_agent_init</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow_8h.html#ab8f0bb35a701a9d31421e4a139db4e6f">SFLAddress</a> *myIP, <a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> subId, time_t bootTime, time_t <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, void *<a class="el" href="log_8c.html#aa4ecc632dda2272bc110b83b299dbbdb">magic</a>, <a class="el" href="sflow__api_8h.html#aecd21d23bb3862fd7107b8558182b166">allocFn_t</a> allocFn, <a class="el" href="sflow__api_8h.html#a570388bbcc4f21af413532734d6c3678">freeFn_t</a> freeFn, <a class="el" href="sflow__api_8h.html#a4b44a2e3e73eaee23fb8d1d36149e570">errorFn_t</a> errorFn, <a class="el" href="sflow__api_8h.html#a68cd1c081c0dedde2b6c27f9cf3ce4e2">sendFn_t</a> sendFn)</td></tr>
<tr class="separator:a33f4d001da815a161a46371de93f4f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e534a57c3ceaacce716a095583e8eb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a9e534a57c3ceaacce716a095583e8eb3">sfl_agent_release</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent)</td></tr>
<tr class="separator:a9e534a57c3ceaacce716a095583e8eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86adcd92dca676abff0f31895390bf15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a86adcd92dca676abff0f31895390bf15">sfl_agent_set_agentAddress</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow_8h.html#ab8f0bb35a701a9d31421e4a139db4e6f">SFLAddress</a> *<a class="el" href="datapath_2flow_8h.html#a535ce925c585c41d434f7481f342c976">addr</a>)</td></tr>
<tr class="separator:a86adcd92dca676abff0f31895390bf15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb40f20a5d08982aa225e0a79704850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a6fb40f20a5d08982aa225e0a79704850">sfl_agent_set_agentSubId</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> subId)</td></tr>
<tr class="separator:a6fb40f20a5d08982aa225e0a79704850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba991908716288891e7c4c7b2db1e10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#aeba991908716288891e7c4c7b2db1e10">sfl_agent_tick</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, time_t <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:aeba991908716288891e7c4c7b2db1e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ae9269fc2c0b50cb4a5bbfb2aa286b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a90ae9269fc2c0b50cb4a5bbfb2aa286b">sfl_agent_addReceiver</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent)</td></tr>
<tr class="separator:a90ae9269fc2c0b50cb4a5bbfb2aa286b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5063dc68342e553b22ccde22fb9575"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a> (<a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi1, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi2)</td></tr>
<tr class="separator:a6b5063dc68342e553b22ccde22fb9575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9881e47fb0194bad1cbf9023e6673d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a5d9881e47fb0194bad1cbf9023e6673d">sfl_agent_addSampler</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:a5d9881e47fb0194bad1cbf9023e6673d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0e59dd88f2c09dafb3d65babf5a2a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#ada0e59dd88f2c09dafb3d65babf5a2a5">sfl_agent_addPoller</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi, void *<a class="el" href="log_8c.html#aa4ecc632dda2272bc110b83b299dbbdb">magic</a>, <a class="el" href="sflow__api_8h.html#adf2ef770831c6ece210a97c3b05c98fc">getCountersFn_t</a> getCountersFn)</td></tr>
<tr class="separator:ada0e59dd88f2c09dafb3d65babf5a2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3eb6523844c6312961170e4c3d2cf64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#ae3eb6523844c6312961170e4c3d2cf64">sfl_agent_removeSampler</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:ae3eb6523844c6312961170e4c3d2cf64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6385824c79f1bc4fb9398867e04f8f63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a6385824c79f1bc4fb9398867e04f8f63">sfl_agent_removePoller</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:a6385824c79f1bc4fb9398867e04f8f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e0b701313602e5692b3d02d9fbc84a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a96e0b701313602e5692b3d02d9fbc84a">sfl_agent_getSamplerByIfIndex</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> ifIndex)</td></tr>
<tr class="separator:a96e0b701313602e5692b3d02d9fbc84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfbdd61b0627b3c86417791e5ab9917"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#aabfbdd61b0627b3c86417791e5ab9917">sfl_agent_getSampler</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:aabfbdd61b0627b3c86417791e5ab9917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4d7a8c835e51f10820c9b21114b152"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a3b4d7a8c835e51f10820c9b21114b152">sfl_agent_getPoller</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:a3b4d7a8c835e51f10820c9b21114b152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a098fd16aa01be2e3bccf5316e7ccb772"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a098fd16aa01be2e3bccf5316e7ccb772">sfl_agent_getPollerByBridgePort</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> port_no)</td></tr>
<tr class="separator:a098fd16aa01be2e3bccf5316e7ccb772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402655735e53f30c505213c3efa51a68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a402655735e53f30c505213c3efa51a68">sfl_agent_getReceiver</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> receiverIndex)</td></tr>
<tr class="separator:a402655735e53f30c505213c3efa51a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962e0c461f255ca7f0d6bcd1db66413d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a962e0c461f255ca7f0d6bcd1db66413d">sfl_agent_getNextSampler</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:a962e0c461f255ca7f0d6bcd1db66413d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930c230d18ea0a9545b89c15a3d349da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a930c230d18ea0a9545b89c15a3d349da">sfl_agent_getNextPoller</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *pdsi)</td></tr>
<tr class="separator:a930c230d18ea0a9545b89c15a3d349da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ed0bec575c4f9c7680f57c102ce88e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a17ed0bec575c4f9c7680f57c102ce88e">sfl_agent_getNextReceiver</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> receiverIndex)</td></tr>
<tr class="separator:a17ed0bec575c4f9c7680f57c102ce88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e627a44673b28c69875b47d14f80aae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a6e627a44673b28c69875b47d14f80aae">sfl_agent_resetReceiver</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, <a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a> *receiver)</td></tr>
<tr class="separator:a6e627a44673b28c69875b47d14f80aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2160e5a06c539143fdf6b6472c0e82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a0c2160e5a06c539143fdf6b6472c0e82">sfl_agent_error</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, char *modName, char *<a class="el" href="structmsg.html">msg</a>)</td></tr>
<tr class="separator:a0c2160e5a06c539143fdf6b6472c0e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e39077502e90462da3e6d26f33ccc89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sflow__agent_8c.html#a3e39077502e90462da3e6d26f33ccc89">sfl_agent_sysError</a> (<a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *agent, char *modName, char *<a class="el" href="structmsg.html">msg</a>)</td></tr>
<tr class="separator:a3e39077502e90462da3e6d26f33ccc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a1a7462d591fccbe2591fd5f67f4da3fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ERRMSG_LEN&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ada0e59dd88f2c09dafb3d65babf5a2a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a>* sfl_agent_addPoller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adf2ef770831c6ece210a97c3b05c98fc">getCountersFn_t</a>&#160;</td>
          <td class="paramname"><em>getCountersFn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">/* keep the list sorted */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *prev = NULL, *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">for</span>(; pl != NULL; prev = pl, pl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="Types_8h.html#a996e72f71b11a5bb8b3b7b6936b1516d">int64_t</a> cmp = <a class="code" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a>(pdsi, &amp;pl-&gt;dsi);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span>(cmp == 0) <span class="keywordflow">return</span> pl;  <span class="comment">/* found - return existing one */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span>(cmp &lt; 0) <span class="keywordflow">break</span>;       <span class="comment">/* insert here */</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">/* either we found the insert point, or reached the end of the list... */</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *newpl = (<a class="code" href="struct__SFLPoller.html">SFLPoller</a> *)<a class="code" href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a>(agent, <span class="keyword">sizeof</span>(<a class="code" href="struct__SFLPoller.html">SFLPoller</a>));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="sflow__api_8h.html#a984c42eec7e023370fcc21acb3bfd500">sfl_poller_init</a>(newpl, agent, pdsi, <a class="code" href="log_8c.html#aa4ecc632dda2272bc110b83b299dbbdb">magic</a>, getCountersFn);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span>(prev) prev-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a> = newpl;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">else</span> agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a> = newpl;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    newpl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a> = pl;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> newpl;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_a984c42eec7e023370fcc21acb3bfd500"><div class="ttname"><a href="sflow__api_8h.html#a984c42eec7e023370fcc21acb3bfd500">sfl_poller_init</a></div><div class="ttdeci">void sfl_poller_init(SFLPoller *poller, SFLAgent *agent, SFLDataSource_instance *pdsi, void *magic, getCountersFn_t getCountersFn)</div><div class="ttdef"><b>Definition:</b> sflow_poller.c:15</div></div>
<div class="ttc" id="log_8c_html_aa4ecc632dda2272bc110b83b299dbbdb"><div class="ttname"><a href="log_8c.html#aa4ecc632dda2272bc110b83b299dbbdb">magic</a></div><div class="ttdeci">static const char magic[]</div><div class="ttdef"><b>Definition:</b> log.c:165</div></div>
<div class="ttc" id="Types_8h_html_a996e72f71b11a5bb8b3b7b6936b1516d"><div class="ttname"><a href="Types_8h.html#a996e72f71b11a5bb8b3b7b6936b1516d">int64_t</a></div><div class="ttdeci">long long int64_t</div><div class="ttdef"><b>Definition:</b> Types.h:23</div></div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="sflow__agent_8c_html_a46c4650f8660017af626251fde667cce"><div class="ttname"><a href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a></div><div class="ttdeci">static void * sflAlloc(SFLAgent *agent, size_t bytes)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:502</div></div>
<div class="ttc" id="sflow__agent_8c_html_a6b5063dc68342e553b22ccde22fb9575"><div class="ttname"><a href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a></div><div class="ttdeci">static int sfl_dsi_compare(SFLDataSource_instance *pdsi1, SFLDataSource_instance *pdsi2)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:170</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90ae9269fc2c0b50cb4a5bbfb2aa286b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a>* sfl_agent_addReceiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *rcv = (<a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *)<a class="code" href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a>(agent, <span class="keyword">sizeof</span>(<a class="code" href="struct__SFLReceiver.html">SFLReceiver</a>));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="sflow__api_8h.html#a456863e8095cdb03dd873641dc165d49">sfl_receiver_init</a>(rcv, agent);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">/* add to end of list - to preserve the receiver index numbers for existing receivers */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *<a class="code" href="namespacetest-reconnect.html#accff33e9abe88c68b63febcdca8e2060">r</a>, *prev = NULL;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">for</span>(r = agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a>; r != NULL; prev = r, r = r-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span>(prev) prev-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a> = rcv;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">else</span> agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a> = rcv;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    rcv-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a> = NULL;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> rcv;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_ae3dc671e6a223088b81ea0f61c346578"><div class="ttname"><a href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">_SFLAgent::receivers</a></div><div class="ttdeci">SFLReceiver * receivers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:189</div></div>
<div class="ttc" id="struct__SFLReceiver_html_a037cfa213e73a8f79a04297dafe73020"><div class="ttname"><a href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">_SFLReceiver::nxt</a></div><div class="ttdeci">struct _SFLReceiver * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:97</div></div>
<div class="ttc" id="sflow__agent_8c_html_a46c4650f8660017af626251fde667cce"><div class="ttname"><a href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a></div><div class="ttdeci">static void * sflAlloc(SFLAgent *agent, size_t bytes)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:502</div></div>
<div class="ttc" id="struct__SFLReceiver_html"><div class="ttname"><a href="struct__SFLReceiver.html">_SFLReceiver</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:96</div></div>
<div class="ttc" id="sflow__api_8h_html_a456863e8095cdb03dd873641dc165d49"><div class="ttname"><a href="sflow__api_8h.html#a456863e8095cdb03dd873641dc165d49">sfl_receiver_init</a></div><div class="ttdeci">void sfl_receiver_init(SFLReceiver *receiver, SFLAgent *agent)</div><div class="ttdef"><b>Definition:</b> sflow_receiver.c:27</div></div>
<div class="ttc" id="namespacetest-reconnect_html_accff33e9abe88c68b63febcdca8e2060"><div class="ttname"><a href="namespacetest-reconnect.html#accff33e9abe88c68b63febcdca8e2060">test-reconnect.r</a></div><div class="ttdeci">r</div><div class="ttdef"><b>Definition:</b> test-reconnect.py:21</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d9881e47fb0194bad1cbf9023e6673d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a>* sfl_agent_addSampler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">/* Keep the list sorted. */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *prev = NULL, *sm = agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">for</span>(; sm != NULL; prev = sm, sm = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="Types_8h.html#a996e72f71b11a5bb8b3b7b6936b1516d">int64_t</a> cmp = <a class="code" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a>(pdsi, &amp;sm-&gt;dsi);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span>(cmp == 0) <span class="keywordflow">return</span> sm;  <span class="comment">/* found - return existing one */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span>(cmp &lt; 0) <span class="keywordflow">break</span>;       <span class="comment">/* insert here */</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">/* either we found the insert point, or reached the end of the list...*/</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *newsm = (<a class="code" href="struct__SFLSampler.html">SFLSampler</a> *)<a class="code" href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a>(agent, <span class="keyword">sizeof</span>(<a class="code" href="struct__SFLSampler.html">SFLSampler</a>));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="sflow__api_8h.html#a411a17405b1b185a17cb50720eeaaa8a">sfl_sampler_init</a>(newsm, agent, pdsi);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span>(prev) prev-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a> = newsm;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">else</span> agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a> = newsm;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    newsm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a> = sm;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">/* see if we should go in the ifIndex jumpTable */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="sflow__api_8h.html#a90c5c78d1f3ff274f1b539e5de0cbbf4">SFL_DS_CLASS</a>(newsm-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>) == 0) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *<a class="code" href="structtest.html">test</a> = <a class="code" href="sflow__agent_8c.html#a96e0b701313602e5692b3d02d9fbc84a">sfl_agent_getSamplerByIfIndex</a>(agent, <a class="code" href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a>(newsm-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">if</span>(test &amp;&amp; (<a class="code" href="sflow__api_8h.html#a56083048a9629558dae6fadae480d56c">SFL_DS_INSTANCE</a>(newsm-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>) &lt; <a class="code" href="sflow__api_8h.html#a56083048a9629558dae6fadae480d56c">SFL_DS_INSTANCE</a>(test-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>))) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">/* replace with this new one because it has a lower ds_instance number */</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="sflow__agent_8c.html#acc27292d40b8124879f83b8e0bebdadc">sfl_agent_jumpTableRemove</a>(agent, test);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        test = NULL;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span>(test == NULL) <a class="code" href="sflow__agent_8c.html#a15ce38423932546392058eeca027a706">sfl_agent_jumpTableAdd</a>(agent, newsm);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> newsm;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_a411a17405b1b185a17cb50720eeaaa8a"><div class="ttname"><a href="sflow__api_8h.html#a411a17405b1b185a17cb50720eeaaa8a">sfl_sampler_init</a></div><div class="ttdeci">void sfl_sampler_init(SFLSampler *sampler, SFLAgent *agent, SFLDataSource_instance *pdsi)</div><div class="ttdef"><b>Definition:</b> sflow_sampler.c:16</div></div>
<div class="ttc" id="sflow__api_8h_html_a6d9ebbac494658f466a0c3cc5fb761c9"><div class="ttname"><a href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a></div><div class="ttdeci">#define SFL_DS_INDEX(dsi)</div><div class="ttdef"><b>Definition:</b> sflow_api.h:78</div></div>
<div class="ttc" id="struct__SFLSampler_html_ac6dad2565896e66cd12f394b30e79fad"><div class="ttname"><a href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">_SFLSampler::dsi</a></div><div class="ttdeci">SFLDataSource_instance dsi</div><div class="ttdef"><b>Definition:</b> sflow_api.h:121</div></div>
<div class="ttc" id="Types_8h_html_a996e72f71b11a5bb8b3b7b6936b1516d"><div class="ttname"><a href="Types_8h.html#a996e72f71b11a5bb8b3b7b6936b1516d">int64_t</a></div><div class="ttdeci">long long int64_t</div><div class="ttdef"><b>Definition:</b> Types.h:23</div></div>
<div class="ttc" id="sflow__api_8h_html_a90c5c78d1f3ff274f1b539e5de0cbbf4"><div class="ttname"><a href="sflow__api_8h.html#a90c5c78d1f3ff274f1b539e5de0cbbf4">SFL_DS_CLASS</a></div><div class="ttdeci">#define SFL_DS_CLASS(dsi)</div><div class="ttdef"><b>Definition:</b> sflow_api.h:77</div></div>
<div class="ttc" id="sflow__agent_8c_html_a96e0b701313602e5692b3d02d9fbc84a"><div class="ttname"><a href="sflow__agent_8c.html#a96e0b701313602e5692b3d02d9fbc84a">sfl_agent_getSamplerByIfIndex</a></div><div class="ttdeci">SFLSampler * sfl_agent_getSamplerByIfIndex(SFLAgent *agent, u_int32_t ifIndex)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:329</div></div>
<div class="ttc" id="sflow__api_8h_html_a56083048a9629558dae6fadae480d56c"><div class="ttname"><a href="sflow__api_8h.html#a56083048a9629558dae6fadae480d56c">SFL_DS_INSTANCE</a></div><div class="ttdeci">#define SFL_DS_INSTANCE(dsi)</div><div class="ttdef"><b>Definition:</b> sflow_api.h:76</div></div>
<div class="ttc" id="struct__SFLAgent_html_ac38bba4852fb06685387958f559f3e4c"><div class="ttname"><a href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">_SFLAgent::samplers</a></div><div class="ttdeci">SFLSampler * samplers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:187</div></div>
<div class="ttc" id="sflow__agent_8c_html_a46c4650f8660017af626251fde667cce"><div class="ttname"><a href="sflow__agent_8c.html#a46c4650f8660017af626251fde667cce">sflAlloc</a></div><div class="ttdeci">static void * sflAlloc(SFLAgent *agent, size_t bytes)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:502</div></div>
<div class="ttc" id="sflow__agent_8c_html_a6b5063dc68342e553b22ccde22fb9575"><div class="ttname"><a href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a></div><div class="ttdeci">static int sfl_dsi_compare(SFLDataSource_instance *pdsi1, SFLDataSource_instance *pdsi2)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:170</div></div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="structtest_html"><div class="ttname"><a href="structtest.html">test</a></div><div class="ttdef"><b>Definition:</b> test-lockfile.c:31</div></div>
<div class="ttc" id="sflow__agent_8c_html_a15ce38423932546392058eeca027a706"><div class="ttname"><a href="sflow__agent_8c.html#a15ce38423932546392058eeca027a706">sfl_agent_jumpTableAdd</a></div><div class="ttdeci">static void sfl_agent_jumpTableAdd(SFLAgent *agent, SFLSampler *sampler)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:292</div></div>
<div class="ttc" id="sflow__agent_8c_html_acc27292d40b8124879f83b8e0bebdadc"><div class="ttname"><a href="sflow__agent_8c.html#acc27292d40b8124879f83b8e0bebdadc">sfl_agent_jumpTableRemove</a></div><div class="ttdeci">static void sfl_agent_jumpTableRemove(SFLAgent *agent, SFLSampler *sampler)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:304</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c2160e5a06c539143fdf6b6472c0e82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>modName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">char</span> errm[<a class="code" href="sflow__agent_8c.html#a1a7462d591fccbe2591fd5f67f4da3fa">MAX_ERRMSG_LEN</a>];</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    snprintf(errm, <span class="keyword">sizeof</span> errm, <span class="stringliteral">&quot;sfl_agent_error: %s: %s\n&quot;</span>, modName, <a class="code" href="structmsg.html">msg</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span>(agent-&gt;<a class="code" href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">errorFn</a>) (*agent-&gt;<a class="code" href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">errorFn</a>)(agent-&gt;<a class="code" href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">magic</a>, agent, errm);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%s\n&quot;</span>, errm);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    fflush(stderr);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="ttc" id="sflow__agent_8c_html_a1a7462d591fccbe2591fd5f67f4da3fa"><div class="ttname"><a href="sflow__agent_8c.html#a1a7462d591fccbe2591fd5f67f4da3fa">MAX_ERRMSG_LEN</a></div><div class="ttdeci">#define MAX_ERRMSG_LEN</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:467</div></div>
<div class="ttc" id="struct__SFLAgent_html_a0bff52765e3f74805caa3a3c5a9ad357"><div class="ttname"><a href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">_SFLAgent::magic</a></div><div class="ttdeci">void * magic</div><div class="ttdef"><b>Definition:</b> sflow_api.h:194</div></div>
<div class="ttc" id="struct__SFLAgent_html_ab3b66736ce793197f028178937b3c74b"><div class="ttname"><a href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">_SFLAgent::errorFn</a></div><div class="ttdeci">errorFn_t errorFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:197</div></div>
<div class="ttc" id="structmsg_html"><div class="ttname"><a href="structmsg.html">msg</a></div><div class="ttdef"><b>Definition:</b> bfd.c:132</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a930c230d18ea0a9545b89c15a3d349da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a>* sfl_agent_getNextPoller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;{</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">/* return the one lexograpically just after it - assume they are sorted</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">       correctly according to the lexographical ordering of the object ids */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *pl = <a class="code" href="sflow__agent_8c.html#a3b4d7a8c835e51f10820c9b21114b152">sfl_agent_getPoller</a>(agent, pdsi);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> pl ? pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a> : NULL;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="ttc" id="sflow__agent_8c_html_a3b4d7a8c835e51f10820c9b21114b152"><div class="ttname"><a href="sflow__agent_8c.html#a3b4d7a8c835e51f10820c9b21114b152">sfl_agent_getPoller</a></div><div class="ttdeci">SFLPoller * sfl_agent_getPoller(SFLAgent *agent, SFLDataSource_instance *pdsi)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:356</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17ed0bec575c4f9c7680f57c102ce88e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a>* sfl_agent_getNextReceiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a>&#160;</td>
          <td class="paramname"><em>receiverIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="sflow__agent_8c.html#a402655735e53f30c505213c3efa51a68">sfl_agent_getReceiver</a>(agent, receiverIndex + 1);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="ttc" id="sflow__agent_8c_html_a402655735e53f30c505213c3efa51a68"><div class="ttname"><a href="sflow__agent_8c.html#a402655735e53f30c505213c3efa51a68">sfl_agent_getReceiver</a></div><div class="ttdeci">SFLReceiver * sfl_agent_getReceiver(SFLAgent *agent, u_int32_t receiverIndex)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:386</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a962e0c461f255ca7f0d6bcd1db66413d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a>* sfl_agent_getNextSampler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">/* return the one lexograpically just after it - assume they are sorted</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">       correctly according to the lexographical ordering of the object ids */</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *sm = <a class="code" href="sflow__agent_8c.html#aabfbdd61b0627b3c86417791e5ab9917">sfl_agent_getSampler</a>(agent, pdsi);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">return</span> sm ? sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a> : NULL;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="sflow__agent_8c_html_aabfbdd61b0627b3c86417791e5ab9917"><div class="ttname"><a href="sflow__agent_8c.html#aabfbdd61b0627b3c86417791e5ab9917">sfl_agent_getSampler</a></div><div class="ttdeci">SFLSampler * sfl_agent_getSampler(SFLAgent *agent, SFLDataSource_instance *pdsi)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:341</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b4d7a8c835e51f10820c9b21114b152"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a>* sfl_agent_getPoller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">/* find it and return it */</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">for</span>(; pl != NULL; pl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a>(pdsi, &amp;pl-&gt;<a class="code" href="struct__SFLPoller.html#a20920e1cc0a01cc9cd3b70b2790360bd">dsi</a>) == 0) <span class="keywordflow">return</span> pl;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">/* not found */</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a20920e1cc0a01cc9cd3b70b2790360bd"><div class="ttname"><a href="struct__SFLPoller.html#a20920e1cc0a01cc9cd3b70b2790360bd">_SFLPoller::dsi</a></div><div class="ttdeci">SFLDataSource_instance dsi</div><div class="ttdef"><b>Definition:</b> sflow_api.h:149</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="sflow__agent_8c_html_a6b5063dc68342e553b22ccde22fb9575"><div class="ttname"><a href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a></div><div class="ttdeci">static int sfl_dsi_compare(SFLDataSource_instance *pdsi1, SFLDataSource_instance *pdsi2)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:170</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a098fd16aa01be2e3bccf5316e7ccb772"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#aadbdf799ec200a723da0cc532c011c02">SFLPoller</a>* sfl_agent_getPollerByBridgePort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>port_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">/* find it and return it */</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">for</span>(; pl != NULL; pl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span>(pl-&gt;<a class="code" href="struct__SFLPoller.html#a48c8610fead389d6f0c3b1875f5c7753">bridgePort</a> == port_no) <span class="keywordflow">return</span> pl;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">/* not found */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="ttc" id="struct__SFLPoller_html_a48c8610fead389d6f0c3b1875f5c7753"><div class="ttname"><a href="struct__SFLPoller.html#a48c8610fead389d6f0c3b1875f5c7753">_SFLPoller::bridgePort</a></div><div class="ttdeci">u_int32_t bridgePort</div><div class="ttdef"><b>Definition:</b> sflow_api.h:156</div></div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a402655735e53f30c505213c3efa51a68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a>* sfl_agent_getReceiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a>&#160;</td>
          <td class="paramname"><em>receiverIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;{</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> rcvIdx = 0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *rcv = agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">for</span>(;  rcv != NULL; rcv = rcv-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a>)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">if</span>(receiverIndex == ++rcvIdx) <span class="keywordflow">return</span> rcv;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">/* not found - ran off the end of the table */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_ae3dc671e6a223088b81ea0f61c346578"><div class="ttname"><a href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">_SFLAgent::receivers</a></div><div class="ttdeci">SFLReceiver * receivers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:189</div></div>
<div class="ttc" id="struct__SFLReceiver_html_a037cfa213e73a8f79a04297dafe73020"><div class="ttname"><a href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">_SFLReceiver::nxt</a></div><div class="ttdeci">struct _SFLReceiver * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:97</div></div>
<div class="ttc" id="windefs_8h_html_a8b7bc66a37d82ff1aa5d706a0413bb77"><div class="ttname"><a href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a></div><div class="ttdeci">#define u_int32_t</div><div class="ttdef"><b>Definition:</b> windefs.h:35</div></div>
<div class="ttc" id="struct__SFLReceiver_html"><div class="ttname"><a href="struct__SFLReceiver.html">_SFLReceiver</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:96</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aabfbdd61b0627b3c86417791e5ab9917"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a>* sfl_agent_getSampler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">/* find it and return it */</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *sm = agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">for</span>(; sm != NULL; sm = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a>(pdsi, &amp;sm-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>) == 0) <span class="keywordflow">return</span> sm;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">/* not found */</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div>
<div class="ttc" id="struct__SFLSampler_html_ac6dad2565896e66cd12f394b30e79fad"><div class="ttname"><a href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">_SFLSampler::dsi</a></div><div class="ttdeci">SFLDataSource_instance dsi</div><div class="ttdef"><b>Definition:</b> sflow_api.h:121</div></div>
<div class="ttc" id="struct__SFLAgent_html_ac38bba4852fb06685387958f559f3e4c"><div class="ttname"><a href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">_SFLAgent::samplers</a></div><div class="ttdeci">SFLSampler * samplers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:187</div></div>
<div class="ttc" id="sflow__agent_8c_html_a6b5063dc68342e553b22ccde22fb9575"><div class="ttname"><a href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a></div><div class="ttdeci">static int sfl_dsi_compare(SFLDataSource_instance *pdsi1, SFLDataSource_instance *pdsi2)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:170</div></div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96e0b701313602e5692b3d02d9fbc84a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a>* sfl_agent_getSamplerByIfIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a>&#160;</td>
          <td class="paramname"><em>ifIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *search = agent-&gt;<a class="code" href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">jumpTable</a>[ifIndex % <a class="code" href="sflow__api_8h.html#ab5334910ad2738f5dc04dba8201ac98f">SFL_HASHTABLE_SIZ</a>];</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">for</span>( ; search != NULL; search = search-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a>) <span class="keywordflow">if</span>(<a class="code" href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a>(search-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>) == ifIndex) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> search;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_a6d9ebbac494658f466a0c3cc5fb761c9"><div class="ttname"><a href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a></div><div class="ttdeci">#define SFL_DS_INDEX(dsi)</div><div class="ttdef"><b>Definition:</b> sflow_api.h:78</div></div>
<div class="ttc" id="struct__SFLSampler_html_ac6dad2565896e66cd12f394b30e79fad"><div class="ttname"><a href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">_SFLSampler::dsi</a></div><div class="ttdeci">SFLDataSource_instance dsi</div><div class="ttdef"><b>Definition:</b> sflow_api.h:121</div></div>
<div class="ttc" id="sflow__api_8h_html_ab5334910ad2738f5dc04dba8201ac98f"><div class="ttname"><a href="sflow__api_8h.html#ab5334910ad2738f5dc04dba8201ac98f">SFL_HASHTABLE_SIZ</a></div><div class="ttdeci">#define SFL_HASHTABLE_SIZ</div><div class="ttdef"><b>Definition:</b> sflow_api.h:183</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="struct__SFLAgent_html_a520ee67cdf40e9b603d4d27192603c25"><div class="ttname"><a href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">_SFLAgent::jumpTable</a></div><div class="ttdeci">SFLSampler * jumpTable[SFL_HASHTABLE_SIZ]</div><div class="ttdef"><b>Definition:</b> sflow_api.h:186</div></div>
<div class="ttc" id="struct__SFLSampler_html_acbe5c68f28db36ed31563ace541daca0"><div class="ttname"><a href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">_SFLSampler::hash_nxt</a></div><div class="ttdeci">struct _SFLSampler * hash_nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:119</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a33f4d001da815a161a46371de93f4f3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow_8h.html#ab8f0bb35a701a9d31421e4a139db4e6f">SFLAddress</a> *&#160;</td>
          <td class="paramname"><em>myIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a>&#160;</td>
          <td class="paramname"><em>subId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>bootTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#aecd21d23bb3862fd7107b8558182b166">allocFn_t</a>&#160;</td>
          <td class="paramname"><em>allocFn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#a570388bbcc4f21af413532734d6c3678">freeFn_t</a>&#160;</td>
          <td class="paramname"><em>freeFn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#a4b44a2e3e73eaee23fb8d1d36149e570">errorFn_t</a>&#160;</td>
          <td class="paramname"><em>errorFn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#a68cd1c081c0dedde2b6c27f9cf3ce4e2">sendFn_t</a>&#160;</td>
          <td class="paramname"><em>sendFn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">/* first clear everything */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    memset(agent, 0, <span class="keyword">sizeof</span>(*agent));</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">/* now copy in the parameters */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a808630b661017af6741967a978462f43">myIP</a> = *myIP; <span class="comment">/* structure copy */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a159153c6989f31227a23dd261cf403f7">subId</a> = subId;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a4605c516862608e0f1b5f5e40bb86e00">bootTime</a> = bootTime;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#abd866a597164cd98fd17ed3c276e74f3">now</a> = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">magic</a> = <a class="code" href="log_8c.html#aa4ecc632dda2272bc110b83b299dbbdb">magic</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a826ba4de1df31fc9e1598982ebc8c5ac">allocFn</a> = allocFn;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a457ed081fd7bd2a7bfc7d36872b905fa">freeFn</a> = freeFn;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">errorFn</a> = errorFn;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a891ee0a2278f8b89e0e3163b6b27b6b8">sendFn</a> = sendFn;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#ifdef SFLOW_DO_SOCKET</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span>(sendFn == NULL) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">/* open the socket - really need one for v4 and another for v6? */</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span>((agent-&gt;receiverSocket4 = <a class="code" href="sparse_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a>(<a class="code" href="sparse_2sys_2socket_8h.html#ae33c78feb670de33d2abf21ec0624531a9ab67f00ce8b6a0015a0c642f22b7a81">AF_INET</a>, <a class="code" href="sparse_2sys_2socket_8h.html#a3babbf89cae9b856a12864a41506efbda006b373a518eeeb717573f91e70d7fcc">SOCK_DGRAM</a>, <a class="code" href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>)) == -1)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="sflow__agent_8c.html#a3e39077502e90462da3e6d26f33ccc89">sfl_agent_sysError</a>(agent, <span class="stringliteral">&quot;agent&quot;</span>, <span class="stringliteral">&quot;IPv4 socket open failed&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span>((agent-&gt;receiverSocket6 = <a class="code" href="sparse_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a>(<a class="code" href="sparse_2sys_2socket_8h.html#ae33c78feb670de33d2abf21ec0624531a879512295f51cdbbee0aab3ec7cf3a00">AF_INET6</a>, <a class="code" href="sparse_2sys_2socket_8h.html#a3babbf89cae9b856a12864a41506efbda006b373a518eeeb717573f91e70d7fcc">SOCK_DGRAM</a>, <a class="code" href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>)) == -1)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="sflow__agent_8c.html#a3e39077502e90462da3e6d26f33ccc89">sfl_agent_sysError</a>(agent, <span class="stringliteral">&quot;agent&quot;</span>, <span class="stringliteral">&quot;IPv6 socket open failed&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="log_8c_html_aa4ecc632dda2272bc110b83b299dbbdb"><div class="ttname"><a href="log_8c.html#aa4ecc632dda2272bc110b83b299dbbdb">magic</a></div><div class="ttdeci">static const char magic[]</div><div class="ttdef"><b>Definition:</b> log.c:165</div></div>
<div class="ttc" id="NetProto_8h_html_ab332d40b15142f33a88d4fcb1d6a5920"><div class="ttname"><a href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a></div><div class="ttdeci">#define IPPROTO_UDP</div><div class="ttdef"><b>Definition:</b> NetProto.h:82</div></div>
<div class="ttc" id="sparse_2sys_2socket_8h_html_ae33c78feb670de33d2abf21ec0624531a879512295f51cdbbee0aab3ec7cf3a00"><div class="ttname"><a href="sparse_2sys_2socket_8h.html#ae33c78feb670de33d2abf21ec0624531a879512295f51cdbbee0aab3ec7cf3a00">AF_INET6</a></div><div class="ttdef"><b>Definition:</b> socket.h:132</div></div>
<div class="ttc" id="struct__SFLAgent_html_a159153c6989f31227a23dd261cf403f7"><div class="ttname"><a href="struct__SFLAgent.html#a159153c6989f31227a23dd261cf403f7">_SFLAgent::subId</a></div><div class="ttdeci">u_int32_t subId</div><div class="ttdef"><b>Definition:</b> sflow_api.h:193</div></div>
<div class="ttc" id="sparse_2sys_2socket_8h_html_ad8757ba7b643ff8279abf9593f543494"><div class="ttname"><a href="sparse_2sys_2socket_8h.html#ad8757ba7b643ff8279abf9593f543494">socket</a></div><div class="ttdeci">int socket(int, int, int)</div></div>
<div class="ttc" id="struct__SFLAgent_html_a891ee0a2278f8b89e0e3163b6b27b6b8"><div class="ttname"><a href="struct__SFLAgent.html#a891ee0a2278f8b89e0e3163b6b27b6b8">_SFLAgent::sendFn</a></div><div class="ttdeci">sendFn_t sendFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:198</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="struct__SFLAgent_html_a0bff52765e3f74805caa3a3c5a9ad357"><div class="ttname"><a href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">_SFLAgent::magic</a></div><div class="ttdeci">void * magic</div><div class="ttdef"><b>Definition:</b> sflow_api.h:194</div></div>
<div class="ttc" id="sflow__agent_8c_html_a3e39077502e90462da3e6d26f33ccc89"><div class="ttname"><a href="sflow__agent_8c.html#a3e39077502e90462da3e6d26f33ccc89">sfl_agent_sysError</a></div><div class="ttdeci">void sfl_agent_sysError(SFLAgent *agent, char *modName, char *msg)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:485</div></div>
<div class="ttc" id="struct__SFLAgent_html_ab3b66736ce793197f028178937b3c74b"><div class="ttname"><a href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">_SFLAgent::errorFn</a></div><div class="ttdeci">errorFn_t errorFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:197</div></div>
<div class="ttc" id="sparse_2sys_2socket_8h_html_a3babbf89cae9b856a12864a41506efbda006b373a518eeeb717573f91e70d7fcc"><div class="ttname"><a href="sparse_2sys_2socket_8h.html#a3babbf89cae9b856a12864a41506efbda006b373a518eeeb717573f91e70d7fcc">SOCK_DGRAM</a></div><div class="ttdef"><b>Definition:</b> socket.h:83</div></div>
<div class="ttc" id="struct__SFLAgent_html_a808630b661017af6741967a978462f43"><div class="ttname"><a href="struct__SFLAgent.html#a808630b661017af6741967a978462f43">_SFLAgent::myIP</a></div><div class="ttdeci">SFLAddress myIP</div><div class="ttdef"><b>Definition:</b> sflow_api.h:192</div></div>
<div class="ttc" id="struct__SFLAgent_html_a826ba4de1df31fc9e1598982ebc8c5ac"><div class="ttname"><a href="struct__SFLAgent.html#a826ba4de1df31fc9e1598982ebc8c5ac">_SFLAgent::allocFn</a></div><div class="ttdeci">allocFn_t allocFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:195</div></div>
<div class="ttc" id="struct__SFLAgent_html_abd866a597164cd98fd17ed3c276e74f3"><div class="ttname"><a href="struct__SFLAgent.html#abd866a597164cd98fd17ed3c276e74f3">_SFLAgent::now</a></div><div class="ttdeci">time_t now</div><div class="ttdef"><b>Definition:</b> sflow_api.h:191</div></div>
<div class="ttc" id="sparse_2sys_2socket_8h_html_ae33c78feb670de33d2abf21ec0624531a9ab67f00ce8b6a0015a0c642f22b7a81"><div class="ttname"><a href="sparse_2sys_2socket_8h.html#ae33c78feb670de33d2abf21ec0624531a9ab67f00ce8b6a0015a0c642f22b7a81">AF_INET</a></div><div class="ttdef"><b>Definition:</b> socket.h:130</div></div>
<div class="ttc" id="struct__SFLAgent_html_a457ed081fd7bd2a7bfc7d36872b905fa"><div class="ttname"><a href="struct__SFLAgent.html#a457ed081fd7bd2a7bfc7d36872b905fa">_SFLAgent::freeFn</a></div><div class="ttdeci">freeFn_t freeFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:196</div></div>
<div class="ttc" id="struct__SFLAgent_html_a4605c516862608e0f1b5f5e40bb86e00"><div class="ttname"><a href="struct__SFLAgent.html#a4605c516862608e0f1b5f5e40bb86e00">_SFLAgent::bootTime</a></div><div class="ttdeci">time_t bootTime</div><div class="ttdef"><b>Definition:</b> sflow_api.h:190</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15ce38423932546392058eeca027a706"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sfl_agent_jumpTableAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *&#160;</td>
          <td class="paramname"><em>sampler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> hashIndex = <a class="code" href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a>(sampler-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>) % <a class="code" href="sflow__api_8h.html#ab5334910ad2738f5dc04dba8201ac98f">SFL_HASHTABLE_SIZ</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    sampler-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a> = agent-&gt;<a class="code" href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">jumpTable</a>[hashIndex];</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">jumpTable</a>[hashIndex] = sampler;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_a6d9ebbac494658f466a0c3cc5fb761c9"><div class="ttname"><a href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a></div><div class="ttdeci">#define SFL_DS_INDEX(dsi)</div><div class="ttdef"><b>Definition:</b> sflow_api.h:78</div></div>
<div class="ttc" id="struct__SFLSampler_html_ac6dad2565896e66cd12f394b30e79fad"><div class="ttname"><a href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">_SFLSampler::dsi</a></div><div class="ttdeci">SFLDataSource_instance dsi</div><div class="ttdef"><b>Definition:</b> sflow_api.h:121</div></div>
<div class="ttc" id="windefs_8h_html_a8b7bc66a37d82ff1aa5d706a0413bb77"><div class="ttname"><a href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a></div><div class="ttdeci">#define u_int32_t</div><div class="ttdef"><b>Definition:</b> windefs.h:35</div></div>
<div class="ttc" id="sflow__api_8h_html_ab5334910ad2738f5dc04dba8201ac98f"><div class="ttname"><a href="sflow__api_8h.html#ab5334910ad2738f5dc04dba8201ac98f">SFL_HASHTABLE_SIZ</a></div><div class="ttdeci">#define SFL_HASHTABLE_SIZ</div><div class="ttdef"><b>Definition:</b> sflow_api.h:183</div></div>
<div class="ttc" id="struct__SFLAgent_html_a520ee67cdf40e9b603d4d27192603c25"><div class="ttname"><a href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">_SFLAgent::jumpTable</a></div><div class="ttdeci">SFLSampler * jumpTable[SFL_HASHTABLE_SIZ]</div><div class="ttdef"><b>Definition:</b> sflow_api.h:186</div></div>
<div class="ttc" id="struct__SFLSampler_html_acbe5c68f28db36ed31563ace541daca0"><div class="ttname"><a href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">_SFLSampler::hash_nxt</a></div><div class="ttdeci">struct _SFLSampler * hash_nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:119</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc27292d40b8124879f83b8e0bebdadc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sfl_agent_jumpTableRemove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#a4a574beb0a6cb984e7e126472be5969d">SFLSampler</a> *&#160;</td>
          <td class="paramname"><em>sampler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> hashIndex = <a class="code" href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a>(sampler-&gt;<a class="code" href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">dsi</a>) % <a class="code" href="sflow__api_8h.html#ab5334910ad2738f5dc04dba8201ac98f">SFL_HASHTABLE_SIZ</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *search = agent-&gt;<a class="code" href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">jumpTable</a>[hashIndex], *prev = NULL;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">for</span>( ; search != NULL; prev = search, search = search-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a>) <span class="keywordflow">if</span>(search == sampler) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span>(search) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// found - unlink</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span>(prev) prev-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a> = search-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">else</span> agent-&gt;<a class="code" href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">jumpTable</a>[hashIndex] = search-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    search-&gt;<a class="code" href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">hash_nxt</a> = NULL;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_a6d9ebbac494658f466a0c3cc5fb761c9"><div class="ttname"><a href="sflow__api_8h.html#a6d9ebbac494658f466a0c3cc5fb761c9">SFL_DS_INDEX</a></div><div class="ttdeci">#define SFL_DS_INDEX(dsi)</div><div class="ttdef"><b>Definition:</b> sflow_api.h:78</div></div>
<div class="ttc" id="struct__SFLSampler_html_ac6dad2565896e66cd12f394b30e79fad"><div class="ttname"><a href="struct__SFLSampler.html#ac6dad2565896e66cd12f394b30e79fad">_SFLSampler::dsi</a></div><div class="ttdeci">SFLDataSource_instance dsi</div><div class="ttdef"><b>Definition:</b> sflow_api.h:121</div></div>
<div class="ttc" id="windefs_8h_html_a8b7bc66a37d82ff1aa5d706a0413bb77"><div class="ttname"><a href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a></div><div class="ttdeci">#define u_int32_t</div><div class="ttdef"><b>Definition:</b> windefs.h:35</div></div>
<div class="ttc" id="sflow__api_8h_html_ab5334910ad2738f5dc04dba8201ac98f"><div class="ttname"><a href="sflow__api_8h.html#ab5334910ad2738f5dc04dba8201ac98f">SFL_HASHTABLE_SIZ</a></div><div class="ttdeci">#define SFL_HASHTABLE_SIZ</div><div class="ttdef"><b>Definition:</b> sflow_api.h:183</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="struct__SFLAgent_html_a520ee67cdf40e9b603d4d27192603c25"><div class="ttname"><a href="struct__SFLAgent.html#a520ee67cdf40e9b603d4d27192603c25">_SFLAgent::jumpTable</a></div><div class="ttdeci">SFLSampler * jumpTable[SFL_HASHTABLE_SIZ]</div><div class="ttdef"><b>Definition:</b> sflow_api.h:186</div></div>
<div class="ttc" id="struct__SFLSampler_html_acbe5c68f28db36ed31563ace541daca0"><div class="ttname"><a href="struct__SFLSampler.html#acbe5c68f28db36ed31563ace541daca0">_SFLSampler::hash_nxt</a></div><div class="ttdeci">struct _SFLSampler * hash_nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:119</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e534a57c3ceaacce716a095583e8eb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">/* release and free the samplers, pollers and receivers */</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *sm = agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *rcv = agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">for</span>(; sm != NULL; ) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *nextSm = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a>(agent, sm);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    sm = nextSm;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a> = NULL;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">for</span>(; pl != NULL; ) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *nextPl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a>(agent, pl);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    pl = nextPl;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a> = NULL;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">for</span>(; rcv != NULL; ) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *nextRcv = rcv-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a>(agent, rcv);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    rcv = nextRcv;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a> = NULL;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#ifdef SFLOW_DO_SOCKET</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">/* close the sockets */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">if</span>(agent-&gt;receiverSocket4 &gt; 0) close(agent-&gt;receiverSocket4);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span>(agent-&gt;receiverSocket6 &gt; 0) close(agent-&gt;receiverSocket6);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_ae3dc671e6a223088b81ea0f61c346578"><div class="ttname"><a href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">_SFLAgent::receivers</a></div><div class="ttdeci">SFLReceiver * receivers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:189</div></div>
<div class="ttc" id="struct__SFLReceiver_html_a037cfa213e73a8f79a04297dafe73020"><div class="ttname"><a href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">_SFLReceiver::nxt</a></div><div class="ttdeci">struct _SFLReceiver * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:97</div></div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="struct__SFLAgent_html_ac38bba4852fb06685387958f559f3e4c"><div class="ttname"><a href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">_SFLAgent::samplers</a></div><div class="ttdeci">SFLSampler * samplers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:187</div></div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="struct__SFLReceiver_html"><div class="ttname"><a href="struct__SFLReceiver.html">_SFLReceiver</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:96</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
<div class="ttc" id="sflow__agent_8c_html_ab221af38cc4f903fee6518448d05f506"><div class="ttname"><a href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a></div><div class="ttdeci">static void sflFree(SFLAgent *agent, void *obj)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:508</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6385824c79f1bc4fb9398867e04f8f63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sfl_agent_removePoller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">/* find it, unlink it and free it */</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *prev = NULL, *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">for</span>(; pl != NULL; prev = pl, pl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a>(pdsi, &amp;pl-&gt;dsi) == 0) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span>(prev == NULL) agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a> = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">else</span> prev-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a> = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a>(agent, pl);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">/* not found */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="sflow__agent_8c_html_a6b5063dc68342e553b22ccde22fb9575"><div class="ttname"><a href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a></div><div class="ttdeci">static int sfl_dsi_compare(SFLDataSource_instance *pdsi1, SFLDataSource_instance *pdsi2)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:170</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
<div class="ttc" id="sflow__agent_8c_html_ab221af38cc4f903fee6518448d05f506"><div class="ttname"><a href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a></div><div class="ttdeci">static void sflFree(SFLAgent *agent, void *obj)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:508</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3eb6523844c6312961170e4c3d2cf64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sfl_agent_removeSampler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">/* find it, unlink it and free it */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *prev = NULL, *sm = agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">for</span>(; sm != NULL; prev = sm, sm = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a>(pdsi, &amp;sm-&gt;dsi) == 0) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">if</span>(prev == NULL) agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a> = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">else</span> prev-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a> = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="sflow__agent_8c.html#acc27292d40b8124879f83b8e0bebdadc">sfl_agent_jumpTableRemove</a>(agent, sm);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a>(agent, sm);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">/* not found */</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_ac38bba4852fb06685387958f559f3e4c"><div class="ttname"><a href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">_SFLAgent::samplers</a></div><div class="ttdeci">SFLSampler * samplers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:187</div></div>
<div class="ttc" id="sflow__agent_8c_html_a6b5063dc68342e553b22ccde22fb9575"><div class="ttname"><a href="sflow__agent_8c.html#a6b5063dc68342e553b22ccde22fb9575">sfl_dsi_compare</a></div><div class="ttdeci">static int sfl_dsi_compare(SFLDataSource_instance *pdsi1, SFLDataSource_instance *pdsi2)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:170</div></div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="sflow__agent_8c_html_ab221af38cc4f903fee6518448d05f506"><div class="ttname"><a href="sflow__agent_8c.html#ab221af38cc4f903fee6518448d05f506">sflFree</a></div><div class="ttdeci">static void sflFree(SFLAgent *agent, void *obj)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:508</div></div>
<div class="ttc" id="sflow__agent_8c_html_acc27292d40b8124879f83b8e0bebdadc"><div class="ttname"><a href="sflow__agent_8c.html#acc27292d40b8124879f83b8e0bebdadc">sfl_agent_jumpTableRemove</a></div><div class="ttdeci">static void sfl_agent_jumpTableRemove(SFLAgent *agent, SFLSampler *sampler)</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:304</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e627a44673b28c69875b47d14f80aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_resetReceiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#a7308b484265cf4a1cbeefdd48591d6e1">SFLReceiver</a> *&#160;</td>
          <td class="paramname"><em>receiver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">/* tell samplers and pollers to stop sending to this receiver */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">/* first get his receiverIndex */</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a> rcvIdx = 0;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *rcv = agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">for</span>(; rcv != NULL; rcv = rcv-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a>) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    rcvIdx++; <span class="comment">/* thanks to Diego Valverde for pointing out this bugfix */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">if</span>(rcv == receiver) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="comment">/* now tell anyone that is using it to stop */</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *sm = agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">for</span>(; sm != NULL; sm = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="sflow__api_8h.html#a47884609b2dfc5ff0873b243785377fe">sfl_sampler_get_sFlowFsReceiver</a>(sm) == rcvIdx) <a class="code" href="sflow__api_8h.html#af0c4992d8b43d5815268113d64639c71">sfl_sampler_set_sFlowFsReceiver</a>(sm, 0);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">for</span>(; pl != NULL; pl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="sflow__api_8h.html#aeccf56d52b9b868d328a9254ce974097">sfl_poller_get_sFlowCpReceiver</a>(pl) == rcvIdx) <a class="code" href="sflow__api_8h.html#a4e4d9075eb4e88eb1554af7198beb627">sfl_poller_set_sFlowCpReceiver</a>(pl, 0);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_ae3dc671e6a223088b81ea0f61c346578"><div class="ttname"><a href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">_SFLAgent::receivers</a></div><div class="ttdeci">SFLReceiver * receivers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:189</div></div>
<div class="ttc" id="sflow__api_8h_html_af0c4992d8b43d5815268113d64639c71"><div class="ttname"><a href="sflow__api_8h.html#af0c4992d8b43d5815268113d64639c71">sfl_sampler_set_sFlowFsReceiver</a></div><div class="ttdeci">void sfl_sampler_set_sFlowFsReceiver(SFLSampler *sampler, u_int32_t sFlowFsReceiver)</div><div class="ttdef"><b>Definition:</b> sflow_sampler.c:62</div></div>
<div class="ttc" id="struct__SFLReceiver_html_a037cfa213e73a8f79a04297dafe73020"><div class="ttname"><a href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">_SFLReceiver::nxt</a></div><div class="ttdeci">struct _SFLReceiver * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:97</div></div>
<div class="ttc" id="windefs_8h_html_a8b7bc66a37d82ff1aa5d706a0413bb77"><div class="ttname"><a href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a></div><div class="ttdeci">#define u_int32_t</div><div class="ttdef"><b>Definition:</b> windefs.h:35</div></div>
<div class="ttc" id="sflow__api_8h_html_a47884609b2dfc5ff0873b243785377fe"><div class="ttname"><a href="sflow__api_8h.html#a47884609b2dfc5ff0873b243785377fe">sfl_sampler_get_sFlowFsReceiver</a></div><div class="ttdeci">u_int32_t sfl_sampler_get_sFlowFsReceiver(SFLSampler *sampler)</div><div class="ttdef"><b>Definition:</b> sflow_sampler.c:59</div></div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="struct__SFLAgent_html_ac38bba4852fb06685387958f559f3e4c"><div class="ttname"><a href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">_SFLAgent::samplers</a></div><div class="ttdeci">SFLSampler * samplers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:187</div></div>
<div class="ttc" id="sflow__api_8h_html_a4e4d9075eb4e88eb1554af7198beb627"><div class="ttname"><a href="sflow__api_8h.html#a4e4d9075eb4e88eb1554af7198beb627">sfl_poller_set_sFlowCpReceiver</a></div><div class="ttdeci">void sfl_poller_set_sFlowCpReceiver(SFLPoller *poller, u_int32_t sFlowCpReceiver)</div><div class="ttdef"><b>Definition:</b> sflow_poller.c:60</div></div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="sflow__api_8h_html_aeccf56d52b9b868d328a9254ce974097"><div class="ttname"><a href="sflow__api_8h.html#aeccf56d52b9b868d328a9254ce974097">sfl_poller_get_sFlowCpReceiver</a></div><div class="ttdeci">u_int32_t sfl_poller_get_sFlowCpReceiver(SFLPoller *poller)</div><div class="ttdef"><b>Definition:</b> sflow_poller.c:56</div></div>
<div class="ttc" id="struct__SFLReceiver_html"><div class="ttname"><a href="struct__SFLReceiver.html">_SFLReceiver</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:96</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a86adcd92dca676abff0f31895390bf15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_set_agentAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow_8h.html#ab8f0bb35a701a9d31421e4a139db4e6f">SFLAddress</a> *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span>(addr &amp;&amp; memcmp(addr, &amp;agent-&gt;<a class="code" href="struct__SFLAgent.html#a808630b661017af6741967a978462f43">myIP</a>, <span class="keyword">sizeof</span>(agent-&gt;<a class="code" href="struct__SFLAgent.html#a808630b661017af6741967a978462f43">myIP</a>)) != 0) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">/* change of address */</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a808630b661017af6741967a978462f43">myIP</a> = *<a class="code" href="datapath_2flow_8h.html#a535ce925c585c41d434f7481f342c976">addr</a>; <span class="comment">/* structure copy */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">/* reset sequence numbers here? */</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_a808630b661017af6741967a978462f43"><div class="ttname"><a href="struct__SFLAgent.html#a808630b661017af6741967a978462f43">_SFLAgent::myIP</a></div><div class="ttdeci">SFLAddress myIP</div><div class="ttdef"><b>Definition:</b> sflow_api.h:192</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a535ce925c585c41d434f7481f342c976"><div class="ttname"><a href="datapath_2flow_8h.html#a535ce925c585c41d434f7481f342c976">addr</a></div><div class="ttdeci">struct @20::@24::@26 addr</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6fb40f20a5d08982aa225e0a79704850"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_set_agentSubId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windefs_8h.html#a8b7bc66a37d82ff1aa5d706a0413bb77">u_int32_t</a>&#160;</td>
          <td class="paramname"><em>subId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span>(subId != agent-&gt;<a class="code" href="struct__SFLAgent.html#a159153c6989f31227a23dd261cf403f7">subId</a>) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">/* change of subId */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#a159153c6989f31227a23dd261cf403f7">subId</a> = subId;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">/* reset sequence numbers here? */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_a159153c6989f31227a23dd261cf403f7"><div class="ttname"><a href="struct__SFLAgent.html#a159153c6989f31227a23dd261cf403f7">_SFLAgent::subId</a></div><div class="ttdeci">u_int32_t subId</div><div class="ttdef"><b>Definition:</b> sflow_api.h:193</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e39077502e90462da3e6d26f33ccc89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_sysError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>modName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordtype">char</span> errm[<a class="code" href="sflow__agent_8c.html#a1a7462d591fccbe2591fd5f67f4da3fa">MAX_ERRMSG_LEN</a>];</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    snprintf(errm, <span class="keyword">sizeof</span> errm, <span class="stringliteral">&quot;sfl_agent_sysError: %s: %s (errno = %d - %s)\n&quot;</span>, modName, <a class="code" href="structmsg.html">msg</a>, errno, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(errno));</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">if</span>(agent-&gt;<a class="code" href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">errorFn</a>) (*agent-&gt;<a class="code" href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">errorFn</a>)(agent-&gt;<a class="code" href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">magic</a>, agent, errm);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%s\n&quot;</span>, errm);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    fflush(stderr);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="ttc" id="sflow__agent_8c_html_a1a7462d591fccbe2591fd5f67f4da3fa"><div class="ttname"><a href="sflow__agent_8c.html#a1a7462d591fccbe2591fd5f67f4da3fa">MAX_ERRMSG_LEN</a></div><div class="ttdeci">#define MAX_ERRMSG_LEN</div><div class="ttdef"><b>Definition:</b> sflow_agent.c:467</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="struct__SFLAgent_html_a0bff52765e3f74805caa3a3c5a9ad357"><div class="ttname"><a href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">_SFLAgent::magic</a></div><div class="ttdeci">void * magic</div><div class="ttdef"><b>Definition:</b> sflow_api.h:194</div></div>
<div class="ttc" id="struct__SFLAgent_html_ab3b66736ce793197f028178937b3c74b"><div class="ttname"><a href="struct__SFLAgent.html#ab3b66736ce793197f028178937b3c74b">_SFLAgent::errorFn</a></div><div class="ttdeci">errorFn_t errorFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:197</div></div>
<div class="ttc" id="structmsg_html"><div class="ttname"><a href="structmsg.html">msg</a></div><div class="ttdef"><b>Definition:</b> bfd.c:132</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeba991908716288891e7c4c7b2db1e10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sfl_agent_tick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="struct__SFLReceiver.html">SFLReceiver</a> *rcv = agent-&gt;<a class="code" href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">receivers</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="struct__SFLSampler.html">SFLSampler</a> *sm = agent-&gt;<a class="code" href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">samplers</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="struct__SFLPoller.html">SFLPoller</a> *pl = agent-&gt;<a class="code" href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">pollers</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    agent-&gt;<a class="code" href="struct__SFLAgent.html#abd866a597164cd98fd17ed3c276e74f3">now</a> = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">/* receivers use ticks to flush send data */</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">for</span>(; rcv != NULL; rcv = rcv-&gt;<a class="code" href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">nxt</a>) <a class="code" href="sflow__api_8h.html#a2fadfd3b3966f3847efa1ac398b1f555">sfl_receiver_tick</a>(rcv, <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">/* samplers use ticks to decide when they are sampling too fast */</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">for</span>(; sm != NULL; sm = sm-&gt;<a class="code" href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">nxt</a>) <a class="code" href="sflow__api_8h.html#ab7f36d94d20936a2f66bc6174b7b79ce">sfl_sampler_tick</a>(sm, <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">/* pollers use ticks to decide when to ask for counters */</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">for</span>(; pl != NULL; pl = pl-&gt;<a class="code" href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">nxt</a>) <a class="code" href="sflow__api_8h.html#af0a105899cc15ad16f11f3787f4819ff">sfl_poller_tick</a>(pl, <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_af0a105899cc15ad16f11f3787f4819ff"><div class="ttname"><a href="sflow__api_8h.html#af0a105899cc15ad16f11f3787f4819ff">sfl_poller_tick</a></div><div class="ttdeci">void sfl_poller_tick(SFLPoller *poller, time_t now)</div><div class="ttdef"><b>Definition:</b> sflow_poller.c:128</div></div>
<div class="ttc" id="struct__SFLAgent_html_ae3dc671e6a223088b81ea0f61c346578"><div class="ttname"><a href="struct__SFLAgent.html#ae3dc671e6a223088b81ea0f61c346578">_SFLAgent::receivers</a></div><div class="ttdeci">SFLReceiver * receivers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:189</div></div>
<div class="ttc" id="struct__SFLReceiver_html_a037cfa213e73a8f79a04297dafe73020"><div class="ttname"><a href="struct__SFLReceiver.html#a037cfa213e73a8f79a04297dafe73020">_SFLReceiver::nxt</a></div><div class="ttdeci">struct _SFLReceiver * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:97</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="struct__SFLAgent_html_a2251c6621b8f3279617bcbfcb8fa4601"><div class="ttname"><a href="struct__SFLAgent.html#a2251c6621b8f3279617bcbfcb8fa4601">_SFLAgent::pollers</a></div><div class="ttdeci">SFLPoller * pollers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:188</div></div>
<div class="ttc" id="struct__SFLPoller_html_a489e6416945d5a5ba1a0bbf446daf0d4"><div class="ttname"><a href="struct__SFLPoller.html#a489e6416945d5a5ba1a0bbf446daf0d4">_SFLPoller::nxt</a></div><div class="ttdeci">struct _SFLPoller * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:147</div></div>
<div class="ttc" id="struct__SFLAgent_html_ac38bba4852fb06685387958f559f3e4c"><div class="ttname"><a href="struct__SFLAgent.html#ac38bba4852fb06685387958f559f3e4c">_SFLAgent::samplers</a></div><div class="ttdeci">SFLSampler * samplers</div><div class="ttdef"><b>Definition:</b> sflow_api.h:187</div></div>
<div class="ttc" id="struct__SFLSampler_html_adf389680251b5c40d0ec41d7589581b6"><div class="ttname"><a href="struct__SFLSampler.html#adf389680251b5c40d0ec41d7589581b6">_SFLSampler::nxt</a></div><div class="ttdeci">struct _SFLSampler * nxt</div><div class="ttdef"><b>Definition:</b> sflow_api.h:117</div></div>
<div class="ttc" id="sflow__api_8h_html_ab7f36d94d20936a2f66bc6174b7b79ce"><div class="ttname"><a href="sflow__api_8h.html#ab7f36d94d20936a2f66bc6174b7b79ce">sfl_sampler_tick</a></div><div class="ttdeci">void sfl_sampler_tick(SFLSampler *sampler, time_t now)</div><div class="ttdef"><b>Definition:</b> sflow_sampler.c:110</div></div>
<div class="ttc" id="struct__SFLAgent_html_abd866a597164cd98fd17ed3c276e74f3"><div class="ttname"><a href="struct__SFLAgent.html#abd866a597164cd98fd17ed3c276e74f3">_SFLAgent::now</a></div><div class="ttdeci">time_t now</div><div class="ttdef"><b>Definition:</b> sflow_api.h:191</div></div>
<div class="ttc" id="struct__SFLReceiver_html"><div class="ttname"><a href="struct__SFLReceiver.html">_SFLReceiver</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:96</div></div>
<div class="ttc" id="struct__SFLSampler_html"><div class="ttname"><a href="struct__SFLSampler.html">_SFLSampler</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:115</div></div>
<div class="ttc" id="sflow__api_8h_html_a2fadfd3b3966f3847efa1ac398b1f555"><div class="ttname"><a href="sflow__api_8h.html#a2fadfd3b3966f3847efa1ac398b1f555">sfl_receiver_tick</a></div><div class="ttdeci">void sfl_receiver_tick(SFLReceiver *receiver, time_t now)</div><div class="ttdef"><b>Definition:</b> sflow_receiver.c:144</div></div>
<div class="ttc" id="struct__SFLPoller_html"><div class="ttname"><a href="struct__SFLPoller.html">_SFLPoller</a></div><div class="ttdef"><b>Definition:</b> sflow_api.h:145</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6b5063dc68342e553b22ccde22fb9575"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sfl_dsi_compare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#ae81446b4527d8f65ddd395387f18c8c1">SFLDataSource_instance</a> *&#160;</td>
          <td class="paramname"><em>pdsi2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                                                                                {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">/* could have used just memcmp(),  but not sure if that would</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">       give the right answer on little-endian platforms. Safer to be explicit... */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> cmp = pdsi2-&gt;<a class="code" href="struct__SFLDataSource__instance.html#af09c4ce626847147d9799a24d2aa7bd3">ds_class</a> - pdsi1-&gt;<a class="code" href="struct__SFLDataSource__instance.html#af09c4ce626847147d9799a24d2aa7bd3">ds_class</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span>(cmp == 0) cmp = pdsi2-&gt;<a class="code" href="struct__SFLDataSource__instance.html#a3d6c18a4078de3ada0524195ea15433c">ds_index</a> - pdsi1-&gt;<a class="code" href="struct__SFLDataSource__instance.html#a3d6c18a4078de3ada0524195ea15433c">ds_index</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">if</span>(cmp == 0) cmp = pdsi2-&gt;<a class="code" href="struct__SFLDataSource__instance.html#aac55ca210198a0dc9b97a93d4d53397d">ds_instance</a> - pdsi1-&gt;<a class="code" href="struct__SFLDataSource__instance.html#aac55ca210198a0dc9b97a93d4d53397d">ds_instance</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> cmp;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="struct__SFLDataSource__instance_html_a3d6c18a4078de3ada0524195ea15433c"><div class="ttname"><a href="struct__SFLDataSource__instance.html#a3d6c18a4078de3ada0524195ea15433c">_SFLDataSource_instance::ds_index</a></div><div class="ttdeci">u_int32_t ds_index</div><div class="ttdef"><b>Definition:</b> sflow_api.h:61</div></div>
<div class="ttc" id="struct__SFLDataSource__instance_html_aac55ca210198a0dc9b97a93d4d53397d"><div class="ttname"><a href="struct__SFLDataSource__instance.html#aac55ca210198a0dc9b97a93d4d53397d">_SFLDataSource_instance::ds_instance</a></div><div class="ttdeci">u_int32_t ds_instance</div><div class="ttdef"><b>Definition:</b> sflow_api.h:62</div></div>
<div class="ttc" id="struct__SFLDataSource__instance_html_af09c4ce626847147d9799a24d2aa7bd3"><div class="ttname"><a href="struct__SFLDataSource__instance.html#af09c4ce626847147d9799a24d2aa7bd3">_SFLDataSource_instance::ds_class</a></div><div class="ttdeci">u_int32_t ds_class</div><div class="ttdef"><b>Definition:</b> sflow_api.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46c4650f8660017af626251fde667cce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * sflAlloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">if</span>(agent-&gt;<a class="code" href="struct__SFLAgent.html#a826ba4de1df31fc9e1598982ebc8c5ac">allocFn</a>) <span class="keywordflow">return</span> (*agent-&gt;<a class="code" href="struct__SFLAgent.html#a826ba4de1df31fc9e1598982ebc8c5ac">allocFn</a>)(agent-&gt;<a class="code" href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">magic</a>, agent, bytes);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="sflow__api_8h.html#a345f37731a3cf002779e2a0ce5b9fa24">SFL_ALLOC</a>(bytes);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="ttc" id="sflow__api_8h_html_a345f37731a3cf002779e2a0ce5b9fa24"><div class="ttname"><a href="sflow__api_8h.html#a345f37731a3cf002779e2a0ce5b9fa24">SFL_ALLOC</a></div><div class="ttdeci">#define SFL_ALLOC</div><div class="ttdef"><b>Definition:</b> sflow_api.h:340</div></div>
<div class="ttc" id="struct__SFLAgent_html_a0bff52765e3f74805caa3a3c5a9ad357"><div class="ttname"><a href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">_SFLAgent::magic</a></div><div class="ttdeci">void * magic</div><div class="ttdef"><b>Definition:</b> sflow_api.h:194</div></div>
<div class="ttc" id="struct__SFLAgent_html_a826ba4de1df31fc9e1598982ebc8c5ac"><div class="ttname"><a href="struct__SFLAgent.html#a826ba4de1df31fc9e1598982ebc8c5ac">_SFLAgent::allocFn</a></div><div class="ttdeci">allocFn_t allocFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:195</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab221af38cc4f903fee6518448d05f506"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sflFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sflow__api_8h.html#adbac6530c5fb7e8427365d46c2019377">SFLAgent</a> *&#160;</td>
          <td class="paramname"><em>agent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span>(agent-&gt;<a class="code" href="struct__SFLAgent.html#a457ed081fd7bd2a7bfc7d36872b905fa">freeFn</a>) (*agent-&gt;<a class="code" href="struct__SFLAgent.html#a457ed081fd7bd2a7bfc7d36872b905fa">freeFn</a>)(agent-&gt;<a class="code" href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">magic</a>, agent, obj);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="sflow__api_8h.html#aa49de741660375c3113ac9ac721513cb">SFL_FREE</a>(obj);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="ttc" id="struct__SFLAgent_html_a0bff52765e3f74805caa3a3c5a9ad357"><div class="ttname"><a href="struct__SFLAgent.html#a0bff52765e3f74805caa3a3c5a9ad357">_SFLAgent::magic</a></div><div class="ttdeci">void * magic</div><div class="ttdef"><b>Definition:</b> sflow_api.h:194</div></div>
<div class="ttc" id="sflow__api_8h_html_aa49de741660375c3113ac9ac721513cb"><div class="ttname"><a href="sflow__api_8h.html#aa49de741660375c3113ac9ac721513cb">SFL_FREE</a></div><div class="ttdeci">#define SFL_FREE</div><div class="ttdef"><b>Definition:</b> sflow_api.h:341</div></div>
<div class="ttc" id="struct__SFLAgent_html_a457ed081fd7bd2a7bfc7d36872b905fa"><div class="ttname"><a href="struct__SFLAgent.html#a457ed081fd7bd2a7bfc7d36872b905fa">_SFLAgent::freeFn</a></div><div class="ttdeci">freeFn_t freeFn</div><div class="ttdef"><b>Definition:</b> sflow_api.h:196</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_915fb0c656ffb8a17b4ec5b2ac3f6404.html">lib</a></li><li class="navelem"><a class="el" href="sflow__agent_8c.html">sflow_agent.c</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:07:37 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
