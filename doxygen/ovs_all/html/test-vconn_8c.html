<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/tests/test-vconn.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('test-vconn_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">test-vconn.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="config_8h_source.html">config.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="vconn_8h_source.html">openvswitch/vconn.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="assert_8h_source.html">assert.h</a>&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="unistd_8h_source.html">unistd.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="command-line_8h_source.html">command-line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fatal-signal_8h_source.html">fatal-signal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ofp-msgs_8h_source.html">ofp-msgs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ofp-util_8h_source.html">ofp-util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ofpbuf_8h_source.html">ofpbuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="openflow_8h_source.html">openflow/openflow.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ovstest_8h_source.html">ovstest.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="poll-loop_8h_source.html">poll-loop.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="socket-util_8h_source.html">socket-util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stream_8h_source.html">stream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stream-ssl_8h_source.html">stream-ssl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timeval_8h_source.html">timeval.h</a>&quot;</code><br />
<code>#include &quot;util.h&quot;</code><br />
<code>#include &quot;<a class="el" href="vlog_8h_source.html">openvswitch/vlog.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test-vconn.c:</div>
<div class="dyncontent">
<div class="center"><img src="test-vconn_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2tests_2test-vconn_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2tests_2test-vconn_8c" id="_2home_2vladn_2git_2ovs_2tests_2test-vconn_8c">
<area shape="rect" id="node2" href="config_8h.html" title="config.h" alt="" coords="5,95,73,121"/><area shape="rect" id="node3" href="vconn_8h.html" title="openvswitch/vconn.h" alt="" coords="831,326,976,353"/><area shape="rect" id="node8" href="openflow_8h.html" title="openflow/openflow.h" alt="" coords="2593,408,2734,435"/><area shape="rect" id="node15" href="assert_8h.html" title="assert.h" alt="" coords="2758,95,2827,121"/><area shape="rect" id="node20" href="unistd_8h.html" title="unistd.h" alt="" coords="2852,95,2920,121"/><area shape="rect" id="node22" href="command-line_8h.html" title="command&#45;line.h" alt="" coords="2411,169,2526,196"/><area shape="rect" id="node24" href="fatal-signal_8h.html" title="fatal&#45;signal.h" alt="" coords="253,95,349,121"/><area shape="rect" id="node25" href="ofp-msgs_8h.html" title="ofp&#45;msgs.h" alt="" coords="1519,244,1605,271"/><area shape="rect" id="node29" href="ofp-util_8h.html" title="ofp&#45;util.h" alt="" coords="1954,95,2026,121"/><area shape="rect" id="node40" href="ofpbuf_8h.html" title="ofpbuf.h" alt="" coords="1033,244,1102,271"/><area shape="rect" id="node41" href="ovstest_8h.html" title="ovstest.h" alt="" coords="2431,95,2507,121"/><area shape="rect" id="node43" href="poll-loop_8h.html" title="poll&#45;loop.h" alt="" coords="1161,95,1243,121"/><area shape="rect" id="node45" href="socket-util_8h.html" title="socket&#45;util.h" alt="" coords="377,408,470,435"/><area shape="rect" id="node46" href="stream_8h.html" title="stream.h" alt="" coords="556,326,629,353"/><area shape="rect" id="node47" href="stream-ssl_8h.html" title="stream&#45;ssl.h" alt="" coords="160,244,255,271"/><area shape="rect" id="node48" href="timeval_8h.html" title="timeval.h" alt="" coords="1267,95,1342,121"/><area shape="rect" id="node50" href="vlog_8h.html" title="openvswitch/vlog.h" alt="" coords="397,326,532,353"/><area shape="rect" id="node5" href="include_2openvswitch_2list_8h.html" title="openvswitch/list.h" alt="" coords="748,408,875,435"/><area shape="rect" id="node6" href="include_2openvswitch_2types_8h.html" title="openvswitch/types.h" alt="" coords="1524,483,1667,509"/><area shape="rect" id="node9" href="openflow-1_80_8h.html" title="openflow/openflow&#45;1.0.h" alt="" coords="2521,483,2683,509"/><area shape="rect" id="node10" href="openflow-1_81_8h.html" title="openflow/openflow&#45;1.1.h" alt="" coords="2723,707,2886,733"/><area shape="rect" id="node11" href="openflow-1_82_8h.html" title="openflow/openflow&#45;1.2.h" alt="" coords="2834,632,2997,659"/><area shape="rect" id="node12" href="openflow-1_83_8h.html" title="openflow/openflow&#45;1.3.h" alt="" coords="2834,557,2997,584"/><area shape="rect" id="node13" href="openflow-1_84_8h.html" title="openflow/openflow&#45;1.4.h" alt="" coords="2809,483,2971,509"/><area shape="rect" id="node14" href="openflow-1_85_8h.html" title="openflow/openflow&#45;1.5.h" alt="" coords="2334,483,2497,509"/><area shape="rect" id="node23" href="lib_2compiler_8h.html" title="compiler.h" alt="" coords="2086,483,2169,509"/><area shape="rect" id="node26" href="ofp-errors_8h.html" title="ofp&#45;errors.h" alt="" coords="1609,326,1697,353"/><area shape="rect" id="node28" href="lib_2util_8h.html" title="util.h" alt="" coords="1457,408,1507,435"/><area shape="rect" id="node27" href="stddef_8h.html" title="stddef.h" alt="" coords="1233,483,1302,509"/><area shape="rect" id="node30" href="bitmap_8h.html" title="bitmap.h" alt="" coords="1977,326,2049,353"/><area shape="rect" id="node31" href="lib_2flow_8h.html" title="flow.h" alt="" coords="2025,244,2083,271"/><area shape="rect" id="node32" href="nicira-ext_8h.html" title="openflow/nicira&#45;ext.h" alt="" coords="2124,326,2267,353"/><area shape="rect" id="node34" href="lib_2list_8h.html" title="list.h" alt="" coords="755,326,806,353"/><area shape="rect" id="node35" href="match_8h.html" title="match.h" alt="" coords="1955,169,2025,196"/><area shape="rect" id="node36" href="meta-flow_8h.html" title="meta&#45;flow.h" alt="" coords="1841,169,1931,196"/><area shape="rect" id="node37" href="netdev_8h.html" title="netdev.h" alt="" coords="1745,169,1817,196"/><area shape="rect" id="node38" href="netronome-ext_8h.html" title="openflow/netronome\l&#45;ext.h" alt="" coords="2393,319,2531,360"/><area shape="rect" id="node39" href="type-props_8h.html" title="type&#45;props.h" alt="" coords="1396,169,1491,196"/><area shape="rect" id="node33" href="packets_8h.html" title="packets.h" alt="" coords="1873,326,1952,353"/><area shape="rect" id="node44" href="poll_8h.html" title="poll.h" alt="" coords="1166,169,1219,196"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfake__pvconn.html">fake_pvconn</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6f3360e5cfbcc96c78e6e14f9d773297"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>,  B)&#160;&#160;&#160;<a class="el" href="test-vconn_8c.html#aa0e5cd69c787f3f4ed44bf1e25d81d6c">check</a>(<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, B, #<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, __FILE__, __LINE__)</td></tr>
<tr class="separator:a6f3360e5cfbcc96c78e6e14f9d773297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712fd791ab1e2a4023416f5afbfcfc24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>,  B)&#160;&#160;&#160;<a class="el" href="test-vconn_8c.html#a8193d5ca500c8a8f5416ab45850fcc96">check_errno</a>(<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, B, #<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, __FILE__, __LINE__)</td></tr>
<tr class="separator:a712fd791ab1e2a4023416f5afbfcfc24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa0e5cd69c787f3f4ed44bf1e25d81d6c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#aa0e5cd69c787f3f4ed44bf1e25d81d6c">check</a> (int <a class="el" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>, int b, const char *as, const char *file, int <a class="el" href="test-stp_8c.html#a96d8d868879325eddae046d8581d9ddd">line</a>)</td></tr>
<tr class="separator:aa0e5cd69c787f3f4ed44bf1e25d81d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8193d5ca500c8a8f5416ab45850fcc96"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a8193d5ca500c8a8f5416ab45850fcc96">check_errno</a> (int <a class="el" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>, int b, const char *as, const char *file, int <a class="el" href="test-stp_8c.html#a96d8d868879325eddae046d8581d9ddd">line</a>)</td></tr>
<tr class="separator:a8193d5ca500c8a8f5416ab45850fcc96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e975e716aea5ecc3dcdca5d7548be8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a> (const char *<a class="el" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *fpv)</td></tr>
<tr class="separator:a90e975e716aea5ecc3dcdca5d7548be8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f721136c03285924458997c125c07b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structstream.html">stream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a> (struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *fpv)</td></tr>
<tr class="separator:a62f721136c03285924458997c125c07b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba034dbe32e5f489f11f20ea3ee2f372"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a> (struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *fpv)</td></tr>
<tr class="separator:aba034dbe32e5f489f11f20ea3ee2f372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3f665522fee518c98511f5a699b018"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a> (struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *fpv)</td></tr>
<tr class="separator:a3a3f665522fee518c98511f5a699b018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4de0f98859e3f4cdff949414f880758"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#ae4de0f98859e3f4cdff949414f880758">test_refuse_connection</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:ae4de0f98859e3f4cdff949414f880758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a170106810ab37d5df55e8c153f4d5ad2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a170106810ab37d5df55e8c153f4d5ad2">test_accept_then_close</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:a170106810ab37d5df55e8c153f4d5ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9ded4afa923966acc7c0ef3263dea9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#aac9ded4afa923966acc7c0ef3263dea9">test_read_hello</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:aac9ded4afa923966acc7c0ef3263dea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81927047c2e72a9f63c5bba1fd584d90"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a> (const char *<a class="el" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, const void *out, size_t out_size, int expect_connect_error)</td></tr>
<tr class="separator:a81927047c2e72a9f63c5bba1fd584d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279de45708f718e69c7ed594db136efa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a279de45708f718e69c7ed594db136efa">test_send_plain_hello</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:a279de45708f718e69c7ed594db136efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61fb36383bccc3d1ac1d5646a93f042d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a61fb36383bccc3d1ac1d5646a93f042d">test_send_long_hello</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:a61fb36383bccc3d1ac1d5646a93f042d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c12b37045809c349291c3ea8558b27c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a3c12b37045809c349291c3ea8558b27c">test_send_echo_hello</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:a3c12b37045809c349291c3ea8558b27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87aa485ecb2de9c65a6cc3a2d3c2fb03"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a87aa485ecb2de9c65a6cc3a2d3c2fb03">test_send_short_hello</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:a87aa485ecb2de9c65a6cc3a2d3c2fb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95abb0e1db8e4971cfb25c9e0a7a1dbc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a95abb0e1db8e4971cfb25c9e0a7a1dbc">test_send_invalid_version_hello</a> (struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *<a class="el" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a>)</td></tr>
<tr class="separator:a95abb0e1db8e4971cfb25c9e0a7a1dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8bb1d2237d0cc76caa7dbb997d38b4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a4d8bb1d2237d0cc76caa7dbb997d38b4">test_vconn_main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a4d8bb1d2237d0cc76caa7dbb997d38b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3946351dfcd909209a9292fbba53337c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a3946351dfcd909209a9292fbba53337c">OVSTEST_REGISTER</a> (&quot;test-<a class="el" href="structvconn.html">vconn</a>&quot;, test_vconn_main)</td></tr>
<tr class="separator:a3946351dfcd909209a9292fbba53337c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7138a3cac4e99f56636da26e1c20ea46"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structovs__cmdl__command.html">ovs_cmdl_command</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test-vconn_8c.html#a7138a3cac4e99f56636da26e1c20ea46">commands</a> []</td></tr>
<tr class="separator:a7138a3cac4e99f56636da26e1c20ea46"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a6f3360e5cfbcc96c78e6e14f9d773297"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="test-vconn_8c.html#aa0e5cd69c787f3f4ed44bf1e25d81d6c">check</a>(<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, B, #<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, __FILE__, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a712fd791ab1e2a4023416f5afbfcfc24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_ERRNO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="test-vconn_8c.html#a8193d5ca500c8a8f5416ab45850fcc96">check_errno</a>(<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, B, #<a class="el" href="meta-flow_8c.html#a955f504eccf76b4eb2489c0adab03121">A</a>, __FILE__, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa0e5cd69c787f3f4ed44bf1e25d81d6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>as</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a> != b) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;%s:%d: %s is %d but should be %d&quot;</span>, <a class="code" href="namespacesetup.html#a169251d119423b1df4365671c544a0f9">file</a>, <a class="code" href="test-rstp_8c.html#a96d8d868879325eddae046d8581d9ddd">line</a>, as, <a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>, b);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
<div class="ttc" id="namespacesetup_html_a169251d119423b1df4365671c544a0f9"><div class="ttname"><a href="namespacesetup.html#a169251d119423b1df4365671c544a0f9">setup.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> setup.py:25</div></div>
<div class="ttc" id="test-rstp_8c_html_a96d8d868879325eddae046d8581d9ddd"><div class="ttname"><a href="test-rstp_8c.html#a96d8d868879325eddae046d8581d9ddd">line</a></div><div class="ttdeci">static char line[128]</div><div class="ttdef"><b>Definition:</b> test-rstp.c:62</div></div>
<div class="ttc" id="db-ctl-base_8h_html_ac1b6cb05f8210e77cf52f71d8eb330d7"><div class="ttname"><a href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a></div><div class="ttdeci">#define ovs_fatal</div><div class="ttdef"><b>Definition:</b> db-ctl-base.h:45</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8193d5ca500c8a8f5416ab45850fcc96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_errno </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>as</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a> != b) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordtype">char</span> *str_b = <a class="code" href="util_8c.html#a31c8e4cd784d16e28687ee2f10b80028">xstrdup</a>(<a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(abs(b)));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;%s:%d: %s is %d (%s) but should be %d (%s)&quot;</span>,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                  <a class="code" href="namespacesetup.html#a169251d119423b1df4365671c544a0f9">file</a>, <a class="code" href="test-rstp_8c.html#a96d8d868879325eddae046d8581d9ddd">line</a>, as, <a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(abs(<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>)), b, str_b);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="ttc" id="util_8c_html_a31c8e4cd784d16e28687ee2f10b80028"><div class="ttname"><a href="util_8c.html#a31c8e4cd784d16e28687ee2f10b80028">xstrdup</a></div><div class="ttdeci">char * xstrdup(const char *s)</div><div class="ttdef"><b>Definition:</b> util.c:149</div></div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="namespacesetup_html_a169251d119423b1df4365671c544a0f9"><div class="ttname"><a href="namespacesetup.html#a169251d119423b1df4365671c544a0f9">setup.file</a></div><div class="ttdeci">file</div><div class="ttdef"><b>Definition:</b> setup.py:25</div></div>
<div class="ttc" id="test-rstp_8c_html_a96d8d868879325eddae046d8581d9ddd"><div class="ttname"><a href="test-rstp_8c.html#a96d8d868879325eddae046d8581d9ddd">line</a></div><div class="ttdeci">static char line[128]</div><div class="ttdef"><b>Definition:</b> test-rstp.c:62</div></div>
<div class="ttc" id="db-ctl-base_8h_html_ac1b6cb05f8210e77cf52f71d8eb330d7"><div class="ttname"><a href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a></div><div class="ttdeci">#define ovs_fatal</div><div class="ttdef"><b>Definition:</b> db-ctl-base.h:45</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62f721136c03285924458997c125c07b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structstream.html">stream</a>* fpv_accept </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *&#160;</td>
          <td class="paramname"><em>fpv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">struct </span><a class="code" href="structstream.html">stream</a> *<a class="code" href="structstream.html">stream</a>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="stream_8c.html#adb8985eb512f0bd1b39cfd81d67df970">pstream_accept_block</a>(fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a>, &amp;stream), 0);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">return</span> stream;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div>
<div class="ttc" id="structfake__pvconn_html_ac624de37609a20d34ec076ee86a5ba98"><div class="ttname"><a href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">fake_pvconn::pstream</a></div><div class="ttdeci">struct pstream * pstream</div><div class="ttdef"><b>Definition:</b> test-vconn.c:45</div></div>
<div class="ttc" id="structstream_html"><div class="ttname"><a href="structstream.html">stream</a></div><div class="ttdef"><b>Definition:</b> stream-provider.h:28</div></div>
<div class="ttc" id="test-vconn_8c_html_a712fd791ab1e2a4023416f5afbfcfc24"><div class="ttname"><a href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a></div><div class="ttdeci">#define CHECK_ERRNO(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:69</div></div>
<div class="ttc" id="stream_8c_html_adb8985eb512f0bd1b39cfd81d67df970"><div class="ttname"><a href="stream_8c.html#adb8985eb512f0bd1b39cfd81d67df970">pstream_accept_block</a></div><div class="ttdeci">int pstream_accept_block(struct pstream *pstream, struct stream **new_stream)</div><div class="ttdef"><b>Definition:</b> stream.c:574</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba034dbe32e5f489f11f20ea3ee2f372"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fpv_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *&#160;</td>
          <td class="paramname"><em>fpv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="stream_8c.html#acf7a7101bf12dc534600d727bf04f22b">pstream_close</a>(fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a> = NULL;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="ttc" id="structfake__pvconn_html_ac624de37609a20d34ec076ee86a5ba98"><div class="ttname"><a href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">fake_pvconn::pstream</a></div><div class="ttdeci">struct pstream * pstream</div><div class="ttdef"><b>Definition:</b> test-vconn.c:45</div></div>
<div class="ttc" id="stream_8c_html_acf7a7101bf12dc534600d727bf04f22b"><div class="ttname"><a href="stream_8c.html#acf7a7101bf12dc534600d727bf04f22b">pstream_close</a></div><div class="ttdeci">void pstream_close(struct pstream *pstream)</div><div class="ttdef"><b>Definition:</b> stream.c:539</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90e975e716aea5ecc3dcdca5d7548be8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fpv_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *&#160;</td>
          <td class="paramname"><em>fpv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#ifdef HAVE_OPENSSL</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, <span class="stringliteral">&quot;ssl&quot;</span>)) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="stream-nossl_8c.html#a9baf6b8e04916ec6c876d6d58524db4b">stream_ssl_set_private_key_file</a>(<span class="stringliteral">&quot;testpki-privkey.pem&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="stream-nossl_8c.html#a3d3b08ab3097003619d443c642d97861">stream_ssl_set_certificate_file</a>(<span class="stringliteral">&quot;testpki-cert.pem&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="stream-nossl_8c.html#a760efc2922c9aa2abc4e99b1c90e2f47">stream_ssl_set_ca_cert_file</a>(<span class="stringliteral">&quot;testpki-cacert.pem&quot;</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    fpv-&gt;<a class="code" href="structfake__pvconn.html#acb35ec9ed9fc5c9b0aab07ebf2542b12">type</a> = <a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (!strcmp(<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, <span class="stringliteral">&quot;unix&quot;</span>)) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">int</span> unix_count = 0;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordtype">char</span> *bind_path;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        bind_path = <a class="code" href="util_8c.html#af46c0ecf130aec0c5e6fb6c5d7131aac">xasprintf</a>(<span class="stringliteral">&quot;fake-pvconn.%d&quot;</span>, unix_count++);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        fpv-&gt;<a class="code" href="structfake__pvconn.html#a215803e7565b53b7961bd0427f145760">pvconn_name</a> = <a class="code" href="util_8c.html#af46c0ecf130aec0c5e6fb6c5d7131aac">xasprintf</a>(<span class="stringliteral">&quot;punix:%s&quot;</span>, bind_path);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        fpv-&gt;<a class="code" href="structfake__pvconn.html#ac812c5104604e59c24cb5f7fee9ccd9d">vconn_name</a> = <a class="code" href="util_8c.html#af46c0ecf130aec0c5e6fb6c5d7131aac">xasprintf</a>(<span class="stringliteral">&quot;unix:%s&quot;</span>, bind_path);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="stream_8c.html#aab1aee73ff5cae04c0162ac46b759a5e">pstream_open</a>(fpv-&gt;<a class="code" href="structfake__pvconn.html#a215803e7565b53b7961bd0427f145760">pvconn_name</a>, &amp;fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a>,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                 <a class="code" href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a>), 0);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        free(bind_path);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, <span class="stringliteral">&quot;tcp&quot;</span>) || !strcmp(<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, <span class="stringliteral">&quot;ssl&quot;</span>)) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordtype">char</span> *s, *<a class="code" href="namespaceovstest_1_1args.html#a74f2e69b43f2a55f9c9c7f538164ead8">port</a>, *save_ptr = NULL;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordtype">char</span> *open_name;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        open_name = <a class="code" href="util_8c.html#af46c0ecf130aec0c5e6fb6c5d7131aac">xasprintf</a>(<span class="stringliteral">&quot;p%s:0:127.0.0.1&quot;</span>, <a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="stream_8c.html#aab1aee73ff5cae04c0162ac46b759a5e">pstream_open</a>(open_name, &amp;fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a>, <a class="code" href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a>), 0);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="comment">/* Extract bound port number from pstream name. */</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        s = <a class="code" href="util_8c.html#a31c8e4cd784d16e28687ee2f10b80028">xstrdup</a>(<a class="code" href="stream_8c.html#ab0a03a7347a7150057a280e940e8d12a">pstream_get_name</a>(fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a>));</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        strtok_r(s, <span class="stringliteral">&quot;:&quot;</span>, &amp;save_ptr);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        port = strtok_r(NULL, <span class="stringliteral">&quot;:&quot;</span>, &amp;save_ptr);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="comment">/* Save info. */</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        fpv-&gt;<a class="code" href="structfake__pvconn.html#a215803e7565b53b7961bd0427f145760">pvconn_name</a> = <a class="code" href="util_8c.html#a31c8e4cd784d16e28687ee2f10b80028">xstrdup</a>(<a class="code" href="stream_8c.html#ab0a03a7347a7150057a280e940e8d12a">pstream_get_name</a>(fpv-&gt;<a class="code" href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">pstream</a>));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        fpv-&gt;<a class="code" href="structfake__pvconn.html#ac812c5104604e59c24cb5f7fee9ccd9d">vconn_name</a> = <a class="code" href="util_8c.html#af46c0ecf130aec0c5e6fb6c5d7131aac">xasprintf</a>(<span class="stringliteral">&quot;%s:127.0.0.1:%s&quot;</span>, <a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, port);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        free(open_name);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        free(s);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        abort();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="ttc" id="stream-nossl_8c_html_a3d3b08ab3097003619d443c642d97861"><div class="ttname"><a href="stream-nossl_8c.html#a3d3b08ab3097003619d443c642d97861">stream_ssl_set_certificate_file</a></div><div class="ttdeci">void stream_ssl_set_certificate_file(const char *file_name)</div><div class="ttdef"><b>Definition:</b> stream-nossl.c:47</div></div>
<div class="ttc" id="structfake__pvconn_html_ac624de37609a20d34ec076ee86a5ba98"><div class="ttname"><a href="structfake__pvconn.html#ac624de37609a20d34ec076ee86a5ba98">fake_pvconn::pstream</a></div><div class="ttdeci">struct pstream * pstream</div><div class="ttdef"><b>Definition:</b> test-vconn.c:45</div></div>
<div class="ttc" id="structfake__pvconn_html_a215803e7565b53b7961bd0427f145760"><div class="ttname"><a href="structfake__pvconn.html#a215803e7565b53b7961bd0427f145760">fake_pvconn::pvconn_name</a></div><div class="ttdeci">char * pvconn_name</div><div class="ttdef"><b>Definition:</b> test-vconn.c:43</div></div>
<div class="ttc" id="structfake__pvconn_html_acb35ec9ed9fc5c9b0aab07ebf2542b12"><div class="ttname"><a href="structfake__pvconn.html#acb35ec9ed9fc5c9b0aab07ebf2542b12">fake_pvconn::type</a></div><div class="ttdeci">const char * type</div><div class="ttdef"><b>Definition:</b> test-vconn.c:42</div></div>
<div class="ttc" id="util_8c_html_a31c8e4cd784d16e28687ee2f10b80028"><div class="ttname"><a href="util_8c.html#a31c8e4cd784d16e28687ee2f10b80028">xstrdup</a></div><div class="ttdeci">char * xstrdup(const char *s)</div><div class="ttdef"><b>Definition:</b> util.c:149</div></div>
<div class="ttc" id="stream-nossl_8c_html_a9baf6b8e04916ec6c876d6d58524db4b"><div class="ttname"><a href="stream-nossl_8c.html#a9baf6b8e04916ec6c876d6d58524db4b">stream_ssl_set_private_key_file</a></div><div class="ttdeci">void stream_ssl_set_private_key_file(const char *file_name)</div><div class="ttdef"><b>Definition:</b> stream-nossl.c:39</div></div>
<div class="ttc" id="namespaceovstest_1_1args_html_a74f2e69b43f2a55f9c9c7f538164ead8"><div class="ttname"><a href="namespaceovstest_1_1args.html#a74f2e69b43f2a55f9c9c7f538164ead8">ovstest.args.port</a></div><div class="ttdeci">def port(string)</div><div class="ttdef"><b>Definition:</b> args.py:56</div></div>
<div class="ttc" id="structfake__pvconn_html_ac812c5104604e59c24cb5f7fee9ccd9d"><div class="ttname"><a href="structfake__pvconn.html#ac812c5104604e59c24cb5f7fee9ccd9d">fake_pvconn::vconn_name</a></div><div class="ttdeci">char * vconn_name</div><div class="ttdef"><b>Definition:</b> test-vconn.c:44</div></div>
<div class="ttc" id="socket-util_8h_html_a6240b4c521d391f364add0fdf8ba696a"><div class="ttname"><a href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a></div><div class="ttdeci">#define DSCP_DEFAULT</div><div class="ttdef"><b>Definition:</b> socket-util.h:67</div></div>
<div class="ttc" id="test-vconn_8c_html_a712fd791ab1e2a4023416f5afbfcfc24"><div class="ttname"><a href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a></div><div class="ttdeci">#define CHECK_ERRNO(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:69</div></div>
<div class="ttc" id="stream-nossl_8c_html_a760efc2922c9aa2abc4e99b1c90e2f47"><div class="ttname"><a href="stream-nossl_8c.html#a760efc2922c9aa2abc4e99b1c90e2f47">stream_ssl_set_ca_cert_file</a></div><div class="ttdeci">void stream_ssl_set_ca_cert_file(const char *file_name, bool bootstrap OVS_UNUSED)</div><div class="ttdef"><b>Definition:</b> stream-nossl.c:55</div></div>
<div class="ttc" id="stream_8c_html_ab0a03a7347a7150057a280e940e8d12a"><div class="ttname"><a href="stream_8c.html#ab0a03a7347a7150057a280e940e8d12a">pstream_get_name</a></div><div class="ttdeci">const char * pstream_get_name(const struct pstream *pstream)</div><div class="ttdef"><b>Definition:</b> stream.c:532</div></div>
<div class="ttc" id="stream_8c_html_aab1aee73ff5cae04c0162ac46b759a5e"><div class="ttname"><a href="stream_8c.html#aab1aee73ff5cae04c0162ac46b759a5e">pstream_open</a></div><div class="ttdeci">int pstream_open(const char *name, struct pstream **pstreamp, uint8_t dscp)</div><div class="ttdef"><b>Definition:</b> stream.c:497</div></div>
<div class="ttc" id="util_8c_html_af46c0ecf130aec0c5e6fb6c5d7131aac"><div class="ttname"><a href="util_8c.html#af46c0ecf130aec0c5e6fb6c5d7131aac">xasprintf</a></div><div class="ttdeci">char * xasprintf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> util.c:254</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a3f665522fee518c98511f5a699b018"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fpv_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structfake__pvconn.html">fake_pvconn</a> *&#160;</td>
          <td class="paramname"><em>fpv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a>(fpv);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    free(fpv-&gt;<a class="code" href="structfake__pvconn.html#a215803e7565b53b7961bd0427f145760">pvconn_name</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    free(fpv-&gt;<a class="code" href="structfake__pvconn.html#ac812c5104604e59c24cb5f7fee9ccd9d">vconn_name</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="test-vconn_8c_html_aba034dbe32e5f489f11f20ea3ee2f372"><div class="ttname"><a href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a></div><div class="ttdeci">static void fpv_close(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:127</div></div>
<div class="ttc" id="structfake__pvconn_html_a215803e7565b53b7961bd0427f145760"><div class="ttname"><a href="structfake__pvconn.html#a215803e7565b53b7961bd0427f145760">fake_pvconn::pvconn_name</a></div><div class="ttdeci">char * pvconn_name</div><div class="ttdef"><b>Definition:</b> test-vconn.c:43</div></div>
<div class="ttc" id="structfake__pvconn_html_ac812c5104604e59c24cb5f7fee9ccd9d"><div class="ttname"><a href="structfake__pvconn.html#ac812c5104604e59c24cb5f7fee9ccd9d">fake_pvconn::vconn_name</a></div><div class="ttdeci">char * vconn_name</div><div class="ttdef"><b>Definition:</b> test-vconn.c:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3946351dfcd909209a9292fbba53337c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OVSTEST_REGISTER </td>
          <td>(</td>
          <td class="paramtype">&quot;test-<a class="el" href="structvconn.html">vconn</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="test-vconn_8c.html#a4d8bb1d2237d0cc76caa7dbb997d38b4">test_vconn_main</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a170106810ab37d5df55e8c153f4d5ad2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_accept_then_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfake__pvconn.html">fake_pvconn</a> fpv;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvconn.html">vconn</a> *<a class="code" href="structvconn.html">vconn</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a>(type, &amp;fpv);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a>(fpv.vconn_name, 0, <a class="code" href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a>, &amp;vconn), 0);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a>(<a class="code" href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a>(&amp;fpv));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a>(&amp;fpv);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    error = <a class="code" href="vconn_8h.html#ae0e2c9372d0174898c0703edb17cc0b6">vconn_connect_block</a>(vconn);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (!strcmp(type, <span class="stringliteral">&quot;tcp&quot;</span>) || !strcmp(type, <span class="stringliteral">&quot;unix&quot;</span>)) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (error != ECONNRESET &amp;&amp; error != EPIPE</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;#ifdef _WIN32</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            &amp;&amp; error != WSAECONNRESET</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;#endif</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            ) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;unexpected vconn_connect() return value %d (%s)&quot;</span>,</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                      error, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(error));</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(error, EPROTO);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a>(vconn);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a>(&amp;fpv);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="ttc" id="stream_8c_html_a8da7d7c3d9a573ae9cf1dab1be38e623"><div class="ttname"><a href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a></div><div class="ttdeci">void stream_close(struct stream *stream)</div><div class="ttdef"><b>Definition:</b> stream.c:277</div></div>
<div class="ttc" id="test-vconn_8c_html_aba034dbe32e5f489f11f20ea3ee2f372"><div class="ttname"><a href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a></div><div class="ttdeci">static void fpv_close(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:127</div></div>
<div class="ttc" id="vconn_8h_html_a3e584be0acbe73013bc5ab948cdf7919"><div class="ttname"><a href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a></div><div class="ttdeci">void vconn_close(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:330</div></div>
<div class="ttc" id="vconn_8h_html_a849bf78aa61c6cf52f897eb3e079cefb"><div class="ttname"><a href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a></div><div class="ttdeci">void vconn_run(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:267</div></div>
<div class="ttc" id="test-vconn_8c_html_a90e975e716aea5ecc3dcdca5d7548be8"><div class="ttname"><a href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a></div><div class="ttdeci">static void fpv_create(const char *type, struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:72</div></div>
<div class="ttc" id="test-vconn_8c_html_a62f721136c03285924458997c125c07b"><div class="ttname"><a href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a></div><div class="ttdeci">static struct stream * fpv_accept(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:117</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="vconn_8h_html_aaca2ae783bbb132140b2f357dd04efd9"><div class="ttname"><a href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a></div><div class="ttdeci">int vconn_open(const char *name, uint32_t allowed_versions, uint8_t dscp, struct vconn **vconnp)</div><div class="ttdef"><b>Definition:</b> vconn.c:225</div></div>
<div class="ttc" id="vconn_8h_html_ae0e2c9372d0174898c0703edb17cc0b6"><div class="ttname"><a href="vconn_8h.html#ae0e2c9372d0174898c0703edb17cc0b6">vconn_connect_block</a></div><div class="ttdeci">int vconn_connect_block(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:698</div></div>
<div class="ttc" id="socket-util_8h_html_a6240b4c521d391f364add0fdf8ba696a"><div class="ttname"><a href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a></div><div class="ttdeci">#define DSCP_DEFAULT</div><div class="ttdef"><b>Definition:</b> socket-util.h:67</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="test-vconn_8c_html_a712fd791ab1e2a4023416f5afbfcfc24"><div class="ttname"><a href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a></div><div class="ttdeci">#define CHECK_ERRNO(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:69</div></div>
<div class="ttc" id="structvconn_html"><div class="ttname"><a href="structvconn.html">vconn</a></div><div class="ttdef"><b>Definition:</b> vconn-provider.h:30</div></div>
<div class="ttc" id="test-vconn_8c_html_a3a3f665522fee518c98511f5a699b018"><div class="ttname"><a href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a></div><div class="ttdeci">static void fpv_destroy(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:134</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="structfake__pvconn_html"><div class="ttname"><a href="structfake__pvconn.html">fake_pvconn</a></div><div class="ttdef"><b>Definition:</b> test-vconn.c:41</div></div>
<div class="ttc" id="db-ctl-base_8h_html_ac1b6cb05f8210e77cf52f71d8eb330d7"><div class="ttname"><a href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a></div><div class="ttdeci">#define ovs_fatal</div><div class="ttdef"><b>Definition:</b> db-ctl-base.h:45</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac9ded4afa923966acc7c0ef3263dea9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_read_hello </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfake__pvconn.html">fake_pvconn</a> fpv;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvconn.html">vconn</a> *<a class="code" href="structvconn.html">vconn</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">struct </span><a class="code" href="structstream.html">stream</a> *<a class="code" href="structstream.html">stream</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a>(type, &amp;fpv);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a>(fpv.vconn_name, 0, <a class="code" href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a>, &amp;vconn), 0);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    stream = <a class="code" href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a>(&amp;fpv);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a>(&amp;fpv);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;       <span class="keyword">struct </span><a class="code" href="structofp__header.html">ofp_header</a> hello;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;       <span class="keywordtype">int</span> retval;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;       retval = <a class="code" href="stream_8c.html#aecca5f1213665d85daed4e5e3254cc3f">stream_recv</a>(stream, &amp;hello, <span class="keyword">sizeof</span> hello);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;       <span class="keywordflow">if</span> (retval == <span class="keyword">sizeof</span> hello) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;           <span class="keyword">enum</span> <a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528">ofpraw</a> raw;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;           <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(hello.version, <a class="code" href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;           <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(<a class="code" href="ofp-msgs_8c.html#a6476c764a707b060521a2a078acc7cef">ofpraw_decode_partial</a>(&amp;raw, &amp;hello, <span class="keyword">sizeof</span> hello), 0);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;           <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(raw, <a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;           <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(<a class="code" href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a>(hello.length), <span class="keyword">sizeof</span> hello);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;           <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;       } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;           <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(retval, -EAGAIN);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;       }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;       <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;       <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="vconn_8h.html#a6b44b4e650325ed0c7abd2cd609ea990">vconn_connect</a>(vconn), EAGAIN);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;       <a class="code" href="vconn_8h.html#a364929499c3d7da6ade968d88bbff97d">vconn_run_wait</a>(vconn);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;       <a class="code" href="vconn_8h.html#a3b4a33a7d4151b4eb4e355d420dbfa8f">vconn_connect_wait</a>(vconn);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;       <a class="code" href="stream_8c.html#af0b832c9794e074e9cb09f1d2b44eb99">stream_recv_wait</a>(stream);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;       <a class="code" href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a>();</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a>(stream);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    error = <a class="code" href="vconn_8h.html#ae0e2c9372d0174898c0703edb17cc0b6">vconn_connect_block</a>(vconn);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (error != ECONNRESET &amp;&amp; error != EPIPE) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;unexpected vconn_connect() return value %d (%s)&quot;</span>,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                  error, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(error));</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a>(vconn);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="ttc" id="stream_8c_html_a8da7d7c3d9a573ae9cf1dab1be38e623"><div class="ttname"><a href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a></div><div class="ttdeci">void stream_close(struct stream *stream)</div><div class="ttdef"><b>Definition:</b> stream.c:277</div></div>
<div class="ttc" id="Util_8h_html_a827f490ed828316d1d8f92e5c4f14cdc"><div class="ttname"><a href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a></div><div class="ttdeci">#define ntohs(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:74</div></div>
<div class="ttc" id="structofp__header_html"><div class="ttname"><a href="structofp__header.html">ofp_header</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:138</div></div>
<div class="ttc" id="poll-loop_8c_html_a2645ec3e8c76cc443a500ae722901b50"><div class="ttname"><a href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a></div><div class="ttdeci">void poll_block(void)</div><div class="ttdef"><b>Definition:</b> poll-loop.c:313</div></div>
<div class="ttc" id="vconn_8h_html_a3e584be0acbe73013bc5ab948cdf7919"><div class="ttname"><a href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a></div><div class="ttdeci">void vconn_close(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:330</div></div>
<div class="ttc" id="stream_8c_html_af0b832c9794e074e9cb09f1d2b44eb99"><div class="ttname"><a href="stream_8c.html#af0b832c9794e074e9cb09f1d2b44eb99">stream_recv_wait</a></div><div class="ttdeci">void stream_recv_wait(struct stream *stream)</div><div class="ttdef"><b>Definition:</b> stream.c:422</div></div>
<div class="ttc" id="vconn_8h_html_a849bf78aa61c6cf52f897eb3e079cefb"><div class="ttname"><a href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a></div><div class="ttdeci">void vconn_run(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:267</div></div>
<div class="ttc" id="vconn_8h_html_a364929499c3d7da6ade968d88bbff97d"><div class="ttname"><a href="vconn_8h.html#a364929499c3d7da6ade968d88bbff97d">vconn_run_wait</a></div><div class="ttdeci">void vconn_run_wait(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:283</div></div>
<div class="ttc" id="test-vconn_8c_html_a90e975e716aea5ecc3dcdca5d7548be8"><div class="ttname"><a href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a></div><div class="ttdeci">static void fpv_create(const char *type, struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:72</div></div>
<div class="ttc" id="test-vconn_8c_html_a62f721136c03285924458997c125c07b"><div class="ttname"><a href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a></div><div class="ttdeci">static struct stream * fpv_accept(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:117</div></div>
<div class="ttc" id="test-vconn_8c_html_a6f3360e5cfbcc96c78e6e14f9d773297"><div class="ttname"><a href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a></div><div class="ttdeci">#define CHECK(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:57</div></div>
<div class="ttc" id="openflow-common_8h_html_aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4"><div class="ttname"><a href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:78</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="vconn_8h_html_aaca2ae783bbb132140b2f357dd04efd9"><div class="ttname"><a href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a></div><div class="ttdeci">int vconn_open(const char *name, uint32_t allowed_versions, uint8_t dscp, struct vconn **vconnp)</div><div class="ttdef"><b>Definition:</b> vconn.c:225</div></div>
<div class="ttc" id="vconn_8h_html_ae0e2c9372d0174898c0703edb17cc0b6"><div class="ttname"><a href="vconn_8h.html#ae0e2c9372d0174898c0703edb17cc0b6">vconn_connect_block</a></div><div class="ttdeci">int vconn_connect_block(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:698</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528">ofpraw</a></div><div class="ttdeci">ofpraw</div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:94</div></div>
<div class="ttc" id="socket-util_8h_html_a6240b4c521d391f364add0fdf8ba696a"><div class="ttname"><a href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a></div><div class="ttdeci">#define DSCP_DEFAULT</div><div class="ttdef"><b>Definition:</b> socket-util.h:67</div></div>
<div class="ttc" id="structstream_html"><div class="ttname"><a href="structstream.html">stream</a></div><div class="ttdef"><b>Definition:</b> stream-provider.h:28</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="test-vconn_8c_html_a712fd791ab1e2a4023416f5afbfcfc24"><div class="ttname"><a href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a></div><div class="ttdeci">#define CHECK_ERRNO(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:69</div></div>
<div class="ttc" id="vconn_8h_html_a3b4a33a7d4151b4eb4e355d420dbfa8f"><div class="ttname"><a href="vconn_8h.html#a3b4a33a7d4151b4eb4e355d420dbfa8f">vconn_connect_wait</a></div><div class="ttdeci">void vconn_connect_wait(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:1127</div></div>
<div class="ttc" id="structvconn_html"><div class="ttname"><a href="structvconn.html">vconn</a></div><div class="ttdef"><b>Definition:</b> vconn-provider.h:30</div></div>
<div class="ttc" id="test-vconn_8c_html_a3a3f665522fee518c98511f5a699b018"><div class="ttname"><a href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a></div><div class="ttdeci">static void fpv_destroy(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:134</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="structfake__pvconn_html"><div class="ttname"><a href="structfake__pvconn.html">fake_pvconn</a></div><div class="ttdef"><b>Definition:</b> test-vconn.c:41</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a6476c764a707b060521a2a078acc7cef"><div class="ttname"><a href="ofp-msgs_8c.html#a6476c764a707b060521a2a078acc7cef">ofpraw_decode_partial</a></div><div class="ttdeci">enum ofperr ofpraw_decode_partial(enum ofpraw *raw, const struct ofp_header *oh, size_t length)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:485</div></div>
<div class="ttc" id="stream_8c_html_aecca5f1213665d85daed4e5e3254cc3f"><div class="ttname"><a href="stream_8c.html#aecca5f1213665d85daed4e5e3254cc3f">stream_recv</a></div><div class="ttdeci">int stream_recv(struct stream *stream, void *buffer, size_t n)</div><div class="ttdef"><b>Definition:</b> stream.c:349</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a></div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:110</div></div>
<div class="ttc" id="vconn_8h_html_a6b44b4e650325ed0c7abd2cd609ea990"><div class="ttname"><a href="vconn_8h.html#a6b44b4e650325ed0c7abd2cd609ea990">vconn_connect</a></div><div class="ttdeci">int vconn_connect(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:545</div></div>
<div class="ttc" id="db-ctl-base_8h_html_ac1b6cb05f8210e77cf52f71d8eb330d7"><div class="ttname"><a href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a></div><div class="ttdeci">#define ovs_fatal</div><div class="ttdef"><b>Definition:</b> db-ctl-base.h:45</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4de0f98859e3f4cdff949414f880758"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_refuse_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfake__pvconn.html">fake_pvconn</a> fpv;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvconn.html">vconn</a> *<a class="code" href="structvconn.html">vconn</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a>(type, &amp;fpv);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a>(fpv.vconn_name, 0, <a class="code" href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a>, &amp;vconn), 0);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a>(&amp;fpv);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    error = <a class="code" href="vconn_8h.html#ae0e2c9372d0174898c0703edb17cc0b6">vconn_connect_block</a>(vconn);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (!strcmp(type, <span class="stringliteral">&quot;tcp&quot;</span>)) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> (error != ECONNRESET &amp;&amp; error != EPIPE</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;#ifdef _WIN32</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            &amp;&amp; error != WSAECONNRESET</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;#endif</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            ) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;unexpected vconn_connect() return value %d (%s)&quot;</span>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                      error, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(error));</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(type, <span class="stringliteral">&quot;unix&quot;</span>)) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(error, EPIPE);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(error, WSAECONNRESET);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(type, <span class="stringliteral">&quot;ssl&quot;</span>)) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span> (error != EPROTO &amp;&amp; error != ECONNRESET) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;unexpected vconn_connect() return value %d (%s)&quot;</span>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                      error, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(error));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;invalid connection type %s&quot;</span>, type);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a>(vconn);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a>(&amp;fpv);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="ttc" id="test-vconn_8c_html_aba034dbe32e5f489f11f20ea3ee2f372"><div class="ttname"><a href="test-vconn_8c.html#aba034dbe32e5f489f11f20ea3ee2f372">fpv_close</a></div><div class="ttdeci">static void fpv_close(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:127</div></div>
<div class="ttc" id="vconn_8h_html_a3e584be0acbe73013bc5ab948cdf7919"><div class="ttname"><a href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a></div><div class="ttdeci">void vconn_close(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:330</div></div>
<div class="ttc" id="vconn_8h_html_a849bf78aa61c6cf52f897eb3e079cefb"><div class="ttname"><a href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a></div><div class="ttdeci">void vconn_run(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:267</div></div>
<div class="ttc" id="test-vconn_8c_html_a90e975e716aea5ecc3dcdca5d7548be8"><div class="ttname"><a href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a></div><div class="ttdeci">static void fpv_create(const char *type, struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:72</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="vconn_8h_html_aaca2ae783bbb132140b2f357dd04efd9"><div class="ttname"><a href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a></div><div class="ttdeci">int vconn_open(const char *name, uint32_t allowed_versions, uint8_t dscp, struct vconn **vconnp)</div><div class="ttdef"><b>Definition:</b> vconn.c:225</div></div>
<div class="ttc" id="vconn_8h_html_ae0e2c9372d0174898c0703edb17cc0b6"><div class="ttname"><a href="vconn_8h.html#ae0e2c9372d0174898c0703edb17cc0b6">vconn_connect_block</a></div><div class="ttdeci">int vconn_connect_block(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:698</div></div>
<div class="ttc" id="socket-util_8h_html_a6240b4c521d391f364add0fdf8ba696a"><div class="ttname"><a href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a></div><div class="ttdeci">#define DSCP_DEFAULT</div><div class="ttdef"><b>Definition:</b> socket-util.h:67</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="test-vconn_8c_html_a712fd791ab1e2a4023416f5afbfcfc24"><div class="ttname"><a href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a></div><div class="ttdeci">#define CHECK_ERRNO(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:69</div></div>
<div class="ttc" id="structvconn_html"><div class="ttname"><a href="structvconn.html">vconn</a></div><div class="ttdef"><b>Definition:</b> vconn-provider.h:30</div></div>
<div class="ttc" id="test-vconn_8c_html_a3a3f665522fee518c98511f5a699b018"><div class="ttname"><a href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a></div><div class="ttdeci">static void fpv_destroy(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:134</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="structfake__pvconn_html"><div class="ttname"><a href="structfake__pvconn.html">fake_pvconn</a></div><div class="ttdef"><b>Definition:</b> test-vconn.c:41</div></div>
<div class="ttc" id="db-ctl-base_8h_html_ac1b6cb05f8210e77cf52f71d8eb330d7"><div class="ttname"><a href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a></div><div class="ttdeci">#define ovs_fatal</div><div class="ttdef"><b>Definition:</b> db-ctl-base.h:45</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c12b37045809c349291c3ea8558b27c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_send_echo_hello </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *echo;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    echo = <a class="code" href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a>(<a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528a6f77701c34d04d3cf81b085abc2661c7">OFPRAW_OFPT_ECHO_REQUEST</a>, <a class="code" href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a>,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                             <a class="code" href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a>(0x12345678), 0);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a>(type, echo-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>, echo-&gt;<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>, EPROTO);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a>(echo);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528a6f77701c34d04d3cf81b085abc2661c7"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528a6f77701c34d04d3cf81b085abc2661c7">OFPRAW_OFPT_ECHO_REQUEST</a></div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:116</div></div>
<div class="ttc" id="openflow-common_8h_html_aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4"><div class="ttname"><a href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:78</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="ofpbuf_8h_html_a0fb2b6472401a169d3e48d20a74fbf33"><div class="ttname"><a href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a></div><div class="ttdeci">static void ofpbuf_delete(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:142</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="test-vconn_8c_html_a81927047c2e72a9f63c5bba1fd584d90"><div class="ttname"><a href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a></div><div class="ttdeci">static void test_send_hello(const char *type, const void *out, size_t out_size, int expect_connect_error)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:275</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a9857e8c7208e0dff7ae93f2a31272ab8"><div class="ttname"><a href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a></div><div class="ttdeci">struct ofpbuf * ofpraw_alloc_xid(enum ofpraw raw, uint8_t version, ovs_be32 xid, size_t extra_tailroom)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:530</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="Util_8h_html_a7f21954fd99169bcfc41ea9304d68697"><div class="ttname"><a href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a></div><div class="ttdeci">#define htonl(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:75</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a81927047c2e72a9f63c5bba1fd584d90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_send_hello </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>out_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>expect_connect_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfake__pvconn.html">fake_pvconn</a> fpv;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvconn.html">vconn</a> *<a class="code" href="structvconn.html">vconn</a>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">bool</span> read_hello, connected;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *<a class="code" href="structofpbuf.html#a18b6391f4ace7a5c2bad32654b5315e4">msg</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">struct </span><a class="code" href="structstream.html">stream</a> *<a class="code" href="structstream.html">stream</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">size_t</span> n_sent;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a>(<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, &amp;fpv);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a>(fpv.vconn_name, 0, <a class="code" href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a>, &amp;vconn), 0);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    stream = <a class="code" href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a>(&amp;fpv);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a>(&amp;fpv);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    n_sent = 0;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">while</span> (n_sent &lt; out_size) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordtype">int</span> retval;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        retval = <a class="code" href="stream_8c.html#a44de7275c08f501f83a96e07d8900c86">stream_send</a>(stream, (<span class="keywordtype">char</span> *) out + n_sent, out_size - n_sent);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span> (retval &gt; 0) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            n_sent += retval;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (retval == -EAGAIN) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="stream_8c.html#a2c199b4ceb1f62c7372f36bb526f6a51">stream_run</a>(stream);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <a class="code" href="stream_8c.html#af0b832c9794e074e9cb09f1d2b44eb99">stream_recv_wait</a>(stream);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="vconn_8h.html#a3b4a33a7d4151b4eb4e355d420dbfa8f">vconn_connect_wait</a>(vconn);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="vconn_8h.html#a364929499c3d7da6ade968d88bbff97d">vconn_run_wait</a>(vconn);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <a class="code" href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a>();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <a class="code" href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a>(0, <span class="stringliteral">&quot;stream_send returned unexpected value %d&quot;</span>, retval);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    read_hello = connected = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;       <span class="keywordflow">if</span> (!read_hello) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;           <span class="keyword">struct </span><a class="code" href="structofp__header.html">ofp_header</a> hello;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;           <span class="keywordtype">int</span> retval = <a class="code" href="stream_8c.html#aecca5f1213665d85daed4e5e3254cc3f">stream_recv</a>(stream, &amp;hello, <span class="keyword">sizeof</span> hello);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;           <span class="keywordflow">if</span> (retval == <span class="keyword">sizeof</span> hello) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;               <span class="keyword">enum</span> <a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528">ofpraw</a> raw;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;               <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(hello.version, <a class="code" href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;               <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(<a class="code" href="ofp-msgs_8c.html#a6476c764a707b060521a2a078acc7cef">ofpraw_decode_partial</a>(&amp;raw, &amp;hello, <span class="keyword">sizeof</span> hello), 0);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;               <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(raw, <a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;               <a class="code" href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a>(<a class="code" href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a>(hello.length), <span class="keyword">sizeof</span> hello);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;               read_hello = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;           } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;               <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(retval, -EAGAIN);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;           }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;       }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;       <a class="code" href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a>(vconn);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;       <span class="keywordflow">if</span> (!connected) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;           <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a> = <a class="code" href="vconn_8h.html#a6b44b4e650325ed0c7abd2cd609ea990">vconn_connect</a>(vconn);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;           <span class="keywordflow">if</span> (error == expect_connect_error) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;               <span class="keywordflow">if</span> (!error) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                   connected = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;               } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                   <a class="code" href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a>(stream);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                   <a class="code" href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a>(vconn);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                   <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;               }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;           } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;               <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(error, EAGAIN);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;           }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;       }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;       <span class="keywordflow">if</span> (read_hello &amp;&amp; connected) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;           <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;       }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;       <a class="code" href="vconn_8h.html#a364929499c3d7da6ade968d88bbff97d">vconn_run_wait</a>(vconn);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;       <span class="keywordflow">if</span> (!connected) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;           <a class="code" href="vconn_8h.html#a3b4a33a7d4151b4eb4e355d420dbfa8f">vconn_connect_wait</a>(vconn);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;       }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;       <span class="keywordflow">if</span> (!read_hello) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;           <a class="code" href="stream_8c.html#af0b832c9794e074e9cb09f1d2b44eb99">stream_recv_wait</a>(stream);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;       }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;       <a class="code" href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a>();</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a>(stream);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a>(<a class="code" href="vconn_8h.html#ac1d1e61428cf8317c0dba083696f3fc0">vconn_recv_block</a>(vconn, &amp;msg), <a class="code" href="namespaceovs_1_1jsonrpc.html#ad1dd429641919077434dd89479fe2b3e">EOF</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a>(vconn);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;}</div>
<div class="ttc" id="stream_8c_html_a8da7d7c3d9a573ae9cf1dab1be38e623"><div class="ttname"><a href="stream_8c.html#a8da7d7c3d9a573ae9cf1dab1be38e623">stream_close</a></div><div class="ttdeci">void stream_close(struct stream *stream)</div><div class="ttdef"><b>Definition:</b> stream.c:277</div></div>
<div class="ttc" id="Util_8h_html_a827f490ed828316d1d8f92e5c4f14cdc"><div class="ttname"><a href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a></div><div class="ttdeci">#define ntohs(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:74</div></div>
<div class="ttc" id="vconn_8h_html_ac1d1e61428cf8317c0dba083696f3fc0"><div class="ttname"><a href="vconn_8h.html#ac1d1e61428cf8317c0dba083696f3fc0">vconn_recv_block</a></div><div class="ttdeci">int vconn_recv_block(struct vconn *, struct ofpbuf **)</div><div class="ttdef"><b>Definition:</b> vconn.c:732</div></div>
<div class="ttc" id="structofp__header_html"><div class="ttname"><a href="structofp__header.html">ofp_header</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:138</div></div>
<div class="ttc" id="poll-loop_8c_html_a2645ec3e8c76cc443a500ae722901b50"><div class="ttname"><a href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a></div><div class="ttdeci">void poll_block(void)</div><div class="ttdef"><b>Definition:</b> poll-loop.c:313</div></div>
<div class="ttc" id="vconn_8h_html_a3e584be0acbe73013bc5ab948cdf7919"><div class="ttname"><a href="vconn_8h.html#a3e584be0acbe73013bc5ab948cdf7919">vconn_close</a></div><div class="ttdeci">void vconn_close(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:330</div></div>
<div class="ttc" id="stream_8c_html_a44de7275c08f501f83a96e07d8900c86"><div class="ttname"><a href="stream_8c.html#a44de7275c08f501f83a96e07d8900c86">stream_send</a></div><div class="ttdeci">int stream_send(struct stream *stream, const void *buffer, size_t n)</div><div class="ttdef"><b>Definition:</b> stream.c:367</div></div>
<div class="ttc" id="structofpbuf_html_a18b6391f4ace7a5c2bad32654b5315e4"><div class="ttname"><a href="structofpbuf.html#a18b6391f4ace7a5c2bad32654b5315e4">ofpbuf::msg</a></div><div class="ttdeci">void * msg</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:62</div></div>
<div class="ttc" id="stream_8c_html_af0b832c9794e074e9cb09f1d2b44eb99"><div class="ttname"><a href="stream_8c.html#af0b832c9794e074e9cb09f1d2b44eb99">stream_recv_wait</a></div><div class="ttdeci">void stream_recv_wait(struct stream *stream)</div><div class="ttdef"><b>Definition:</b> stream.c:422</div></div>
<div class="ttc" id="vconn_8h_html_a849bf78aa61c6cf52f897eb3e079cefb"><div class="ttname"><a href="vconn_8h.html#a849bf78aa61c6cf52f897eb3e079cefb">vconn_run</a></div><div class="ttdeci">void vconn_run(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:267</div></div>
<div class="ttc" id="vconn_8h_html_a364929499c3d7da6ade968d88bbff97d"><div class="ttname"><a href="vconn_8h.html#a364929499c3d7da6ade968d88bbff97d">vconn_run_wait</a></div><div class="ttdeci">void vconn_run_wait(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:283</div></div>
<div class="ttc" id="test-vconn_8c_html_a90e975e716aea5ecc3dcdca5d7548be8"><div class="ttname"><a href="test-vconn_8c.html#a90e975e716aea5ecc3dcdca5d7548be8">fpv_create</a></div><div class="ttdeci">static void fpv_create(const char *type, struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:72</div></div>
<div class="ttc" id="test-vconn_8c_html_a62f721136c03285924458997c125c07b"><div class="ttname"><a href="test-vconn_8c.html#a62f721136c03285924458997c125c07b">fpv_accept</a></div><div class="ttdeci">static struct stream * fpv_accept(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:117</div></div>
<div class="ttc" id="test-vconn_8c_html_a6f3360e5cfbcc96c78e6e14f9d773297"><div class="ttname"><a href="test-vconn_8c.html#a6f3360e5cfbcc96c78e6e14f9d773297">CHECK</a></div><div class="ttdeci">#define CHECK(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:57</div></div>
<div class="ttc" id="openflow-common_8h_html_aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4"><div class="ttname"><a href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:78</div></div>
<div class="ttc" id="vconn_8h_html_aaca2ae783bbb132140b2f357dd04efd9"><div class="ttname"><a href="vconn_8h.html#aaca2ae783bbb132140b2f357dd04efd9">vconn_open</a></div><div class="ttdeci">int vconn_open(const char *name, uint32_t allowed_versions, uint8_t dscp, struct vconn **vconnp)</div><div class="ttdef"><b>Definition:</b> vconn.c:225</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528">ofpraw</a></div><div class="ttdeci">ofpraw</div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:94</div></div>
<div class="ttc" id="socket-util_8h_html_a6240b4c521d391f364add0fdf8ba696a"><div class="ttname"><a href="socket-util_8h.html#a6240b4c521d391f364add0fdf8ba696a">DSCP_DEFAULT</a></div><div class="ttdeci">#define DSCP_DEFAULT</div><div class="ttdef"><b>Definition:</b> socket-util.h:67</div></div>
<div class="ttc" id="structstream_html"><div class="ttname"><a href="structstream.html">stream</a></div><div class="ttdef"><b>Definition:</b> stream-provider.h:28</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="test-vconn_8c_html_a712fd791ab1e2a4023416f5afbfcfc24"><div class="ttname"><a href="test-vconn_8c.html#a712fd791ab1e2a4023416f5afbfcfc24">CHECK_ERRNO</a></div><div class="ttdeci">#define CHECK_ERRNO(A, B)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:69</div></div>
<div class="ttc" id="vconn_8h_html_a3b4a33a7d4151b4eb4e355d420dbfa8f"><div class="ttname"><a href="vconn_8h.html#a3b4a33a7d4151b4eb4e355d420dbfa8f">vconn_connect_wait</a></div><div class="ttdeci">void vconn_connect_wait(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:1127</div></div>
<div class="ttc" id="structvconn_html"><div class="ttname"><a href="structvconn.html">vconn</a></div><div class="ttdef"><b>Definition:</b> vconn-provider.h:30</div></div>
<div class="ttc" id="test-vconn_8c_html_a3a3f665522fee518c98511f5a699b018"><div class="ttname"><a href="test-vconn_8c.html#a3a3f665522fee518c98511f5a699b018">fpv_destroy</a></div><div class="ttdeci">static void fpv_destroy(struct fake_pvconn *fpv)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:134</div></div>
<div class="ttc" id="stream_8c_html_a2c199b4ceb1f62c7372f36bb526f6a51"><div class="ttname"><a href="stream_8c.html#a2c199b4ceb1f62c7372f36bb526f6a51">stream_run</a></div><div class="ttdeci">void stream_run(struct stream *stream)</div><div class="ttdef"><b>Definition:</b> stream.c:378</div></div>
<div class="ttc" id="structfake__pvconn_html"><div class="ttname"><a href="structfake__pvconn.html">fake_pvconn</a></div><div class="ttdef"><b>Definition:</b> test-vconn.c:41</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a6476c764a707b060521a2a078acc7cef"><div class="ttname"><a href="ofp-msgs_8c.html#a6476c764a707b060521a2a078acc7cef">ofpraw_decode_partial</a></div><div class="ttdeci">enum ofperr ofpraw_decode_partial(enum ofpraw *raw, const struct ofp_header *oh, size_t length)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:485</div></div>
<div class="ttc" id="namespaceovs_1_1jsonrpc_html_ad1dd429641919077434dd89479fe2b3e"><div class="ttname"><a href="namespaceovs_1_1jsonrpc.html#ad1dd429641919077434dd89479fe2b3e">ovs.jsonrpc.EOF</a></div><div class="ttdeci">EOF</div><div class="ttdef"><b>Definition:</b> jsonrpc.py:26</div></div>
<div class="ttc" id="stream_8c_html_aecca5f1213665d85daed4e5e3254cc3f"><div class="ttname"><a href="stream_8c.html#aecca5f1213665d85daed4e5e3254cc3f">stream_recv</a></div><div class="ttdeci">int stream_recv(struct stream *stream, void *buffer, size_t n)</div><div class="ttdef"><b>Definition:</b> stream.c:349</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a></div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:110</div></div>
<div class="ttc" id="vconn_8h_html_a6b44b4e650325ed0c7abd2cd609ea990"><div class="ttname"><a href="vconn_8h.html#a6b44b4e650325ed0c7abd2cd609ea990">vconn_connect</a></div><div class="ttdeci">int vconn_connect(struct vconn *)</div><div class="ttdef"><b>Definition:</b> vconn.c:545</div></div>
<div class="ttc" id="db-ctl-base_8h_html_ac1b6cb05f8210e77cf52f71d8eb330d7"><div class="ttname"><a href="db-ctl-base_8h.html#ac1b6cb05f8210e77cf52f71d8eb330d7">ovs_fatal</a></div><div class="ttdeci">#define ovs_fatal</div><div class="ttdef"><b>Definition:</b> db-ctl-base.h:45</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95abb0e1db8e4971cfb25c9e0a7a1dbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_send_invalid_version_hello </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;{</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *hello;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    hello = <a class="code" href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a>(<a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a>, <a class="code" href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a>,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                             <a class="code" href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a>(0x12345678), 0);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    ((<span class="keyword">struct </span><a class="code" href="structofp__header.html">ofp_header</a> *) hello-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>)-&gt;version = 0;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a>(type, hello-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>, hello-&gt;<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>, EPROTO);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a>(hello);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="ttc" id="structofp__header_html"><div class="ttname"><a href="structofp__header.html">ofp_header</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:138</div></div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="openflow-common_8h_html_aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4"><div class="ttname"><a href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:78</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="ofpbuf_8h_html_a0fb2b6472401a169d3e48d20a74fbf33"><div class="ttname"><a href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a></div><div class="ttdeci">static void ofpbuf_delete(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:142</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="test-vconn_8c_html_a81927047c2e72a9f63c5bba1fd584d90"><div class="ttname"><a href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a></div><div class="ttdeci">static void test_send_hello(const char *type, const void *out, size_t out_size, int expect_connect_error)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:275</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a9857e8c7208e0dff7ae93f2a31272ab8"><div class="ttname"><a href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a></div><div class="ttdeci">struct ofpbuf * ofpraw_alloc_xid(enum ofpraw raw, uint8_t version, ovs_be32 xid, size_t extra_tailroom)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:530</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a></div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:110</div></div>
<div class="ttc" id="Util_8h_html_a7f21954fd99169bcfc41ea9304d68697"><div class="ttname"><a href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a></div><div class="ttdeci">#define htonl(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:75</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a61fb36383bccc3d1ac1d5646a93f042d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_send_long_hello </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *hello;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keyword">enum</span> { EXTRA_BYTES = 8 };</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    hello = <a class="code" href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a>(<a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a>, <a class="code" href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a>,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                             <a class="code" href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a>(0x12345678), EXTRA_BYTES);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="ofpbuf_8c.html#a85a7558954bbbd8607b1913315e6d91a">ofpbuf_put_zeros</a>(hello, EXTRA_BYTES);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="ofp-msgs_8c.html#a1fa36d2a3cd807bc6887b5540e418f4c">ofpmsg_update_length</a>(hello);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a>(type, hello-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>, hello-&gt;<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>, 0);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a>(hello);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a1fa36d2a3cd807bc6887b5540e418f4c"><div class="ttname"><a href="ofp-msgs_8c.html#a1fa36d2a3cd807bc6887b5540e418f4c">ofpmsg_update_length</a></div><div class="ttdeci">void ofpmsg_update_length(struct ofpbuf *buf)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:838</div></div>
<div class="ttc" id="ofpbuf_8c_html_a85a7558954bbbd8607b1913315e6d91a"><div class="ttname"><a href="ofpbuf_8c.html#a85a7558954bbbd8607b1913315e6d91a">ofpbuf_put_zeros</a></div><div class="ttdeci">void * ofpbuf_put_zeros(struct ofpbuf *b, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:374</div></div>
<div class="ttc" id="openflow-common_8h_html_aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4"><div class="ttname"><a href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:78</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="ofpbuf_8h_html_a0fb2b6472401a169d3e48d20a74fbf33"><div class="ttname"><a href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a></div><div class="ttdeci">static void ofpbuf_delete(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:142</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="test-vconn_8c_html_a81927047c2e72a9f63c5bba1fd584d90"><div class="ttname"><a href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a></div><div class="ttdeci">static void test_send_hello(const char *type, const void *out, size_t out_size, int expect_connect_error)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:275</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a9857e8c7208e0dff7ae93f2a31272ab8"><div class="ttname"><a href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a></div><div class="ttdeci">struct ofpbuf * ofpraw_alloc_xid(enum ofpraw raw, uint8_t version, ovs_be32 xid, size_t extra_tailroom)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:530</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a></div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:110</div></div>
<div class="ttc" id="Util_8h_html_a7f21954fd99169bcfc41ea9304d68697"><div class="ttname"><a href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a></div><div class="ttdeci">#define htonl(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:75</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a279de45708f718e69c7ed594db136efa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_send_plain_hello </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *hello;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    hello = <a class="code" href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a>(<a class="code" href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a>, <a class="code" href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a>,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                             <a class="code" href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a>(0x12345678), 0);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a>(type, hello-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>, hello-&gt;<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>, 0);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a>(hello);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;}</div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="openflow-common_8h_html_aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4"><div class="ttname"><a href="openflow-common_8h.html#aaf5c8822be88af8761c5f1ac5526bd56a6aad6f4f1f615365020c18ad6b516bc4">OFP13_VERSION</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:78</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="ofpbuf_8h_html_a0fb2b6472401a169d3e48d20a74fbf33"><div class="ttname"><a href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a></div><div class="ttdeci">static void ofpbuf_delete(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:142</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="test-vconn_8c_html_a81927047c2e72a9f63c5bba1fd584d90"><div class="ttname"><a href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a></div><div class="ttdeci">static void test_send_hello(const char *type, const void *out, size_t out_size, int expect_connect_error)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:275</div></div>
<div class="ttc" id="ofp-msgs_8c_html_a9857e8c7208e0dff7ae93f2a31272ab8"><div class="ttname"><a href="ofp-msgs_8c.html#a9857e8c7208e0dff7ae93f2a31272ab8">ofpraw_alloc_xid</a></div><div class="ttdeci">struct ofpbuf * ofpraw_alloc_xid(enum ofpraw raw, uint8_t version, ovs_be32 xid, size_t extra_tailroom)</div><div class="ttdef"><b>Definition:</b> ofp-msgs.c:530</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="ofp-msgs_8h_html_a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8"><div class="ttname"><a href="ofp-msgs_8h.html#a33449a5115ebb83159b9bf69a8f08528ace93db235a635c47a3854cf7ebc53db8">OFPRAW_OFPT_HELLO</a></div><div class="ttdef"><b>Definition:</b> ofp-msgs.h:110</div></div>
<div class="ttc" id="Util_8h_html_a7f21954fd99169bcfc41ea9304d68697"><div class="ttname"><a href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a></div><div class="ttdeci">#define htonl(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:75</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87aa485ecb2de9c65a6cc3a2d3c2fb03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_send_short_hello </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structovs__cmdl__context.html">ovs_cmdl_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> = ctx-&gt;<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[1];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofp__header.html">ofp_header</a> hello;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    memset(&amp;hello, 0, <span class="keyword">sizeof</span> hello);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a>(type, &amp;hello, <span class="keyword">sizeof</span> hello, EPROTO);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div>
<div class="ttc" id="structofp__header_html"><div class="ttname"><a href="structofp__header.html">ofp_header</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:138</div></div>
<div class="ttc" id="test-vconn_8c_html_a81927047c2e72a9f63c5bba1fd584d90"><div class="ttname"><a href="test-vconn_8c.html#a81927047c2e72a9f63c5bba1fd584d90">test_send_hello</a></div><div class="ttdeci">static void test_send_hello(const char *type, const void *out, size_t out_size, int expect_connect_error)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:275</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d8bb1d2237d0cc76caa7dbb997d38b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void test_vconn_main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__cmdl__context.html">ovs_cmdl_context</a> <a class="code" href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a> = {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        .argc = <a class="code" href="structovs__cmdl__context.html#aaa77261fe624d9665f93e259c7f4cf25">argc</a> - 1,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        .argv = <a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a> + 1,</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    };</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="lib_2util_8h.html#a7de18ecef71e7aec1adb57e622806f1b">set_program_name</a>(<a class="code" href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">argv</a>[0]);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="vlog_8h.html#a15c1b58e4946d382bc69d0056806afd4">vlog_set_levels</a>(NULL, <a class="code" href="vlog_8h.html#ae62a3c55fc7e53df15a3b56600a1f2e4a7e254e7a5c6cc1cf0c7ff94e1b7366ff">VLF_ANY_DESTINATION</a>, VLL_EMER);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="vlog_8h.html#a15c1b58e4946d382bc69d0056806afd4">vlog_set_levels</a>(NULL, VLF_CONSOLE, VLL_DBG);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="fatal-signal_8c.html#a708b2ef59c81e410722ce94c69f3eddf">fatal_ignore_sigpipe</a>();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="timeval_8c.html#aea355781c327b2b5dc94cffef9adc2f2">time_alarm</a>(10);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="command-line_8c.html#a87b9138d59cd1e2a59152cc0f843efeb">ovs_cmdl_run_command</a>(&amp;ctx, <a class="code" href="test-vconn_8c.html#a7138a3cac4e99f56636da26e1c20ea46">commands</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="ttc" id="lib_2util_8h_html_a7de18ecef71e7aec1adb57e622806f1b"><div class="ttname"><a href="lib_2util_8h.html#a7de18ecef71e7aec1adb57e622806f1b">set_program_name</a></div><div class="ttdeci">#define set_program_name(name)</div><div class="ttdef"><b>Definition:</b> util.h:265</div></div>
<div class="ttc" id="fatal-signal_8c_html_a708b2ef59c81e410722ce94c69f3eddf"><div class="ttname"><a href="fatal-signal_8c.html#a708b2ef59c81e410722ce94c69f3eddf">fatal_ignore_sigpipe</a></div><div class="ttdeci">void fatal_ignore_sigpipe(void)</div><div class="ttdef"><b>Definition:</b> fatal-signal.c:229</div></div>
<div class="ttc" id="vlog_8h_html_a15c1b58e4946d382bc69d0056806afd4"><div class="ttname"><a href="vlog_8h.html#a15c1b58e4946d382bc69d0056806afd4">vlog_set_levels</a></div><div class="ttdeci">void vlog_set_levels(struct vlog_module *, enum vlog_destination, enum vlog_level)</div><div class="ttdef"><b>Definition:</b> vlog.c:291</div></div>
<div class="ttc" id="test-vconn_8c_html_a7138a3cac4e99f56636da26e1c20ea46"><div class="ttname"><a href="test-vconn_8c.html#a7138a3cac4e99f56636da26e1c20ea46">commands</a></div><div class="ttdeci">static const struct ovs_cmdl_command commands[]</div><div class="ttdef"><b>Definition:</b> test-vconn.c:434</div></div>
<div class="ttc" id="stream-ssl_8c_html_ad5433bcc8a463fb4df3ce5912bb11fe3"><div class="ttname"><a href="stream-ssl_8c.html#ad5433bcc8a463fb4df3ce5912bb11fe3">ctx</a></div><div class="ttdeci">static SSL_CTX * ctx</div><div class="ttdef"><b>Definition:</b> stream-ssl.c:153</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aaa77261fe624d9665f93e259c7f4cf25"><div class="ttname"><a href="structovs__cmdl__context.html#aaa77261fe624d9665f93e259c7f4cf25">ovs_cmdl_context::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> command-line.h:29</div></div>
<div class="ttc" id="vlog_8h_html_ae62a3c55fc7e53df15a3b56600a1f2e4a7e254e7a5c6cc1cf0c7ff94e1b7366ff"><div class="ttname"><a href="vlog_8h.html#ae62a3c55fc7e53df15a3b56600a1f2e4a7e254e7a5c6cc1cf0c7ff94e1b7366ff">VLF_ANY_DESTINATION</a></div><div class="ttdef"><b>Definition:</b> vlog.h:73</div></div>
<div class="ttc" id="command-line_8c_html_a87b9138d59cd1e2a59152cc0f843efeb"><div class="ttname"><a href="command-line_8c.html#a87b9138d59cd1e2a59152cc0f843efeb">ovs_cmdl_run_command</a></div><div class="ttdeci">void ovs_cmdl_run_command(struct ovs_cmdl_context *ctx, const struct ovs_cmdl_command commands[])</div><div class="ttdef"><b>Definition:</b> command-line.c:103</div></div>
<div class="ttc" id="structovs__cmdl__context_html_aadc790bc240e17aff1c90ab9a5a113bc"><div class="ttname"><a href="structovs__cmdl__context.html#aadc790bc240e17aff1c90ab9a5a113bc">ovs_cmdl_context::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> command-line.h:31</div></div>
<div class="ttc" id="structovs__cmdl__context_html"><div class="ttname"><a href="structovs__cmdl__context.html">ovs_cmdl_context</a></div><div class="ttdef"><b>Definition:</b> command-line.h:27</div></div>
<div class="ttc" id="timeval_8c_html_aea355781c327b2b5dc94cffef9adc2f2"><div class="ttname"><a href="timeval_8c.html#aea355781c327b2b5dc94cffef9adc2f2">time_alarm</a></div><div class="ttdeci">void time_alarm(unsigned int secs)</div><div class="ttdef"><b>Definition:</b> timeval.c:236</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7138a3cac4e99f56636da26e1c20ea46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structovs__cmdl__command.html">ovs_cmdl_command</a> commands[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<span class="stringliteral">&quot;refuse-connection&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#ae4de0f98859e3f4cdff949414f880758">test_refuse_connection</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;accept-then-close&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#a170106810ab37d5df55e8c153f4d5ad2">test_accept_then_close</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;read-hello&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#aac9ded4afa923966acc7c0ef3263dea9">test_read_hello</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;send-plain-hello&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#a279de45708f718e69c7ed594db136efa">test_send_plain_hello</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;send-long-hello&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#a61fb36383bccc3d1ac1d5646a93f042d">test_send_long_hello</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;send-echo-hello&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#a3c12b37045809c349291c3ea8558b27c">test_send_echo_hello</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;send-short-hello&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#a87aa485ecb2de9c65a6cc3a2d3c2fb03">test_send_short_hello</a>},</div>
<div class="line">    {<span class="stringliteral">&quot;send-invalid-version-hello&quot;</span>, NULL, 1, 1, <a class="code" href="test-vconn_8c.html#a95abb0e1db8e4971cfb25c9e0a7a1dbc">test_send_invalid_version_hello</a>},</div>
<div class="line">    {NULL, NULL, 0, 0, NULL},</div>
<div class="line">}</div>
<div class="ttc" id="test-vconn_8c_html_a87aa485ecb2de9c65a6cc3a2d3c2fb03"><div class="ttname"><a href="test-vconn_8c.html#a87aa485ecb2de9c65a6cc3a2d3c2fb03">test_send_short_hello</a></div><div class="ttdeci">static void test_send_short_hello(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:410</div></div>
<div class="ttc" id="test-vconn_8c_html_aac9ded4afa923966acc7c0ef3263dea9"><div class="ttname"><a href="test-vconn_8c.html#aac9ded4afa923966acc7c0ef3263dea9">test_read_hello</a></div><div class="ttdeci">static void test_read_hello(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:224</div></div>
<div class="ttc" id="test-vconn_8c_html_a95abb0e1db8e4971cfb25c9e0a7a1dbc"><div class="ttname"><a href="test-vconn_8c.html#a95abb0e1db8e4971cfb25c9e0a7a1dbc">test_send_invalid_version_hello</a></div><div class="ttdeci">static void test_send_invalid_version_hello(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:422</div></div>
<div class="ttc" id="test-vconn_8c_html_a170106810ab37d5df55e8c153f4d5ad2"><div class="ttname"><a href="test-vconn_8c.html#a170106810ab37d5df55e8c153f4d5ad2">test_accept_then_close</a></div><div class="ttdeci">static void test_accept_then_close(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:189</div></div>
<div class="ttc" id="test-vconn_8c_html_ae4de0f98859e3f4cdff949414f880758"><div class="ttname"><a href="test-vconn_8c.html#ae4de0f98859e3f4cdff949414f880758">test_refuse_connection</a></div><div class="ttdeci">static void test_refuse_connection(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:144</div></div>
<div class="ttc" id="test-vconn_8c_html_a3c12b37045809c349291c3ea8558b27c"><div class="ttname"><a href="test-vconn_8c.html#a3c12b37045809c349291c3ea8558b27c">test_send_echo_hello</a></div><div class="ttdeci">static void test_send_echo_hello(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:396</div></div>
<div class="ttc" id="test-vconn_8c_html_a279de45708f718e69c7ed594db136efa"><div class="ttname"><a href="test-vconn_8c.html#a279de45708f718e69c7ed594db136efa">test_send_plain_hello</a></div><div class="ttdeci">static void test_send_plain_hello(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:364</div></div>
<div class="ttc" id="test-vconn_8c_html_a61fb36383bccc3d1ac1d5646a93f042d"><div class="ttname"><a href="test-vconn_8c.html#a61fb36383bccc3d1ac1d5646a93f042d">test_send_long_hello</a></div><div class="ttdeci">static void test_send_long_hello(struct ovs_cmdl_context *ctx)</div><div class="ttdef"><b>Definition:</b> test-vconn.c:379</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_fb27d2c2f453b69e0849224745a694f5.html">tests</a></li><li class="navelem"><a class="el" href="test-vconn_8c.html">test-vconn.c</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:08:03 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
