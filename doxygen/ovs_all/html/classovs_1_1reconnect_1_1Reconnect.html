<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: ovs.reconnect.Reconnect Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classovs_1_1reconnect_1_1Reconnect.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ovs.reconnect.Reconnect Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ovs.reconnect.Reconnect:</div>
<div class="dyncontent">
<div class="center"><img src="classovs_1_1reconnect_1_1Reconnect__inherit__graph.png" border="0" usemap="#ovs_8reconnect_8Reconnect_inherit__map" alt="Inheritance graph"/></div>
<map name="ovs_8reconnect_8Reconnect_inherit__map" id="ovs_8reconnect_8Reconnect_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ovs.reconnect.Reconnect:</div>
<div class="dyncontent">
<div class="center"><img src="classovs_1_1reconnect_1_1Reconnect__coll__graph.png" border="0" usemap="#ovs_8reconnect_8Reconnect_coll__map" alt="Collaboration graph"/></div>
<map name="ovs_8reconnect_8Reconnect_coll__map" id="ovs_8reconnect_8Reconnect_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1Active.html">Active</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1Backoff.html">Backoff</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1ConnectInProgress.html">ConnectInProgress</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1Idle.html">Idle</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1Listening.html">Listening</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1Reconnect.html">Reconnect</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect_1_1Void.html">Void</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d94888b27d905a24fcf2f92002fe70c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a4d94888b27d905a24fcf2f92002fe70c">__init__</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a4d94888b27d905a24fcf2f92002fe70c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbce31c2e8be207335f87f102449a954"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#adbce31c2e8be207335f87f102449a954">set_quiet</a> (self, quiet)</td></tr>
<tr class="separator:adbce31c2e8be207335f87f102449a954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e18623a76ae9196d268a06322e65a5a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a8e18623a76ae9196d268a06322e65a5a">get_name</a> (self)</td></tr>
<tr class="separator:a8e18623a76ae9196d268a06322e65a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0cb88936de1cc0cedad7208c028ff6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a7e0cb88936de1cc0cedad7208c028ff6">set_name</a> (self, <a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a5a7eb65f31deb16874b34d6b2680fe60">name</a>)</td></tr>
<tr class="separator:a7e0cb88936de1cc0cedad7208c028ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251d812c0ff416b357cb8b03cb4d77a5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a251d812c0ff416b357cb8b03cb4d77a5">get_min_backoff</a> (self)</td></tr>
<tr class="separator:a251d812c0ff416b357cb8b03cb4d77a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c6d77c08c7d6b9d92af50b9f7d46b1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a37c6d77c08c7d6b9d92af50b9f7d46b1">get_max_backoff</a> (self)</td></tr>
<tr class="separator:a37c6d77c08c7d6b9d92af50b9f7d46b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d1305972264a103d1e706bb9a9fd1c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#aa2d1305972264a103d1e706bb9a9fd1c">get_probe_interval</a> (self)</td></tr>
<tr class="separator:aa2d1305972264a103d1e706bb9a9fd1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae096f2254cbec78371357c454d4b1465"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ae096f2254cbec78371357c454d4b1465">set_max_tries</a> (self, <a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a4389544ef10169908e0aced4b0eab14a">max_tries</a>)</td></tr>
<tr class="separator:ae096f2254cbec78371357c454d4b1465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651cd9f107d42d07b9586ab91def0d7f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a651cd9f107d42d07b9586ab91def0d7f">get_max_tries</a> (self)</td></tr>
<tr class="separator:a651cd9f107d42d07b9586ab91def0d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac057e7fa8f53a50ad703b15d70a5087"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#aac057e7fa8f53a50ad703b15d70a5087">set_backoff</a> (self, <a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a80e94030c5b362576cd10e9dd3d7ca25">min_backoff</a>, <a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a911c0b1a6b12378d340fca6d4c29870d">max_backoff</a>)</td></tr>
<tr class="separator:aac057e7fa8f53a50ad703b15d70a5087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7ecb0a11ded821ae68d2fd62674b5d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a9d7ecb0a11ded821ae68d2fd62674b5d">set_probe_interval</a> (self, <a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ad2e68aabc3c220a81d093132d428a67c">probe_interval</a>)</td></tr>
<tr class="separator:a9d7ecb0a11ded821ae68d2fd62674b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03da1be9cf0ef79a7e806f11bba5927e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a03da1be9cf0ef79a7e806f11bba5927e">is_passive</a> (self)</td></tr>
<tr class="separator:a03da1be9cf0ef79a7e806f11bba5927e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee658c8c3c2746277174cc35d7abd89"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#adee658c8c3c2746277174cc35d7abd89">set_passive</a> (self, <a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a5b78456641ab41998fa805c01e484037">passive</a>, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:adee658c8c3c2746277174cc35d7abd89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc9c6abda3f84ed54035a9fa1c5047a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a0dc9c6abda3f84ed54035a9fa1c5047a">is_enabled</a> (self)</td></tr>
<tr class="separator:a0dc9c6abda3f84ed54035a9fa1c5047a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8891feae6f85c22258ebaa3055f579e3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a8891feae6f85c22258ebaa3055f579e3">enable</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a8891feae6f85c22258ebaa3055f579e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b57eb85630dfb5b982b070f8be43cc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a88b57eb85630dfb5b982b070f8be43cc">disable</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a88b57eb85630dfb5b982b070f8be43cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6502792167f0571a2c01b4a9b131737e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a6502792167f0571a2c01b4a9b131737e">force_reconnect</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a6502792167f0571a2c01b4a9b131737e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb42449438c53c1642c80c6d9744aec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#accb42449438c53c1642c80c6d9744aec">disconnected</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, <a class="el" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>)</td></tr>
<tr class="separator:accb42449438c53c1642c80c6d9744aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7f21713ca56241c1d168c78e4e303c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a3a7f21713ca56241c1d168c78e4e303c">connecting</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a3a7f21713ca56241c1d168c78e4e303c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d17515f9382f06b1f234a408b5f0194"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a3d17515f9382f06b1f234a408b5f0194">listening</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a3d17515f9382f06b1f234a408b5f0194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7de52c637e5c3583339f494ef862df"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a8c7de52c637e5c3583339f494ef862df">listen_error</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, <a class="el" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>)</td></tr>
<tr class="separator:a8c7de52c637e5c3583339f494ef862df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27eaef53d24c112c2fae25ebf6fd360f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a27eaef53d24c112c2fae25ebf6fd360f">connected</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a27eaef53d24c112c2fae25ebf6fd360f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bdb81978ca8c2f530777d8d72a54939"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a5bdb81978ca8c2f530777d8d72a54939">connect_failed</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, <a class="el" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>)</td></tr>
<tr class="separator:a5bdb81978ca8c2f530777d8d72a54939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29843c5a8ffd2b2b84dd5785aa771001"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a29843c5a8ffd2b2b84dd5785aa771001">activity</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a29843c5a8ffd2b2b84dd5785aa771001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c765f5f0388d13dc25fd44d57e6fc9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#aa0c765f5f0388d13dc25fd44d57e6fc9">run</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:aa0c765f5f0388d13dc25fd44d57e6fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90813d967c681f75380d03fab8c2d24e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a90813d967c681f75380d03fab8c2d24e">wait</a> (self, poller, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:a90813d967c681f75380d03fab8c2d24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae462a6826194b21feaab186cd883c9ae"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ae462a6826194b21feaab186cd883c9ae">timeout</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:ae462a6826194b21feaab186cd883c9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90c23bd78eb8642cf015a46751354230"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a90c23bd78eb8642cf015a46751354230">is_connected</a> (self)</td></tr>
<tr class="separator:a90c23bd78eb8642cf015a46751354230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae757e1358472d5d75b20dd1d22eed43d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ae757e1358472d5d75b20dd1d22eed43d">get_last_connect_elapsed</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:ae757e1358472d5d75b20dd1d22eed43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d5fcf45e2fb133a4ec3d6ffc851c64"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ae7d5fcf45e2fb133a4ec3d6ffc851c64">get_last_disconnect_elapsed</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:ae7d5fcf45e2fb133a4ec3d6ffc851c64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad170945d6ddb58ac8e4eac64239e926"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#aad170945d6ddb58ac8e4eac64239e926">get_stats</a> (self, <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>)</td></tr>
<tr class="separator:aad170945d6ddb58ac8e4eac64239e926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5a7eb65f31deb16874b34d6b2680fe60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a5a7eb65f31deb16874b34d6b2680fe60">name</a></td></tr>
<tr class="separator:a5a7eb65f31deb16874b34d6b2680fe60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e94030c5b362576cd10e9dd3d7ca25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a80e94030c5b362576cd10e9dd3d7ca25">min_backoff</a></td></tr>
<tr class="separator:a80e94030c5b362576cd10e9dd3d7ca25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911c0b1a6b12378d340fca6d4c29870d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a911c0b1a6b12378d340fca6d4c29870d">max_backoff</a></td></tr>
<tr class="separator:a911c0b1a6b12378d340fca6d4c29870d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e68aabc3c220a81d093132d428a67c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ad2e68aabc3c220a81d093132d428a67c">probe_interval</a></td></tr>
<tr class="separator:ad2e68aabc3c220a81d093132d428a67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b78456641ab41998fa805c01e484037"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a5b78456641ab41998fa805c01e484037">passive</a></td></tr>
<tr class="separator:a5b78456641ab41998fa805c01e484037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2ce90f3a24b758ee2986644b4d4d5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a7c2ce90f3a24b758ee2986644b4d4d5e">info_level</a></td></tr>
<tr class="separator:a7c2ce90f3a24b758ee2986644b4d4d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20dd605523a003047bd909ba9285053d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a20dd605523a003047bd909ba9285053d">state</a></td></tr>
<tr class="separator:a20dd605523a003047bd909ba9285053d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818b15117641e8b61b70c08bc25afb8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a818b15117641e8b61b70c08bc25afb8e">state_entered</a></td></tr>
<tr class="separator:a818b15117641e8b61b70c08bc25afb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f46235aec86b37e06a302ae5d0d865"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a79f46235aec86b37e06a302ae5d0d865">backoff</a></td></tr>
<tr class="separator:a79f46235aec86b37e06a302ae5d0d865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7742aa33e6efe90e43d7eab4895893e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#af7742aa33e6efe90e43d7eab4895893e">last_activity</a></td></tr>
<tr class="separator:af7742aa33e6efe90e43d7eab4895893e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade88bcda12615c26b8efc472976c2fa5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ade88bcda12615c26b8efc472976c2fa5">last_connected</a></td></tr>
<tr class="separator:ade88bcda12615c26b8efc472976c2fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff137abdeff4c2769c5a36fd654c506a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#aff137abdeff4c2769c5a36fd654c506a">last_disconnected</a></td></tr>
<tr class="separator:aff137abdeff4c2769c5a36fd654c506a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4389544ef10169908e0aced4b0eab14a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a4389544ef10169908e0aced4b0eab14a">max_tries</a></td></tr>
<tr class="separator:a4389544ef10169908e0aced4b0eab14a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3940c3c5e0ca33349bc418b8d0d0d4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ad3940c3c5e0ca33349bc418b8d0d0d4d">creation_time</a></td></tr>
<tr class="separator:ad3940c3c5e0ca33349bc418b8d0d0d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144019a9cbbc48aef8772d8a874bcd9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a144019a9cbbc48aef8772d8a874bcd9e">n_attempted_connections</a></td></tr>
<tr class="separator:a144019a9cbbc48aef8772d8a874bcd9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2897c31f0778867e4ac48c7f86821cc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a2897c31f0778867e4ac48c7f86821cc6">n_successful_connections</a></td></tr>
<tr class="separator:a2897c31f0778867e4ac48c7f86821cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a6e1d72808d9cff62909cb0d4d95d5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#a0a6e1d72808d9cff62909cb0d4d95d5f">total_connected_duration</a></td></tr>
<tr class="separator:a0a6e1d72808d9cff62909cb0d4d95d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae877309807d22e3db313e3d690c1ab1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html#ae877309807d22e3db313e3d690c1ab1c">seqno</a></td></tr>
<tr class="separator:ae877309807d22e3db313e3d690c1ab1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A finite-state machine for connecting and reconnecting to a network
resource with exponential backoff.  It also provides optional support for
detecting a connection on which the peer is no longer responding.

The library does not implement anything networking related, only an FSM for
networking code to use.

Many Reconnect methods take a "now" argument.  This makes testing easier
since there is no hidden state.  When not testing, just pass the return
value of ovs.time.msec().  (Perhaps this design should be revisited
later.)</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4d94888b27d905a24fcf2f92002fe70c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates and returns a new reconnect FSM with default settings.  The
FSM is initially disabled.  The caller will likely want to call
self.enable() and self.set_name() on the returned object.</pre> <div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">def </span>__init__(self, now):</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Creates and returns a new reconnect FSM with default settings.  The</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="stringliteral">        FSM is initially disabled.  The caller will likely want to call</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="stringliteral">        self.enable() and self.set_name() on the returned object.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        self.name = <span class="stringliteral">&quot;void&quot;</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        self.min_backoff = 1000</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        self.max_backoff = 8000</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        self.probe_interval = 5000</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        self.passive = <span class="keyword">False</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        self.info_level = vlog.info</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        self.state = Reconnect.Void</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        self.state_entered = now</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        self.backoff = 0</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        self.last_activity = now</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        self.last_connected = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        self.last_disconnected = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        self.max_tries = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        self.creation_time = now</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        self.n_attempted_connections = 0</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        self.n_successful_connections = 0</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        self.total_connected_duration = 0</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        self.seqno = 0</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a29843c5a8ffd2b2b84dd5785aa771001"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.activity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that some activity occurred on the connection.  This
resets the probe interval timer, so that the connection is known not to
be idle.</pre> <div class="fragment"><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keyword">def </span>activity(self, now):</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that some activity occurred on the connection.  This</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="stringliteral">        resets the probe interval timer, so that the connection is known not to</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="stringliteral">        be idle.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> self.state != Reconnect.Active:</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            self._transition(now, Reconnect.Active)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        self.last_activity = now</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5bdb81978ca8c2f530777d8d72a54939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.connect_failed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that the connection attempt failed.

The FSM will back off and attempt to reconnect.</pre> <div class="fragment"><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keyword">def </span>connect_failed(self, now, error):</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that the connection attempt failed.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="stringliteral">        The FSM will back off and attempt to reconnect.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        self.connecting(now)</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        self.disconnected(now, error)</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27eaef53d24c112c2fae25ebf6fd360f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.connected </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that the connection was successful.

The FSM will start the probe interval timer, which is reset by
self.activity().  If the timer expires, a probe will be sent (by
returning ovs.reconnect.PROBE from self.run().  If the timer expires
again without being reset, the connection will be aborted (by returning
ovs.reconnect.DISCONNECT from self.run().</pre> <div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">def </span>connected(self, now):</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that the connection was successful.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="stringliteral">        The FSM will start the probe interval timer, which is reset by</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">        self.activity().  If the timer expires, a probe will be sent (by</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="stringliteral">        returning ovs.reconnect.PROBE from self.run().  If the timer expires</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="stringliteral">        again without being reset, the connection will be aborted (by returning</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">        ovs.reconnect.DISCONNECT from self.run().&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.state.is_connected:</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            self.connecting(now)</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            self.info_level(<span class="stringliteral">&quot;%s: connected&quot;</span> % self.name)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            self._transition(now, Reconnect.Active)</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            self.last_connected = now</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a7f21713ca56241c1d168c78e4e303c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.connecting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that a connection or listening attempt is in progress.

The FSM will start a timer, after which the connection or listening
attempt will be aborted (by returning ovs.reconnect.DISCONNECT from
self.run()).</pre> <div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keyword">def </span>connecting(self, now):</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that a connection or listening attempt is in progress.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="stringliteral">        The FSM will start a timer, after which the connection or listening</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="stringliteral">        attempt will be aborted (by returning ovs.reconnect.DISCONNECT from</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="stringliteral">        self.run()).&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> self.state != Reconnect.ConnectInProgress:</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">if</span> self.passive:</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                self.info_level(<span class="stringliteral">&quot;%s: listening...&quot;</span> % self.name)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                self.info_level(<span class="stringliteral">&quot;%s: connecting...&quot;</span> % self.name)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            self._transition(now, Reconnect.ConnectInProgress)</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a88b57eb85630dfb5b982b070f8be43cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.disable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Disables this FSM.  Until 'fsm' is enabled again, self.run() will
always return 0.</pre> <div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">def </span>disable(self, now):</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Disables this FSM.  Until &#39;fsm&#39; is enabled again, self.run() will</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="stringliteral">        always return 0.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> self.state != Reconnect.Void:</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            self._transition(now, Reconnect.Void)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="accb42449438c53c1642c80c6d9744aec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.disconnected </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that the connection dropped or that a connection
attempt failed.  'error' specifies the reason: a positive value
represents an errno value, EOF indicates that the connection was closed
by the peer (e.g. read() returned 0), and 0 indicates no specific
error.

The FSM will back off, then reconnect.</pre> <div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">def </span>disconnected(self, now, error):</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that the connection dropped or that a connection</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="stringliteral">        attempt failed.  &#39;error&#39; specifies the reason: a positive value</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="stringliteral">        represents an errno value, EOF indicates that the connection was closed</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="stringliteral">        by the peer (e.g. read() returned 0), and 0 indicates no specific</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="stringliteral">        error.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="stringliteral">        The FSM will back off, then reconnect.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">if</span> self.state <span class="keywordflow">not</span> <span class="keywordflow">in</span> (Reconnect.Backoff, Reconnect.Void):</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="comment"># Report what happened</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">if</span> self.state <span class="keywordflow">in</span> (Reconnect.Active, Reconnect.Idle):</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="keywordflow">if</span> error &gt; 0:</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    vlog.warn(<span class="stringliteral">&quot;%s: connection dropped (%s)&quot;</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                              % (self.name, os.strerror(error)))</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">elif</span> error == EOF:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    self.info_level(<span class="stringliteral">&quot;%s: connection closed by peer&quot;</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                                    % self.name)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    self.info_level(<span class="stringliteral">&quot;%s: connection dropped&quot;</span> % self.name)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <span class="keywordflow">elif</span> self.state == Reconnect.Listening:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                <span class="keywordflow">if</span> error &gt; 0:</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    vlog.warn(<span class="stringliteral">&quot;%s: error listening for connections (%s)&quot;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                              % (self.name, os.strerror(error)))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                    self.info_level(<span class="stringliteral">&quot;%s: error listening for connections&quot;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                    % self.name)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keywordflow">if</span> self.passive:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                    type_ = <span class="stringliteral">&quot;listen&quot;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                    type_ = <span class="stringliteral">&quot;connection&quot;</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="keywordflow">if</span> error &gt; 0:</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                    vlog.warn(<span class="stringliteral">&quot;%s: %s attempt failed (%s)&quot;</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                              % (self.name, type_, os.strerror(error)))</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                    self.info_level(<span class="stringliteral">&quot;%s: %s attempt timed out&quot;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                    % (self.name, type_))</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <span class="keywordflow">if</span> (self.state <span class="keywordflow">in</span> (Reconnect.Active, Reconnect.Idle)):</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                self.last_disconnected = now</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="comment"># Back off</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span> (self.state <span class="keywordflow">in</span> (Reconnect.Active, Reconnect.Idle) <span class="keywordflow">and</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                (self.last_activity - self.last_connected &gt;= self.backoff <span class="keywordflow">or</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                 self.passive)):</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="keywordflow">if</span> self.passive:</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                    self.backoff = 0</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                    self.backoff = self.min_backoff</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">if</span> self.backoff &lt; self.min_backoff:</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                    self.backoff = self.min_backoff</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">elif</span> self.backoff &gt;= self.max_backoff / 2:</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    self.backoff = self.max_backoff</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                    self.backoff *= 2</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <span class="keywordflow">if</span> self.passive:</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                    self.info_level(<span class="stringliteral">&quot;%s: waiting %.3g seconds before trying &quot;</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                    <span class="stringliteral">&quot;to listen again&quot;</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                    % (self.name, self.backoff / 1000.0))</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                    self.info_level(<span class="stringliteral">&quot;%s: waiting %.3g seconds before reconnect&quot;</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                    % (self.name, self.backoff / 1000.0))</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> self.__may_retry():</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                self._transition(now, Reconnect.Backoff)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                self._transition(now, Reconnect.Void)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8891feae6f85c22258ebaa3055f579e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.enable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If this FSM is disabled (the default for newly created FSMs),
enables it, so that the next call to reconnect_run() for 'fsm' will
return ovs.reconnect.CONNECT.

If this FSM is not disabled, this function has no effect.</pre> <div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">def </span>enable(self, now):</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;If this FSM is disabled (the default for newly created FSMs),</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="stringliteral">        enables it, so that the next call to reconnect_run() for &#39;fsm&#39; will</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="stringliteral">        return ovs.reconnect.CONNECT.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="stringliteral">        If this FSM is not disabled, this function has no effect.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> self.state == Reconnect.Void <span class="keywordflow">and</span> self.__may_retry():</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            self._transition(now, Reconnect.Backoff)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            self.backoff = 0</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6502792167f0571a2c01b4a9b131737e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.force_reconnect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If this FSM is enabled and currently connected (or attempting to
connect), forces self.run() to return ovs.reconnect.DISCONNECT the next
time it is called, which should cause the client to drop the connection
(or attempt), back off, and then reconnect.</pre> <div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keyword">def </span>force_reconnect(self, now):</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;If this FSM is enabled and currently connected (or attempting to</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral">        connect), forces self.run() to return ovs.reconnect.DISCONNECT the next</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="stringliteral">        time it is called, which should cause the client to drop the connection</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="stringliteral">        (or attempt), back off, and then reconnect.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">if</span> self.state <span class="keywordflow">in</span> (Reconnect.ConnectInProgress,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                          Reconnect.Active,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                          Reconnect.Idle):</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            self._transition(now, Reconnect.Reconnect)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae757e1358472d5d75b20dd1d22eed43d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_last_connect_elapsed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the number of milliseconds since 'fsm' was last connected
to its peer. Returns None if never connected.</pre> <div class="fragment"><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keyword">def </span>get_last_connect_elapsed(self, now):</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns the number of milliseconds since &#39;fsm&#39; was last connected</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="stringliteral">        to its peer. Returns None if never connected.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">if</span> self.last_connected:</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">return</span> now - self.last_connected</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7d5fcf45e2fb133a4ec3d6ffc851c64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_last_disconnect_elapsed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the number of milliseconds since 'fsm' was last disconnected
from its peer. Returns None if never disconnected.</pre> <div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keyword">def </span>get_last_disconnect_elapsed(self, now):</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns the number of milliseconds since &#39;fsm&#39; was last disconnected</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="stringliteral">        from its peer. Returns None if never disconnected.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">if</span> self.last_disconnected:</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            <span class="keywordflow">return</span> now - self.last_disconnected</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a37c6d77c08c7d6b9d92af50b9f7d46b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_max_backoff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the maximum number of milliseconds to back off between
consecutive connection attempts.  The default is 8000 ms.</pre> <div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keyword">def </span>get_max_backoff(self):</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Return the maximum number of milliseconds to back off between</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="stringliteral">        consecutive connection attempts.  The default is 8000 ms.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">return</span> self.max_backoff</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a651cd9f107d42d07b9586ab91def0d7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_max_tries </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the current remaining number of connection attempts,
None if the number is unlimited.</pre> <div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">def </span>get_max_tries(self):</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns the current remaining number of connection attempts,</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="stringliteral">        None if the number is unlimited.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span> self.max_tries</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a251d812c0ff416b357cb8b03cb4d77a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_min_backoff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the minimum number of milliseconds to back off between
consecutive connection attempts.  The default is 1000 ms.</pre> <div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">def </span>get_min_backoff(self):</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Return the minimum number of milliseconds to back off between</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral">        consecutive connection attempts.  The default is 1000 ms.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">return</span> self.min_backoff</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e18623a76ae9196d268a06322e65a5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">def </span>get_name(self):</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> self.name</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa2d1305972264a103d1e706bb9a9fd1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_probe_interval </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the "probe interval" in milliseconds.  If this is zero, it
disables the connection keepalive feature.  If it is nonzero, then if
the interval passes while the FSM is connected and without
self.activity() being called, self.run() returns ovs.reconnect.PROBE.
If the interval passes again without self.activity() being called,
self.run() returns ovs.reconnect.DISCONNECT.</pre> <div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">def </span>get_probe_interval(self):</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns the &quot;probe interval&quot; in milliseconds.  If this is zero, it</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="stringliteral">        disables the connection keepalive feature.  If it is nonzero, then if</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="stringliteral">        the interval passes while the FSM is connected and without</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="stringliteral">        self.activity() being called, self.run() returns ovs.reconnect.PROBE.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="stringliteral">        If the interval passes again without self.activity() being called,</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="stringliteral">        self.run() returns ovs.reconnect.DISCONNECT.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">return</span> self.probe_interval</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aad170945d6ddb58ac8e4eac64239e926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.get_stats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keyword">def </span><a class="code" href="netdev-vport_8c.html#a19a7ce3a0e0ac28c196fb5c8564c20eb">get_stats</a>(self, now):</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keyword">class </span>Stats(object):</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        stats = Stats()</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        stats.creation_time = self.creation_time</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        stats.last_connected = self.last_connected</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        stats.last_disconnected = self.last_disconnected</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        stats.last_activity = self.last_activity</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        stats.backoff = self.backoff</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        stats.seqno = self.seqno</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        stats.is_connected = self.is_connected()</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        stats.msec_since_connect = self.get_last_connect_elapsed(now)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        stats.msec_since_disconnect = self.get_last_disconnect_elapsed(now)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        stats.total_connected_duration = self.total_connected_duration</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> self.is_connected():</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            stats.total_connected_duration += (</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    self.get_last_connect_elapsed(now))</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        stats.n_attempted_connections = self.n_attempted_connections</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        stats.n_successful_connections = self.n_successful_connections</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        stats.state = self.state.name</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        stats.state_elapsed = now - self.state_entered</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">return</span> stats</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="ttc" id="netdev-vport_8c_html_a19a7ce3a0e0ac28c196fb5c8564c20eb"><div class="ttname"><a href="netdev-vport_8c.html#a19a7ce3a0e0ac28c196fb5c8564c20eb">get_stats</a></div><div class="ttdeci">static int get_stats(const struct netdev *netdev, struct netdev_stats *stats)</div><div class="ttdef"><b>Definition:</b> netdev-vport.c:816</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90c23bd78eb8642cf015a46751354230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.is_connected </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns True if this FSM is currently believed to be connected, that
is, if self.connected() was called more recently than any call to
self.connect_failed() or self.disconnected() or self.disable(), and
False otherwise.</pre> <div class="fragment"><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keyword">def </span>is_connected(self):</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns True if this FSM is currently believed to be connected, that</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral">        is, if self.connected() was called more recently than any call to</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="stringliteral">        self.connect_failed() or self.disconnected() or self.disable(), and</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="stringliteral">        False otherwise.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">return</span> self.state.is_connected</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0dc9c6abda3f84ed54035a9fa1c5047a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.is_enabled </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns true if this FSM has been enabled with self.enable().
Calling another function that indicates a change in connection state,
such as self.disconnected() or self.force_reconnect(), will also enable
a reconnect FSM.</pre> <div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keyword">def </span>is_enabled(self):</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns true if this FSM has been enabled with self.enable().</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="stringliteral">        Calling another function that indicates a change in connection state,</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="stringliteral">        such as self.disconnected() or self.force_reconnect(), will also enable</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="stringliteral">        a reconnect FSM.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">return</span> self.state != Reconnect.Void</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a03da1be9cf0ef79a7e806f11bba5927e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.is_passive </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns true if 'fsm' is in passive mode, false if 'fsm' is in
active mode (the default).</pre> <div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keyword">def </span>is_passive(self):</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns true if &#39;fsm&#39; is in passive mode, false if &#39;fsm&#39; is in</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">        active mode (the default).&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> self.passive</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c7de52c637e5c3583339f494ef862df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.listen_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that the client's attempt to accept a connection
failed (e.g. accept() returned an unexpected error such as ENOMEM).

If the FSM is currently listening (self.listening() was called), it
will back off and eventually return ovs.reconnect.CONNECT from
self.run() to tell the client to try listening again.  If there is an
active connection, this will be delayed until that connection drops.</pre> <div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keyword">def </span>listen_error(self, now, error):</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that the client&#39;s attempt to accept a connection</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="stringliteral">        failed (e.g. accept() returned an unexpected error such as ENOMEM).</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="stringliteral">        If the FSM is currently listening (self.listening() was called), it</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="stringliteral">        will back off and eventually return ovs.reconnect.CONNECT from</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="stringliteral">        self.run() to tell the client to try listening again.  If there is an</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral">        active connection, this will be delayed until that connection drops.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">if</span> self.state == Reconnect.Listening:</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            self.disconnected(now, error)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d17515f9382f06b1f234a408b5f0194"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.listening </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tell this FSM that the client is listening for connection attempts.
This state last indefinitely until the client reports some change.

The natural progression from this state is for the client to report
that a connection has been accepted or is in progress of being
accepted, by calling self.connecting() or self.connected().

The client may also report that listening failed (e.g. accept()
returned an unexpected error such as ENOMEM) by calling
self.listen_error(), in which case the FSM will back off and eventually
return ovs.reconnect.CONNECT from self.run() to tell the client to try
listening again.</pre> <div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keyword">def </span>listening(self, now):</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Tell this FSM that the client is listening for connection attempts.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="stringliteral">        This state last indefinitely until the client reports some change.</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="stringliteral">        The natural progression from this state is for the client to report</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="stringliteral">        that a connection has been accepted or is in progress of being</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="stringliteral">        accepted, by calling self.connecting() or self.connected().</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="stringliteral">        The client may also report that listening failed (e.g. accept()</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="stringliteral">        returned an unexpected error such as ENOMEM) by calling</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="stringliteral">        self.listen_error(), in which case the FSM will back off and eventually</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="stringliteral">        return ovs.reconnect.CONNECT from self.run() to tell the client to try</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral">        listening again.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> self.state != Reconnect.Listening:</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            self.info_level(<span class="stringliteral">&quot;%s: listening...&quot;</span> % self.name)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            self._transition(now, Reconnect.Listening)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa0c765f5f0388d13dc25fd44d57e6fc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Assesses whether any action should be taken on this FSM.  The return
value is one of:

    - None: The client need not take any action.

    - Active client, ovs.reconnect.CONNECT: The client should start a
      connection attempt and indicate this by calling
      self.connecting().  If the connection attempt has definitely
      succeeded, it should call self.connected().  If the connection
      attempt has definitely failed, it should call
      self.connect_failed().

      The FSM is smart enough to back off correctly after successful
      connections that quickly abort, so it is OK to call
      self.connected() after a low-level successful connection
      (e.g. connect()) even if the connection might soon abort due to a
      failure at a high-level (e.g. SSL negotiation failure).

    - Passive client, ovs.reconnect.CONNECT: The client should try to
      listen for a connection, if it is not already listening.  It
      should call self.listening() if successful, otherwise
      self.connecting() or reconnected_connect_failed() if the attempt
      is in progress or definitely failed, respectively.

      A listening passive client should constantly attempt to accept a
      new connection and report an accepted connection with
      self.connected().

    - ovs.reconnect.DISCONNECT: The client should abort the current
      connection or connection attempt or listen attempt and call
      self.disconnected() or self.connect_failed() to indicate it.

    - ovs.reconnect.PROBE: The client should send some kind of request
      to the peer that will elicit a response, to ensure that the
      connection is indeed in working order.  (This will only be
      returned if the "probe interval" is nonzero--see
      self.set_probe_interval()).</pre> <div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">def </span><a class="code" href="ofproto-dpif_8c.html#afaed635f366664abdd16801ce411de0f">run</a>(self, now):</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Assesses whether any action should be taken on this FSM.  The return</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="stringliteral">        value is one of:</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="stringliteral">            - None: The client need not take any action.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="stringliteral">            - Active client, ovs.reconnect.CONNECT: The client should start a</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="stringliteral">              connection attempt and indicate this by calling</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="stringliteral">              self.connecting().  If the connection attempt has definitely</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="stringliteral">              succeeded, it should call self.connected().  If the connection</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="stringliteral">              attempt has definitely failed, it should call</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="stringliteral">              self.connect_failed().</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="stringliteral">              The FSM is smart enough to back off correctly after successful</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="stringliteral">              connections that quickly abort, so it is OK to call</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="stringliteral">              self.connected() after a low-level successful connection</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="stringliteral">              (e.g. connect()) even if the connection might soon abort due to a</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="stringliteral">              failure at a high-level (e.g. SSL negotiation failure).</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="stringliteral">            - Passive client, ovs.reconnect.CONNECT: The client should try to</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="stringliteral">              listen for a connection, if it is not already listening.  It</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="stringliteral">              should call self.listening() if successful, otherwise</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="stringliteral">              self.connecting() or reconnected_connect_failed() if the attempt</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="stringliteral">              is in progress or definitely failed, respectively.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="stringliteral">              A listening passive client should constantly attempt to accept a</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="stringliteral">              new connection and report an accepted connection with</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="stringliteral">              self.connected().</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="stringliteral">            - ovs.reconnect.DISCONNECT: The client should abort the current</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="stringliteral">              connection or connection attempt or listen attempt and call</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="stringliteral">              self.disconnected() or self.connect_failed() to indicate it.</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="stringliteral">            - ovs.reconnect.PROBE: The client should send some kind of request</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="stringliteral">              to the peer that will elicit a response, to ensure that the</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="stringliteral">              connection is indeed in working order.  (This will only be</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="stringliteral">              returned if the &quot;probe interval&quot; is nonzero--see</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="stringliteral">              self.set_probe_interval()).&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        deadline = self.state.deadline(self)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">if</span> deadline <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> now &gt;= deadline:</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">return</span> self.state.run(self, now)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="ttc" id="ofproto-dpif_8c_html_afaed635f366664abdd16801ce411de0f"><div class="ttname"><a href="ofproto-dpif_8c.html#afaed635f366664abdd16801ce411de0f">run</a></div><div class="ttdeci">static int run(struct ofproto *ofproto_)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:1448</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac057e7fa8f53a50ad703b15d70a5087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.set_backoff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_backoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_backoff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configures the backoff parameters for this FSM.  'min_backoff' is
the minimum number of milliseconds, and 'max_backoff' is the maximum,
between connection attempts.

'min_backoff' must be at least 1000, and 'max_backoff' must be greater
than or equal to 'min_backoff'.</pre> <div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">def </span>set_backoff(self, min_backoff, max_backoff):</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Configures the backoff parameters for this FSM.  &#39;min_backoff&#39; is</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="stringliteral">        the minimum number of milliseconds, and &#39;max_backoff&#39; is the maximum,</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="stringliteral">        between connection attempts.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="stringliteral">        &#39;min_backoff&#39; must be at least 1000, and &#39;max_backoff&#39; must be greater</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="stringliteral">        than or equal to &#39;min_backoff&#39;.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        self.min_backoff = max(min_backoff, 1000)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">if</span> self.max_backoff:</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            self.max_backoff = max(max_backoff, 1000)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            self.max_backoff = 8000</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">if</span> self.min_backoff &gt; self.max_backoff:</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            self.max_backoff = self.min_backoff</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> (self.state == Reconnect.Backoff <span class="keywordflow">and</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            self.backoff &gt; self.max_backoff):</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                self.backoff = self.max_backoff</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae096f2254cbec78371357c454d4b1465"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.set_max_tries </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_tries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Limits the maximum number of times that this object will ask the
client to try to reconnect to 'max_tries'.  None (the default) means an
unlimited number of tries.

After the number of tries has expired, the FSM will disable itself
instead of backing off and retrying.</pre> <div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">def </span>set_max_tries(self, max_tries):</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Limits the maximum number of times that this object will ask the</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="stringliteral">        client to try to reconnect to &#39;max_tries&#39;.  None (the default) means an</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="stringliteral">        unlimited number of tries.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral">        After the number of tries has expired, the FSM will disable itself</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral">        instead of backing off and retrying.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        self.max_tries = max_tries</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e0cb88936de1cc0cedad7208c028ff6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.set_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sets this object's name to 'name'.  If 'name' is None, then "void"
is used instead.

The name is used in log messages.</pre> <div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keyword">def </span>set_name(self, name):</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Sets this object&#39;s name to &#39;name&#39;.  If &#39;name&#39; is None, then &quot;void&quot;</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">        is used instead.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">        The name is used in log messages.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            self.name = <span class="stringliteral">&quot;void&quot;</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            self.name = name</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adee658c8c3c2746277174cc35d7abd89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.set_passive </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>passive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configures this FSM for active or passive mode.  In active mode (the
default), the FSM is attempting to connect to a remote host.  In
passive mode, the FSM is listening for connections from a remote
host.</pre> <div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">def </span>set_passive(self, passive, now):</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Configures this FSM for active or passive mode.  In active mode (the</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">        default), the FSM is attempting to connect to a remote host.  In</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="stringliteral">        passive mode, the FSM is listening for connections from a remote</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="stringliteral">        host.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> self.passive != passive:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            self.passive = passive</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">if</span> ((passive <span class="keywordflow">and</span> self.state <span class="keywordflow">in</span> (Reconnect.ConnectInProgress,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                            Reconnect.Reconnect)) <span class="keywordflow">or</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                (<span class="keywordflow">not</span> passive <span class="keywordflow">and</span> self.state == Reconnect.Listening</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                 <span class="keywordflow">and</span> self.__may_retry())):</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                self._transition(now, Reconnect.Backoff)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                self.backoff = 0</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9d7ecb0a11ded821ae68d2fd62674b5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.set_probe_interval </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>probe_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sets the "probe interval" to 'probe_interval', in milliseconds.  If
this is zero, it disables the connection keepalive feature.  If it is
nonzero, then if the interval passes while this FSM is connected and
without self.activity() being called, self.run() returns
ovs.reconnect.PROBE.  If the interval passes again without
self.activity() being called, self.run() returns
ovs.reconnect.DISCONNECT.

If 'probe_interval' is nonzero, then it will be forced to a value of at
least 1000 ms.</pre> <div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">def </span>set_probe_interval(self, probe_interval):</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Sets the &quot;probe interval&quot; to &#39;probe_interval&#39;, in milliseconds.  If</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="stringliteral">        this is zero, it disables the connection keepalive feature.  If it is</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="stringliteral">        nonzero, then if the interval passes while this FSM is connected and</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="stringliteral">        without self.activity() being called, self.run() returns</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="stringliteral">        ovs.reconnect.PROBE.  If the interval passes again without</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="stringliteral">        self.activity() being called, self.run() returns</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="stringliteral">        ovs.reconnect.DISCONNECT.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="stringliteral">        If &#39;probe_interval&#39; is nonzero, then it will be forced to a value of at</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">        least 1000 ms.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">if</span> probe_interval:</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            self.probe_interval = max(1000, probe_interval)</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            self.probe_interval = 0</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adbce31c2e8be207335f87f102449a954"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.set_quiet </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If 'quiet' is true, this object will log informational messages at
debug level, by default keeping them out of log files.  This is
appropriate if the connection is one that is expected to be
short-lived, so that the log messages are merely distracting.

If 'quiet' is false, this object logs informational messages at info
level.  This is the default.

This setting has no effect on the log level of debugging, warning, or
error messages.</pre> <div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">def </span>set_quiet(self, quiet):</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;If &#39;quiet&#39; is true, this object will log informational messages at</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="stringliteral">        debug level, by default keeping them out of log files.  This is</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="stringliteral">        appropriate if the connection is one that is expected to be</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="stringliteral">        short-lived, so that the log messages are merely distracting.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="stringliteral">        If &#39;quiet&#39; is false, this object logs informational messages at info</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="stringliteral">        level.  This is the default.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">        This setting has no effect on the log level of debugging, warning, or</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">        error messages.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">if</span> quiet:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            self.info_level = vlog.dbg</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            self.info_level = vlog.info</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae462a6826194b21feaab186cd883c9ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.timeout </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the number of milliseconds after which self.run() should be
called if nothing else notable happens in the meantime, or None if this
is currently unnecessary.</pre> <div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">def </span><a class="code" href="ovn-sbctl_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a>(self, now):</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Returns the number of milliseconds after which self.run() should be</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="stringliteral">        called if nothing else notable happens in the meantime, or None if this</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="stringliteral">        is currently unnecessary.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        deadline = self.state.deadline(self)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">if</span> deadline <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            remaining = deadline - now</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordflow">return</span> max(0, remaining)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="ttc" id="ovn-sbctl_8c_html_a493b57f443cc38b3d3df9c1e584d9d82"><div class="ttname"><a href="ovn-sbctl_8c.html#a493b57f443cc38b3d3df9c1e584d9d82">timeout</a></div><div class="ttdeci">static int timeout</div><div class="ttdef"><b>Definition:</b> ovn-sbctl.c:63</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90813d967c681f75380d03fab8c2d24e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.reconnect.Reconnect.wait </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>poller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>now</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Causes the next call to poller.block() to wake up when self.run()
should be called.</pre> <div class="fragment"><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keyword">def </span><a class="code" href="sparse_2sys_2wait_8h.html#a776dc7d230fb83c691a628894de424f0">wait</a>(self, poller, now):</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Causes the next call to poller.block() to wake up when self.run()</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="stringliteral">        should be called.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        timeout = self.timeout(now)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> timeout &gt;= 0:</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            poller.timer_wait(timeout)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="ttc" id="sparse_2sys_2wait_8h_html_a776dc7d230fb83c691a628894de424f0"><div class="ttname"><a href="sparse_2sys_2wait_8h.html#a776dc7d230fb83c691a628894de424f0">wait</a></div><div class="ttdeci">#define wait(a)</div><div class="ttdef"><b>Definition:</b> wait.h:27</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a79f46235aec86b37e06a302ae5d0d865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.backoff</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad3940c3c5e0ca33349bc418b8d0d0d4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.creation_time</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c2ce90f3a24b758ee2986644b4d4d5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.info_level</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af7742aa33e6efe90e43d7eab4895893e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.last_activity</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ade88bcda12615c26b8efc472976c2fa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.last_connected</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aff137abdeff4c2769c5a36fd654c506a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.last_disconnected</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a911c0b1a6b12378d340fca6d4c29870d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.max_backoff</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4389544ef10169908e0aced4b0eab14a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.max_tries</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a80e94030c5b362576cd10e9dd3d7ca25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.min_backoff</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a144019a9cbbc48aef8772d8a874bcd9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.n_attempted_connections</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2897c31f0778867e4ac48c7f86821cc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.n_successful_connections</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5a7eb65f31deb16874b34d6b2680fe60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5b78456641ab41998fa805c01e484037"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.passive</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2e68aabc3c220a81d093132d428a67c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.probe_interval</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae877309807d22e3db313e3d690c1ab1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.seqno</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a20dd605523a003047bd909ba9285053d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a818b15117641e8b61b70c08bc25afb8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.state_entered</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a6e1d72808d9cff62909cb0d4d95d5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ovs.reconnect.Reconnect.total_connected_duration</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vladn/git/ovs/python/ovs/<a class="el" href="reconnect_8py.html">reconnect.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceovs.html">ovs</a></li><li class="navelem"><a class="el" href="namespaceovs_1_1reconnect.html">reconnect</a></li><li class="navelem"><a class="el" href="classovs_1_1reconnect_1_1Reconnect.html">Reconnect</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:08:09 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
