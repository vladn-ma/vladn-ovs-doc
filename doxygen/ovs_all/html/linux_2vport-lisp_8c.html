<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/datapath/linux/vport-lisp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('linux_2vport-lisp_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">vport-lisp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/version.h&gt;</code><br />
<code>#include &lt;<a class="el" href="datapath_2linux_2compat_2include_2linux_2in_8h_source.html">linux/in.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="datapath_2linux_2compat_2include_2linux_2ip_8h_source.html">linux/ip.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_8h_source.html">linux/net.h</a>&gt;</code><br />
<code>#include &lt;linux/module.h&gt;</code><br />
<code>#include &lt;<a class="el" href="datapath_2linux_2compat_2include_2linux_2rculist_8h_source.html">linux/rculist.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="linux_2udp_8h_source.html">linux/udp.h</a>&gt;</code><br />
<code>#include &lt;net/icmp.h&gt;</code><br />
<code>#include &lt;net/ip.h&gt;</code><br />
<code>#include &lt;net/route.h&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2udp_8h_source.html">net/udp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="udp__tunnel_8h_source.html">net/udp_tunnel.h</a>&gt;</code><br />
<code>#include &lt;net/xfrm.h&gt;</code><br />
<code>#include &quot;<a class="el" href="datapath_8h_source.html">datapath.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gso_8h_source.html">gso.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vport_8h_source.html">vport.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vport-lisp.c:</div>
<div class="dyncontent">
<div class="center"><img src="linux_2vport-lisp_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2datapath_2linux_2vport-lisp_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2datapath_2linux_2vport-lisp_8c" id="_2home_2vladn_2git_2ovs_2datapath_2linux_2vport-lisp_8c">
<area shape="rect" id="node3" href="datapath_2linux_2compat_2include_2linux_2in_8h.html" title="linux/in.h" alt="" coords="2951,259,3025,285"/><area shape="rect" id="node5" href="datapath_2linux_2compat_2include_2linux_2ip_8h.html" title="linux/ip.h" alt="" coords="3076,184,3151,211"/><area shape="rect" id="node10" href="net_8h.html" title="linux/net.h" alt="" coords="2868,184,2951,211"/><area shape="rect" id="node11" href="datapath_2linux_2compat_2include_2linux_2rculist_8h.html" title="linux/rculist.h" alt="" coords="3127,109,3225,136"/><area shape="rect" id="node12" href="linux_2udp_8h.html" title="linux/udp.h" alt="" coords="3249,109,3335,136"/><area shape="rect" id="node16" href="net_2udp_8h.html" title="net/udp.h" alt="" coords="326,184,402,211"/><area shape="rect" id="node17" href="udp__tunnel_8h.html" title="net/udp_tunnel.h" alt="" coords="43,333,162,360"/><area shape="rect" id="node20" href="datapath_8h.html" title="datapath.h" alt="" coords="1560,109,1643,136"/><area shape="rect" id="node46" href="vport_8h.html" title="vport.h" alt="" coords="2310,259,2373,285"/><area shape="rect" id="node50" href="gso_8h.html" title="gso.h" alt="" coords="442,109,497,136"/><area shape="rect" id="node6" href="skbuff_8h.html" title="linux/skbuff.h" alt="" coords="2599,408,2699,435"/><area shape="rect" id="node18" href="kconfig_8h.html" title="linux/kconfig.h" alt="" coords="5,408,112,435"/><area shape="rect" id="node22" href="kernel_8h.html" title="linux/kernel.h" alt="" coords="659,333,757,360"/><area shape="rect" id="node25" href="netdevice_8h.html" title="linux/netdevice.h" alt="" coords="411,259,531,285"/><area shape="rect" id="node27" href="u64__stats__sync_8h.html" title="linux/u64_stats_sync.h" alt="" coords="478,333,634,360"/><area shape="rect" id="node29" href="compat_8h.html" title="compat.h" alt="" coords="2614,184,2690,211"/><area shape="rect" id="node32" href="datapath_2flow_8h.html" title="flow.h" alt="" coords="1445,259,1502,285"/><area shape="rect" id="node43" href="flow__table_8h.html" title="flow_table.h" alt="" coords="1615,184,1707,211"/><area shape="rect" id="node45" href="vlan_8h.html" title="vlan.h" alt="" coords="2259,333,2317,360"/><area shape="rect" id="node31" href="datapath_2linux_2compat_2include_2linux_2netlink_8h.html" title="linux/netlink.h" alt="" coords="2687,333,2790,360"/><area shape="rect" id="node34" href="openvswitch_8h.html" title="linux/openvswitch.h" alt="" coords="1859,333,1997,360"/><area shape="rect" id="node35" href="if__ether_8h.html" title="linux/if_ether.h" alt="" coords="1329,408,1436,435"/><area shape="rect" id="node37" href="rcupdate_8h.html" title="linux/rcupdate.h" alt="" coords="1148,333,1263,360"/><area shape="rect" id="node39" href="jiffies_8h.html" title="linux/jiffies.h" alt="" coords="833,333,927,360"/><area shape="rect" id="node41" href="flex__array_8h.html" title="linux/flex_array.h" alt="" coords="951,333,1073,360"/><area shape="rect" id="node44" href="ip__tunnels_8h.html" title="net/ip_tunnels.h" alt="" coords="816,408,931,435"/><area shape="rect" id="node48" href="datapath_2linux_2compat_2include_2linux_2list_8h.html" title="linux/list.h" alt="" coords="2530,333,2611,360"/><area shape="rect" id="node49" href="reciprocal__div_8h.html" title="linux/reciprocal_div.h" alt="" coords="2277,408,2421,435"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlisphdr.html">lisphdr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlisp__port.html">lisp_port</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432175729adc4f68dad362484b077981"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a432175729adc4f68dad362484b077981">LISP_HLEN</a>&#160;&#160;&#160;(sizeof(struct udphdr) + sizeof(struct <a class="el" href="structlisphdr.html">lisphdr</a>))</td></tr>
<tr class="separator:a432175729adc4f68dad362484b077981"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
: vport name.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp11b33af0c85e2c8a3c03b696f666e431"></a>struct <a class="el" href="structlisp__port.html">lisp_port</a> - Keeps track of open UDP ports : lisp UDP port no. : list element in . : The socket created for this port number. </p>
</td></tr>
<tr class="memitem:a758306cfbd9fe092cc094dbf165e5cf7"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvport__ops.html">vport_ops</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a></td></tr>
<tr class="separator:a758306cfbd9fe092cc094dbf165e5cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d3f5ee301d4ee3135ff6fdecaebbe5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a73d3f5ee301d4ee3135ff6fdecaebbe5">LIST_HEAD</a> (lisp_ports)</td></tr>
<tr class="separator:a73d3f5ee301d4ee3135ff6fdecaebbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f69fb0b9db12e9a324a9932011b302"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlisp__port.html">lisp_port</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:af8f69fb0b9db12e9a324a9932011b302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac170aebcefa72b3bccd6431da43de59d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlisp__port.html">lisp_port</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#ac170aebcefa72b3bccd6431da43de59d">lisp_find_port</a> (struct net *net, <a class="el" href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a> <a class="el" href="structport.html">port</a>)</td></tr>
<tr class="separator:ac170aebcefa72b3bccd6431da43de59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac717e897cb8473e6d34982cbfc5aeaaa"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlisphdr.html">lisphdr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#ac717e897cb8473e6d34982cbfc5aeaaa">lisp_hdr</a> (const struct sk_buff *skb)</td></tr>
<tr class="separator:ac717e897cb8473e6d34982cbfc5aeaaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e66c2b840ffa52ae39f24fc21c0eb5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#aa7e66c2b840ffa52ae39f24fc21c0eb5">tunnel_id_to_instance_id</a> (<a class="el" href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a> <a class="el" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a>, <a class="el" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a> *iid)</td></tr>
<tr class="separator:aa7e66c2b840ffa52ae39f24fc21c0eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af20b35bc9be7a0b1273028a96b99d06b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#af20b35bc9be7a0b1273028a96b99d06b">instance_id_to_tunnel_id</a> (<a class="el" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a> *iid)</td></tr>
<tr class="separator:af20b35bc9be7a0b1273028a96b99d06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106a25589649bc37c3905cb00fb59f62"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Types_8h.html#a9e6c91d77e24643b888dbd1a1a590054">u16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a106a25589649bc37c3905cb00fb59f62">get_src_port</a> (struct net *net, struct sk_buff *skb)</td></tr>
<tr class="separator:a106a25589649bc37c3905cb00fb59f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afacb726760b72b4d01c27f470d4b7a3a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#afacb726760b72b4d01c27f470d4b7a3a">lisp_build_header</a> (struct sk_buff *skb)</td></tr>
<tr class="separator:afacb726760b72b4d01c27f470d4b7a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad2c3b20aa9688a25d14456469ed17d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#afad2c3b20aa9688a25d14456469ed17d">lisp_rcv</a> (struct sock *sk, struct sk_buff *skb)</td></tr>
<tr class="separator:afad2c3b20aa9688a25d14456469ed17d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b2b04c344bf1a50d02d4084fabf482"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a91b2b04c344bf1a50d02d4084fabf482">lisp_socket_init</a> (struct <a class="el" href="structlisp__port.html">lisp_port</a> *<a class="el" href="structlisp__port.html">lisp_port</a>, struct net *net)</td></tr>
<tr class="separator:a91b2b04c344bf1a50d02d4084fabf482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54dce33d8291b4f7f816d882b13c3cc3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a54dce33d8291b4f7f816d882b13c3cc3">lisp_get_options</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb)</td></tr>
<tr class="separator:a54dce33d8291b4f7f816d882b13c3cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29757c9680cfc5547ff8b58fc9d39f57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a29757c9680cfc5547ff8b58fc9d39f57">lisp_tnl_destroy</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a29757c9680cfc5547ff8b58fc9d39f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf8548971b28354b0c5b67853008ebb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvport.html">vport</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#aeaf8548971b28354b0c5b67853008ebb">lisp_tnl_create</a> (const struct <a class="el" href="structvport__parms.html">vport_parms</a> *parms)</td></tr>
<tr class="separator:aeaf8548971b28354b0c5b67853008ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a50252974d93009f1c1204799ef7ba0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a3a50252974d93009f1c1204799ef7ba0">lisp_send</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb)</td></tr>
<tr class="separator:a3a50252974d93009f1c1204799ef7ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b17408cfe8b9c4999729e709eda60c8"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a9b17408cfe8b9c4999729e709eda60c8">lisp_get_name</a> (const struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a9b17408cfe8b9c4999729e709eda60c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f0b18b384c833b501a23e942fa2a07"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a38f0b18b384c833b501a23e942fa2a07">lisp_get_egress_tun_info</a> (struct <a class="el" href="structvport.html">vport</a> *<a class="el" href="structvport.html">vport</a>, struct sk_buff *skb, struct <a class="el" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *egress_tun_info)</td></tr>
<tr class="separator:a38f0b18b384c833b501a23e942fa2a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2796063074f5d672bb389e375b744a7f"><td class="memItemLeft" align="right" valign="top">static int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a2796063074f5d672bb389e375b744a7f">ovs_lisp_tnl_init</a> (void)</td></tr>
<tr class="separator:a2796063074f5d672bb389e375b744a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76ba8664a548e29a850c62273297c6d"><td class="memItemLeft" align="right" valign="top">static void __exit&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#ad76ba8664a548e29a850c62273297c6d">ovs_lisp_tnl_exit</a> (void)</td></tr>
<tr class="separator:ad76ba8664a548e29a850c62273297c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a5f96f1e47f7598c585bbf70bfe00f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a94a5f96f1e47f7598c585bbf70bfe00f">module_init</a> (<a class="el" href="vport-lisp_8c.html#a2796063074f5d672bb389e375b744a7f">ovs_lisp_tnl_init</a>)</td></tr>
<tr class="separator:a94a5f96f1e47f7598c585bbf70bfe00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ead3dc5abdbbff6d567af19f9eec979"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a4ead3dc5abdbbff6d567af19f9eec979">module_exit</a> (<a class="el" href="vport-lisp_8c.html#ad76ba8664a548e29a850c62273297c6d">ovs_lisp_tnl_exit</a>)</td></tr>
<tr class="separator:a4ead3dc5abdbbff6d567af19f9eec979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7521a419702060baceb5ba5fc1ec8c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#aa7521a419702060baceb5ba5fc1ec8c7">MODULE_DESCRIPTION</a> (&quot;OVS: LISP switching <a class="el" href="structport.html">port</a>&quot;)</td></tr>
<tr class="separator:aa7521a419702060baceb5ba5fc1ec8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94b36675e7eb067ea3ce6ff9e244a44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#ad94b36675e7eb067ea3ce6ff9e244a44">MODULE_LICENSE</a> (&quot;GPL&quot;)</td></tr>
<tr class="separator:ad94b36675e7eb067ea3ce6ff9e244a44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3ea9759357bb282812b0925b450fa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="linux_2vport-lisp_8c.html#a8b3ea9759357bb282812b0925b450fa1">MODULE_ALIAS</a> (&quot;vport-<a class="el" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>-105&quot;)</td></tr>
<tr class="separator:a8b3ea9759357bb282812b0925b450fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a432175729adc4f68dad362484b077981"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LISP_HLEN&#160;&#160;&#160;(sizeof(struct udphdr) + sizeof(struct <a class="el" href="structlisphdr.html">lisphdr</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1f8c165bf4196327bc3abff648276d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a106a25589649bc37c3905cb00fb59f62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Types_8h.html#a9e6c91d77e24643b888dbd1a1a590054">u16</a> get_src_port </td>
          <td>(</td>
          <td class="paramtype">struct net *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="Types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> hash = <a class="code" href="skbuff_8h.html#acb236314b209f764af9aae7fbbb04311">skb_get_hash</a>(skb);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> range;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordtype">int</span> high;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">int</span> low;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (!hash) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">if</span> (skb-&gt;protocol == <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IP)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keyword">struct </span>iphdr *iph;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordtype">int</span> size = (<span class="keyword">sizeof</span>(iph-&gt;saddr) * 2) / <span class="keyword">sizeof</span>(<a class="code" href="Types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            iph = (<span class="keyword">struct </span>iphdr *) <a class="code" href="skbuff_8h.html#aa9e0f2aeb3abecde73023d35145bc4a0">skb_network_header</a>(skb);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            hash = jhash2((<span class="keyword">const</span> <a class="code" href="Types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> *)&amp;iph-&gt;saddr, size, 0);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (skb-&gt;protocol == <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IPV6)) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keyword">struct </span>ipv6hdr *ipv6hdr;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            ipv6hdr = (<span class="keyword">struct </span>ipv6hdr *) <a class="code" href="skbuff_8h.html#aa9e0f2aeb3abecde73023d35145bc4a0">skb_network_header</a>(skb);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            hash = jhash2((<span class="keyword">const</span> <a class="code" href="Types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> *)&amp;ipv6hdr-&gt;saddr,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                      (<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structin6__addr.html">in6_addr</a>) * 2) / <span class="keyword">sizeof</span>(<a class="code" href="Types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>), 0);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            pr_warn_once(<span class="stringliteral">&quot;LISP inner protocol is not IP when &quot;</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                     <span class="stringliteral">&quot;calculating hash.\n&quot;</span>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="datapath_2linux_2compat_2include_2net_2ip_8h.html#a2fa8d50303354dc298e21be296cd999f">inet_get_local_port_range</a>(net, &amp;low, &amp;high);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    range = (high - low) + 1;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> (((<a class="code" href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>) hash * range) &gt;&gt; 32) + low;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="ttc" id="Types_8h_html_a10e94b422ef0c20dcdec20d31a1f5049"><div class="ttname"><a href="Types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a></div><div class="ttdeci">unsigned int u32</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="datapath_2linux_2compat_2include_2net_2ip_8h_html_a2fa8d50303354dc298e21be296cd999f"><div class="ttname"><a href="datapath_2linux_2compat_2include_2net_2ip_8h.html#a2fa8d50303354dc298e21be296cd999f">inet_get_local_port_range</a></div><div class="ttdeci">#define inet_get_local_port_range</div><div class="ttdef"><b>Definition:</b> ip.h:21</div></div>
<div class="ttc" id="structin6__addr_html"><div class="ttname"><a href="structin6__addr.html">in6_addr</a></div><div class="ttdef"><b>Definition:</b> in.h:41</div></div>
<div class="ttc" id="skbuff_8h_html_acb236314b209f764af9aae7fbbb04311"><div class="ttname"><a href="skbuff_8h.html#acb236314b209f764af9aae7fbbb04311">skb_get_hash</a></div><div class="ttdeci">#define skb_get_hash</div><div class="ttdef"><b>Definition:</b> skbuff.h:306</div></div>
<div class="ttc" id="skbuff_8h_html_aa9e0f2aeb3abecde73023d35145bc4a0"><div class="ttname"><a href="skbuff_8h.html#aa9e0f2aeb3abecde73023d35145bc4a0">skb_network_header</a></div><div class="ttdeci">static unsigned char * skb_network_header(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> skbuff.h:148</div></div>
<div class="ttc" id="Types_8h_html_ad758b7a5c3f18ed79d2fcd23d9f16357"><div class="ttname"><a href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a></div><div class="ttdeci">unsigned long long u64</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
<div class="ttc" id="Util_8h_html_a3938af6818d379449e4d075ed2a5edc4"><div class="ttname"><a href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a></div><div class="ttdeci">#define htons(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:73</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af20b35bc9be7a0b1273028a96b99d06b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a> instance_id_to_tunnel_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a> *&#160;</td>
          <td class="paramname"><em>iid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#ifdef __BIG_ENDIAN</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">return</span> (iid[0] &lt;&lt; 16) | (iid[1] &lt;&lt; 8) | iid[2];</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> (__force <a class="code" href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a>)(((__force <a class="code" href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)iid[0] &lt;&lt; 40) |</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                ((__force <a class="code" href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)iid[1] &lt;&lt; 48) |</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                ((__force <a class="code" href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)iid[2] &lt;&lt; 56));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="ttc" id="Types_8h_html_abeda791a3d43c5d6f62324752d27c8c7"><div class="ttname"><a href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a></div><div class="ttdeci">uint64 __be64</div><div class="ttdef"><b>Definition:</b> Types.h:27</div></div>
<div class="ttc" id="Types_8h_html_ad758b7a5c3f18ed79d2fcd23d9f16357"><div class="ttname"><a href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a></div><div class="ttdeci">unsigned long long u64</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afacb726760b72b4d01c27f470d4b7a3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lisp_build_header </td>
          <td>(</td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisphdr.html">lisphdr</a> *lisph;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a> *<a class="code" href="datapath_2flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    tun_key = &amp;<a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info-&gt;tunnel;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    lisph = (<span class="keyword">struct </span><a class="code" href="structlisphdr.html">lisphdr</a> *)__skb_push(skb, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structlisphdr.html">lisphdr</a>));</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#afc8757faa2d76be2f1d292828d29e109">nonce_present</a> = 0;   <span class="comment">/* We don&#39;t support echo nonce algorithm */</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a3499bf30411f687e5f2e052288718196">locator_status_bits_present</a> = 1; <span class="comment">/* Set LSB */</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a6e67108cec8cf45f0662e9388eac60fd">solicit_echo_nonce</a> = 0;  <span class="comment">/* No echo noncing */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a922cbf86c791d66583e991b87e65e601">map_version_present</a> = 0; <span class="comment">/* No mapping versioning, nonce instead */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a35d40a5064b3f329708f3a57b1ea9856">instance_id_present</a> = 1; <span class="comment">/* Store the tun_id as Instance ID  */</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a1a624b2a0b92d71d031c2e3c63f4eb99">reserved_flags</a> = 0;  <span class="comment">/* Reserved flags, set to 0  */</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a7ffea0f2cb943b1c56a92a4823c67fc3">u1</a>.<a class="code" href="structlisphdr.html#a02abd6cb7120a0217123dd14841b2d68">nonce</a>[0] = 0;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a7ffea0f2cb943b1c56a92a4823c67fc3">u1</a>.<a class="code" href="structlisphdr.html#a02abd6cb7120a0217123dd14841b2d68">nonce</a>[1] = 0;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a7ffea0f2cb943b1c56a92a4823c67fc3">u1</a>.<a class="code" href="structlisphdr.html#a02abd6cb7120a0217123dd14841b2d68">nonce</a>[2] = 0;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="linux_2vport-lisp_8c.html#aa7e66c2b840ffa52ae39f24fc21c0eb5">tunnel_id_to_instance_id</a>(tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae36132bc05ca6257b572edddffcb867a">tun_id</a>, &amp;lisph-&gt;<a class="code" href="structlisphdr.html#a72f060d900466d19213fd5c473a8d6fd">u2</a>.<a class="code" href="structlisphdr.html#a5a4d067fadb40535e26b1a0305f46db0">word2</a>.instance_id[0]);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    lisph-&gt;<a class="code" href="structlisphdr.html#a72f060d900466d19213fd5c473a8d6fd">u2</a>.<a class="code" href="structlisphdr.html#a5a4d067fadb40535e26b1a0305f46db0">word2</a>.locator_status_bits = 1;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="ttc" id="structlisphdr_html_a922cbf86c791d66583e991b87e65e601"><div class="ttname"><a href="structlisphdr.html#a922cbf86c791d66583e991b87e65e601">lisphdr::map_version_present</a></div><div class="ttdeci">__u8 map_version_present</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:80</div></div>
<div class="ttc" id="structlisphdr_html_a3499bf30411f687e5f2e052288718196"><div class="ttname"><a href="structlisphdr.html#a3499bf30411f687e5f2e052288718196">lisphdr::locator_status_bits_present</a></div><div class="ttdeci">__u8 locator_status_bits_present</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:78</div></div>
<div class="ttc" id="structlisphdr_html_a1a624b2a0b92d71d031c2e3c63f4eb99"><div class="ttname"><a href="structlisphdr.html#a1a624b2a0b92d71d031c2e3c63f4eb99">lisphdr::reserved_flags</a></div><div class="ttdeci">__u8 reserved_flags</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:82</div></div>
<div class="ttc" id="structlisphdr_html_a35d40a5064b3f329708f3a57b1ea9856"><div class="ttname"><a href="structlisphdr.html#a35d40a5064b3f329708f3a57b1ea9856">lisphdr::instance_id_present</a></div><div class="ttdeci">__u8 instance_id_present</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:81</div></div>
<div class="ttc" id="structlisphdr_html"><div class="ttname"><a href="structlisphdr.html">lisphdr</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:68</div></div>
<div class="ttc" id="structlisphdr_html_a5a4d067fadb40535e26b1a0305f46db0"><div class="ttname"><a href="structlisphdr.html#a5a4d067fadb40535e26b1a0305f46db0">lisphdr::word2</a></div><div class="ttdeci">struct lisphdr::@37::@38 word2</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_aa7e66c2b840ffa52ae39f24fc21c0eb5"><div class="ttname"><a href="linux_2vport-lisp_8c.html#aa7e66c2b840ffa52ae39f24fc21c0eb5">tunnel_id_to_instance_id</a></div><div class="ttdeci">static void tunnel_id_to_instance_id(__be64 tun_id, __u8 *iid)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:140</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structlisphdr_html_a72f060d900466d19213fd5c473a8d6fd"><div class="ttname"><a href="structlisphdr.html#a72f060d900466d19213fd5c473a8d6fd">lisphdr::u2</a></div><div class="ttdeci">union lisphdr::@37 u2</div></div>
<div class="ttc" id="structlisphdr_html_afc8757faa2d76be2f1d292828d29e109"><div class="ttname"><a href="structlisphdr.html#afc8757faa2d76be2f1d292828d29e109">lisphdr::nonce_present</a></div><div class="ttdeci">__u8 nonce_present</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:77</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a></div><div class="ttdef"><b>Definition:</b> flow.h:43</div></div>
<div class="ttc" id="structlisphdr_html_a6e67108cec8cf45f0662e9388eac60fd"><div class="ttname"><a href="structlisphdr.html#a6e67108cec8cf45f0662e9388eac60fd">lisphdr::solicit_echo_nonce</a></div><div class="ttdeci">__u8 solicit_echo_nonce</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:79</div></div>
<div class="ttc" id="structlisphdr_html_a02abd6cb7120a0217123dd14841b2d68"><div class="ttname"><a href="structlisphdr.html#a02abd6cb7120a0217123dd14841b2d68">lisphdr::nonce</a></div><div class="ttdeci">__u8 nonce[3]</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:85</div></div>
<div class="ttc" id="structlisphdr_html_a7ffea0f2cb943b1c56a92a4823c67fc3"><div class="ttname"><a href="structlisphdr.html#a7ffea0f2cb943b1c56a92a4823c67fc3">lisphdr::u1</a></div><div class="ttdeci">union lisphdr::@36 u1</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a904e9497acde49a1992636f77597c5c7"><div class="ttname"><a href="datapath_2flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a></div><div class="ttdeci">struct ovs_key_ipv4_tunnel tun_key</div><div class="ttdef"><b>Definition:</b> flow.h:105</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_ae36132bc05ca6257b572edddffcb867a"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#ae36132bc05ca6257b572edddffcb867a">ovs_key_ipv4_tunnel::tun_id</a></div><div class="ttdeci">__be64 tun_id</div><div class="ttdef"><b>Definition:</b> flow.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac170aebcefa72b3bccd6431da43de59d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlisp__port.html">lisp_port</a>* lisp_find_port </td>
          <td>(</td>
          <td class="paramtype">struct net *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a>&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    list_for_each_entry_rcu(lisp_port, &amp;lisp_ports, <a class="code" href="structlisp__port.html#adaf751d0e165cfbf047be71e680c3f19">list</a>) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (lisp_port-&gt;<a class="code" href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">dst_port</a> == <a class="code" href="structport.html">port</a> &amp;&amp;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            net_eq(sock_net(lisp_port-&gt;<a class="code" href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_rcv_socket</a>-&gt;sk), net))</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="keywordflow">return</span> lisp_port;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="ttc" id="structport_html"><div class="ttname"><a href="structport.html">port</a></div><div class="ttdef"><b>Definition:</b> bridge.c:103</div></div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="structlisp__port_html_ac5fbe9815941c2930c73339250706300"><div class="ttname"><a href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_port::lisp_rcv_socket</a></div><div class="ttdeci">struct socket * lisp_rcv_socket</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:109</div></div>
<div class="ttc" id="structlisp__port_html_a3f0943c0da5e5c60f9e8e4068d49215e"><div class="ttname"><a href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">lisp_port::dst_port</a></div><div class="ttdeci">__be16 dst_port</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:107</div></div>
<div class="ttc" id="structlisp__port_html_adaf751d0e165cfbf047be71e680c3f19"><div class="ttname"><a href="structlisp__port.html#adaf751d0e165cfbf047be71e680c3f19">lisp_port::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:108</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38f0b18b384c833b501a23e942fa2a07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lisp_get_egress_tun_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structovs__tunnel__info.html">ovs_tunnel_info</a> *&#160;</td>
          <td class="paramname"><em>egress_tun_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;{</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a> = <a class="code" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a>(vport);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (skb-&gt;protocol != <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IP) &amp;&amp;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        skb-&gt;protocol != <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IPV6)) {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">     * Get tp_src and tp_dst, refert to lisp_build_header().</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="linux_2vport_8c.html#ac5b64ee0badeb969348aae464fdc4c8d">ovs_tunnel_get_egress_info</a>(egress_tun_info, net,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                      <a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                      <a class="code" href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>, skb-&gt;mark,</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                      <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(<a class="code" href="linux_2vport-lisp_8c.html#a106a25589649bc37c3905cb00fb59f62">get_src_port</a>(net, skb)),</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                      lisp_port-&gt;<a class="code" href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">dst_port</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="NetProto_8h_html_ab332d40b15142f33a88d4fcb1d6a5920"><div class="ttname"><a href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a></div><div class="ttdeci">#define IPPROTO_UDP</div><div class="ttdef"><b>Definition:</b> NetProto.h:82</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structvport_html_a49fb6f6bf0ac4337853e9242e88ddc42"><div class="ttname"><a href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">vport::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:107</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a106a25589649bc37c3905cb00fb59f62"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a106a25589649bc37c3905cb00fb59f62">get_src_port</a></div><div class="ttdeci">static u16 get_src_port(struct net *net, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:169</div></div>
<div class="ttc" id="linux_2vport_8c_html_ac5b64ee0badeb969348aae464fdc4c8d"><div class="ttname"><a href="linux_2vport_8c.html#ac5b64ee0badeb969348aae464fdc4c8d">ovs_tunnel_get_egress_info</a></div><div class="ttdeci">int ovs_tunnel_get_egress_info(struct ovs_tunnel_info *egress_tun_info, struct net *net, const struct ovs_tunnel_info *tun_info, u8 ipproto, u32 skb_mark, __be16 tp_src, __be16 tp_dst)</div><div class="ttdef"><b>Definition:</b> vport.c:586</div></div>
<div class="ttc" id="structlisp__port_html_a3f0943c0da5e5c60f9e8e4068d49215e"><div class="ttname"><a href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">lisp_port::dst_port</a></div><div class="ttdeci">__be16 dst_port</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:107</div></div>
<div class="ttc" id="Util_8h_html_a3938af6818d379449e4d075ed2a5edc4"><div class="ttname"><a href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a></div><div class="ttdeci">#define htons(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:73</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af8f69fb0b9db12e9a324a9932011b302"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a></div><div class="ttdeci">static struct lisp_port * lisp_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b17408cfe8b9c4999729e709eda60c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* lisp_get_name </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a> = <a class="code" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a>(vport);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> lisp_port-&gt;<a class="code" href="structlisp__port.html#ae0a7f15d977897e051bb338429f1d7fe">name</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="structlisp__port_html_ae0a7f15d977897e051bb338429f1d7fe"><div class="ttname"><a href="structlisp__port.html#ae0a7f15d977897e051bb338429f1d7fe">lisp_port::name</a></div><div class="ttdeci">char name[IFNAMSIZ]</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:110</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af8f69fb0b9db12e9a324a9932011b302"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a></div><div class="ttdeci">static struct lisp_port * lisp_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a54dce33d8291b4f7f816d882b13c3cc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lisp_get_options </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a> = <a class="code" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a>(vport);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (nla_put_u16(skb, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a>, <a class="code" href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a>(lisp_port-&gt;<a class="code" href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">dst_port</a>)))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span> -EMSGSIZE;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="ttc" id="Util_8h_html_a827f490ed828316d1d8f92e5c4f14cdc"><div class="ttname"><a href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a></div><div class="ttdeci">#define ntohs(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:74</div></div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="structlisp__port_html_a3f0943c0da5e5c60f9e8e4068d49215e"><div class="ttname"><a href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">lisp_port::dst_port</a></div><div class="ttdeci">__be16 dst_port</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:107</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:294</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af8f69fb0b9db12e9a324a9932011b302"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a></div><div class="ttdeci">static struct lisp_port * lisp_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac717e897cb8473e6d34982cbfc5aeaaa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlisphdr.html">lisphdr</a>* lisp_hdr </td>
          <td>(</td>
          <td class="paramtype">const struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structlisphdr.html">lisphdr</a> *)(<a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb) + 1);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="ttc" id="structlisphdr_html"><div class="ttname"><a href="structlisphdr.html">lisphdr</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:68</div></div>
<div class="ttc" id="linux_2udp_8h_html_a7b8908e197538768cf4ff9ec577bd86b"><div class="ttname"><a href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a></div><div class="ttdeci">static struct udphdr * udp_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> udp.h:7</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afad2c3b20aa9688a25d14456469ed17d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lisp_rcv </td>
          <td>(</td>
          <td class="paramtype">struct sock *&#160;</td>
          <td class="paramname"><em>sk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisphdr.html">lisphdr</a> *lisph;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">struct </span>iphdr *iph, *inner_iph;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__tunnel__info.html">ovs_tunnel_info</a> tun_info;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a> <a class="code" href="uuid_8c.html#ac7bb0c346c8ea34e241d12fcba77c4bb">key</a>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">struct </span>ethhdr *ethh;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a> <a class="code" href="structprotocol.html">protocol</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    lisp_port = <a class="code" href="sock_8h.html#a2a8307d46586194d832739a9982dfdcf">rcu_dereference_sk_user_data</a>(sk);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (unlikely(!lisp_port))</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">if</span> (iptunnel_pull_header(skb, <a class="code" href="linux_2vport-lisp_8c.html#a432175729adc4f68dad362484b077981">LISP_HLEN</a>, 0))</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    lisph = <a class="code" href="linux_2vport-lisp_8c.html#ac717e897cb8473e6d34982cbfc5aeaaa">lisp_hdr</a>(skb);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (lisph-&gt;<a class="code" href="structlisphdr.html#a35d40a5064b3f329708f3a57b1ea9856">instance_id_present</a> != 1)</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        key = 0;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        key = <a class="code" href="linux_2vport-lisp_8c.html#af20b35bc9be7a0b1273028a96b99d06b">instance_id_to_tunnel_id</a>(&amp;lisph-&gt;<a class="code" href="structlisphdr.html#a72f060d900466d19213fd5c473a8d6fd">u2</a>.<a class="code" href="structlisphdr.html#a5a4d067fadb40535e26b1a0305f46db0">word2</a>.instance_id[0]);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">/* Save outer tunnel values */</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    iph = <a class="code" href="datapath_2linux_2compat_2include_2linux_2ip_8h.html#a06ad68dbeebbe718758ba2d5ebb6335c">ip_hdr</a>(skb);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="datapath_2flow_8h.html#a852c3ebd7a575ba7133623943f79e5df">ovs_flow_tun_info_init</a>(&amp;tun_info, iph,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                   <a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;source, <a class="code" href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a>(skb)-&gt;dest,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                   key, <a class="code" href="ip__tunnels_8h.html#a5438f4a0ea8e58438776fffbed3f08a8">TUNNEL_KEY</a>, NULL, 0);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="comment">/* Drop non-IP inner packets */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    inner_iph = (<span class="keyword">struct </span>iphdr *)(lisph + 1);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">switch</span> (inner_iph-&gt;version) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        protocol = <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IP);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        protocol = <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IPV6);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    skb-&gt;protocol = protocol;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">/* Add Ethernet header */</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    ethh = (<span class="keyword">struct </span>ethhdr *)skb_push(skb, ETH_HLEN);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    memset(ethh, 0, ETH_HLEN);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    ethh-&gt;h_dest[0] = 0x02;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    ethh-&gt;h_source[0] = 0x02;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    ethh-&gt;h_proto = protocol;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="vport_8h.html#ac7bba7ae75dd07feea88dde580c3569b">ovs_skb_postpush_rcsum</a>(skb, skb-&gt;data, ETH_HLEN);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="linux_2vport_8c.html#a45b6883b8ea28eb25965e1f2e1586d46">ovs_vport_receive</a>(<a class="code" href="vport_8h.html#a4064e2f79bf9d0523fd312d33b9d39e9">vport_from_priv</a>(lisp_port), skb, &amp;tun_info);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>:</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    kfree_skb(skb);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;out:</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="ttc" id="vport_8h_html_a4064e2f79bf9d0523fd312d33b9d39e9"><div class="ttname"><a href="vport_8h.html#a4064e2f79bf9d0523fd312d33b9d39e9">vport_from_priv</a></div><div class="ttdeci">static struct vport * vport_from_priv(void *priv)</div><div class="ttdef"><b>Definition:</b> vport.h:220</div></div>
<div class="ttc" id="datapath_2linux_2compat_2include_2linux_2ip_8h_html_a06ad68dbeebbe718758ba2d5ebb6335c"><div class="ttname"><a href="datapath_2linux_2compat_2include_2linux_2ip_8h.html#a06ad68dbeebbe718758ba2d5ebb6335c">ip_hdr</a></div><div class="ttdeci">static struct iphdr * ip_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> ip.h:9</div></div>
<div class="ttc" id="structovs__tunnel__info_html"><div class="ttname"><a href="structovs__tunnel__info.html">ovs_tunnel_info</a></div><div class="ttdef"><b>Definition:</b> flow.h:54</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a432175729adc4f68dad362484b077981"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a432175729adc4f68dad362484b077981">LISP_HLEN</a></div><div class="ttdeci">#define LISP_HLEN</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:97</div></div>
<div class="ttc" id="vport_8h_html_ac7bba7ae75dd07feea88dde580c3569b"><div class="ttname"><a href="vport_8h.html#ac7bba7ae75dd07feea88dde580c3569b">ovs_skb_postpush_rcsum</a></div><div class="ttdeci">static void ovs_skb_postpush_rcsum(struct sk_buff *skb, const void *start, unsigned int len)</div><div class="ttdef"><b>Definition:</b> vport.h:228</div></div>
<div class="ttc" id="Types_8h_html_ac928daf2b160eb7789f510e5b1991b4c"><div class="ttname"><a href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a></div><div class="ttdeci">uint16 __be16</div><div class="ttdef"><b>Definition:</b> Types.h:29</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af20b35bc9be7a0b1273028a96b99d06b"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af20b35bc9be7a0b1273028a96b99d06b">instance_id_to_tunnel_id</a></div><div class="ttdeci">static __be64 instance_id_to_tunnel_id(__u8 *iid)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:155</div></div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="structlisphdr_html_a35d40a5064b3f329708f3a57b1ea9856"><div class="ttname"><a href="structlisphdr.html#a35d40a5064b3f329708f3a57b1ea9856">lisphdr::instance_id_present</a></div><div class="ttdeci">__u8 instance_id_present</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:81</div></div>
<div class="ttc" id="structlisphdr_html"><div class="ttname"><a href="structlisphdr.html">lisphdr</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:68</div></div>
<div class="ttc" id="structlisphdr_html_a5a4d067fadb40535e26b1a0305f46db0"><div class="ttname"><a href="structlisphdr.html#a5a4d067fadb40535e26b1a0305f46db0">lisphdr::word2</a></div><div class="ttdeci">struct lisphdr::@37::@38 word2</div></div>
<div class="ttc" id="linux_2vport_8c_html_a45b6883b8ea28eb25965e1f2e1586d46"><div class="ttname"><a href="linux_2vport_8c.html#a45b6883b8ea28eb25965e1f2e1586d46">ovs_vport_receive</a></div><div class="ttdeci">void ovs_vport_receive(struct vport *vport, struct sk_buff *skb, const struct ovs_tunnel_info *tun_info)</div><div class="ttdef"><b>Definition:</b> vport.c:483</div></div>
<div class="ttc" id="structlisphdr_html_a72f060d900466d19213fd5c473a8d6fd"><div class="ttname"><a href="structlisphdr.html#a72f060d900466d19213fd5c473a8d6fd">lisphdr::u2</a></div><div class="ttdeci">union lisphdr::@37 u2</div></div>
<div class="ttc" id="sock_8h_html_a2a8307d46586194d832739a9982dfdcf"><div class="ttname"><a href="sock_8h.html#a2a8307d46586194d832739a9982dfdcf">rcu_dereference_sk_user_data</a></div><div class="ttdeci">#define rcu_dereference_sk_user_data(sk)</div><div class="ttdef"><b>Definition:</b> sock.h:9</div></div>
<div class="ttc" id="Types_8h_html_abeda791a3d43c5d6f62324752d27c8c7"><div class="ttname"><a href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a></div><div class="ttdeci">uint64 __be64</div><div class="ttdef"><b>Definition:</b> Types.h:27</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a5438f4a0ea8e58438776fffbed3f08a8"><div class="ttname"><a href="ip__tunnels_8h.html#a5438f4a0ea8e58438776fffbed3f08a8">TUNNEL_KEY</a></div><div class="ttdeci">#define TUNNEL_KEY</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:44</div></div>
<div class="ttc" id="structprotocol_html"><div class="ttname"><a href="structprotocol.html">protocol</a></div><div class="ttdef"><b>Definition:</b> lldpd.h:47</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a852c3ebd7a575ba7133623943f79e5df"><div class="ttname"><a href="datapath_2flow_8h.html#a852c3ebd7a575ba7133623943f79e5df">ovs_flow_tun_info_init</a></div><div class="ttdeci">static void ovs_flow_tun_info_init(struct ovs_tunnel_info *tun_info, const struct iphdr *iph, __be16 tp_src, __be16 tp_dst, __be64 tun_id, __be16 tun_flags, const void *opts, u8 opts_len)</div><div class="ttdef"><b>Definition:</b> flow.h:102</div></div>
<div class="ttc" id="linux_2udp_8h_html_a7b8908e197538768cf4ff9ec577bd86b"><div class="ttname"><a href="linux_2udp_8h.html#a7b8908e197538768cf4ff9ec577bd86b">udp_hdr</a></div><div class="ttdeci">static struct udphdr * udp_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> udp.h:7</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="Util_8h_html_a3938af6818d379449e4d075ed2a5edc4"><div class="ttname"><a href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a></div><div class="ttdeci">#define htons(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:73</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_ac717e897cb8473e6d34982cbfc5aeaaa"><div class="ttname"><a href="linux_2vport-lisp_8c.html#ac717e897cb8473e6d34982cbfc5aeaaa">lisp_hdr</a></div><div class="ttdeci">static struct lisphdr * lisp_hdr(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:134</div></div>
<div class="ttc" id="uuid_8c_html_ac7bb0c346c8ea34e241d12fcba77c4bb"><div class="ttname"><a href="uuid_8c.html#ac7bb0c346c8ea34e241d12fcba77c4bb">key</a></div><div class="ttdeci">static struct aes128 key</div><div class="ttdef"><b>Definition:</b> uuid.c:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a50252974d93009f1c1204799ef7ba0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lisp_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sk_buff *&#160;</td>
          <td class="paramname"><em>skb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a> *<a class="code" href="datapath_2flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a>;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a> = <a class="code" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a>(vport);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">int</span> network_offset = <a class="code" href="skbuff_8h.html#aabe75b44039b11c1b7c6e2f246e7146e">skb_network_offset</a>(skb);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keyword">struct </span>rtable *rt;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">int</span> min_headroom;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="Types_8h.html#aba9e76a4970a44847aab30f9a1d6a36d">__be32</a> saddr;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a> src_port, dst_port;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a> df;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordtype">int</span> sent_len;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (unlikely(!<a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info)) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    tun_key = &amp;<a class="code" href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a>(skb)-&gt;egress_tun_info-&gt;tunnel;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (skb-&gt;protocol != <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IP) &amp;&amp;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        skb-&gt;protocol != <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(ETH_P_IPV6)) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        err = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">/* Route lookup */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    saddr = tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a1e5a978f104d61e9694e914a109734a7">ipv4_src</a>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    rt = <a class="code" href="compat_8h.html#a9fd71ce2d13a3dcc4f7d51469ba86d79">find_route</a>(<a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(vport-&gt;<a class="code" href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">dp</a>),</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            &amp;saddr, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ipv4_dst</a>,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <a class="code" href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a>, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ipv4_tos</a>,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            skb-&gt;mark);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(rt)) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        err = PTR_ERR(rt);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    min_headroom = LL_RESERVED_SPACE(<a class="code" href="compat_8h.html#afce1864ee37be971c99555fdf1f76d88">rt_dst</a>(rt).dev) + <a class="code" href="compat_8h.html#afce1864ee37be971c99555fdf1f76d88">rt_dst</a>(rt).header_len</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            + <span class="keyword">sizeof</span>(<span class="keyword">struct </span>iphdr) + <a class="code" href="linux_2vport-lisp_8c.html#a432175729adc4f68dad362484b077981">LISP_HLEN</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (skb_headroom(skb) &lt; min_headroom || skb_header_cloned(skb)) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordtype">int</span> head_delta = SKB_DATA_ALIGN(min_headroom -</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                        skb_headroom(skb) +</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        16);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        err = pskb_expand_head(skb, max_t(<span class="keywordtype">int</span>, head_delta, 0),</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                    0, GFP_ATOMIC);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">if</span> (unlikely(err))</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">goto</span> err_free_rt;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">/* Reset l2 headers. */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    skb_pull(skb, network_offset);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="skbuff_8h.html#aaf81c26756757ac1e1d7e6933f61bdaf">skb_reset_mac_header</a>(skb);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="vlan_8h.html#ad5de1acaa10b947f662a8200417dd6c4">vlan_set_tci</a>(skb, 0);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    skb = <a class="code" href="udp__tunnel_8h.html#a2c093a62e766646df5cf62f8ea3aba91">udp_tunnel_handle_offloads</a>(skb, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(skb)) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        err = PTR_ERR(skb);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        skb = NULL;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">goto</span> err_free_rt;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    src_port = <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(<a class="code" href="linux_2vport-lisp_8c.html#a106a25589649bc37c3905cb00fb59f62">get_src_port</a>(net, skb));</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    dst_port = lisp_port-&gt;<a class="code" href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">dst_port</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="linux_2vport-lisp_8c.html#afacb726760b72b4d01c27f470d4b7a3a">lisp_build_header</a>(skb);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    skb-&gt;ignore_df = 1;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="gso_8h.html#afa56bd287d4a10d09bf25d8219f574b5">ovs_skb_set_inner_protocol</a>(skb, skb-&gt;protocol);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    df = tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">tun_flags</a> &amp; <a class="code" href="ip__tunnels_8h.html#a3b33c8fadb48f2281d5852e2a0d8eeff">TUNNEL_DONT_FRAGMENT</a> ? <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(<a class="code" href="NetProto_8h.html#ae2473f4a88d141d5298f92a4335b714a">IP_DF</a>) : 0;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    sent_len = udp_tunnel_xmit_skb(rt, skb, saddr, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ipv4_dst</a>,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                       tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ipv4_tos</a>, tun_key-&gt;<a class="code" href="structovs__key__ipv4__tunnel.html#a24de7472a8c22903fce96b73dab68a40">ipv4_ttl</a>,</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                       df, src_port, dst_port, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> sent_len &gt; 0 ? sent_len + network_offset : sent_len;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;err_free_rt:</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    ip_rt_put(rt);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>:</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    kfree_skb(skb);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div>
<div class="ttc" id="compat_8h_html_a9fd71ce2d13a3dcc4f7d51469ba86d79"><div class="ttname"><a href="compat_8h.html#a9fd71ce2d13a3dcc4f7d51469ba86d79">find_route</a></div><div class="ttdeci">static struct rtable * find_route(struct net *net, __be32 *saddr, __be32 daddr, u8 ipproto, u8 tos, u32 skb_mark)</div><div class="ttdef"><b>Definition:</b> compat.h:46</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a432175729adc4f68dad362484b077981"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a432175729adc4f68dad362484b077981">LISP_HLEN</a></div><div class="ttdeci">#define LISP_HLEN</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:97</div></div>
<div class="ttc" id="gso_8h_html_afa56bd287d4a10d09bf25d8219f574b5"><div class="ttname"><a href="gso_8h.html#afa56bd287d4a10d09bf25d8219f574b5">ovs_skb_set_inner_protocol</a></div><div class="ttdeci">static void ovs_skb_set_inner_protocol(struct sk_buff *skb, __be16 ethertype)</div><div class="ttdef"><b>Definition:</b> gso.h:124</div></div>
<div class="ttc" id="Types_8h_html_ac928daf2b160eb7789f510e5b1991b4c"><div class="ttname"><a href="Types_8h.html#ac928daf2b160eb7789f510e5b1991b4c">__be16</a></div><div class="ttdeci">uint16 __be16</div><div class="ttdef"><b>Definition:</b> Types.h:29</div></div>
<div class="ttc" id="skbuff_8h_html_aabe75b44039b11c1b7c6e2f246e7146e"><div class="ttname"><a href="skbuff_8h.html#aabe75b44039b11c1b7c6e2f246e7146e">skb_network_offset</a></div><div class="ttdeci">static int skb_network_offset(const struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> skbuff.h:183</div></div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="NetProto_8h_html_ab332d40b15142f33a88d4fcb1d6a5920"><div class="ttname"><a href="NetProto_8h.html#ab332d40b15142f33a88d4fcb1d6a5920">IPPROTO_UDP</a></div><div class="ttdeci">#define IPPROTO_UDP</div><div class="ttdef"><b>Definition:</b> NetProto.h:82</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a69594eaf9d7dfc2824b264484e02498e"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a69594eaf9d7dfc2824b264484e02498e">ovs_key_ipv4_tunnel::ipv4_tos</a></div><div class="ttdeci">u8 ipv4_tos</div><div class="ttdef"><b>Definition:</b> flow.h:48</div></div>
<div class="ttc" id="datapath_8h_html_ac337c4d4ddca29916ce8e900038ddd78"><div class="ttname"><a href="datapath_8h.html#ac337c4d4ddca29916ce8e900038ddd78">OVS_CB</a></div><div class="ttdeci">#define OVS_CB(skb)</div><div class="ttdef"><b>Definition:</b> datapath.h:108</div></div>
<div class="ttc" id="structvport_html_a49fb6f6bf0ac4337853e9242e88ddc42"><div class="ttname"><a href="structvport.html#a49fb6f6bf0ac4337853e9242e88ddc42">vport::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:107</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a7459e66ecf90329eb2fa6cf3fc4781db"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a7459e66ecf90329eb2fa6cf3fc4781db">ovs_key_ipv4_tunnel::tun_flags</a></div><div class="ttdeci">__be16 tun_flags</div><div class="ttdef"><b>Definition:</b> flow.h:47</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a106a25589649bc37c3905cb00fb59f62"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a106a25589649bc37c3905cb00fb59f62">get_src_port</a></div><div class="ttdeci">static u16 get_src_port(struct net *net, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:169</div></div>
<div class="ttc" id="skbuff_8h_html_aaf81c26756757ac1e1d7e6933f61bdaf"><div class="ttname"><a href="skbuff_8h.html#aaf81c26756757ac1e1d7e6933f61bdaf">skb_reset_mac_header</a></div><div class="ttdeci">static void skb_reset_mac_header(struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> skbuff.h:168</div></div>
<div class="ttc" id="Types_8h_html_aba9e76a4970a44847aab30f9a1d6a36d"><div class="ttname"><a href="Types_8h.html#aba9e76a4970a44847aab30f9a1d6a36d">__be32</a></div><div class="ttdeci">uint32 __be32</div><div class="ttdef"><b>Definition:</b> Types.h:28</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_ae443d381a97f53bbc4139fe36c0aae30"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#ae443d381a97f53bbc4139fe36c0aae30">ovs_key_ipv4_tunnel::ipv4_dst</a></div><div class="ttdeci">__be32 ipv4_dst</div><div class="ttdef"><b>Definition:</b> flow.h:46</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html">ovs_key_ipv4_tunnel</a></div><div class="ttdef"><b>Definition:</b> flow.h:43</div></div>
<div class="ttc" id="NetProto_8h_html_ae2473f4a88d141d5298f92a4335b714a"><div class="ttname"><a href="NetProto_8h.html#ae2473f4a88d141d5298f92a4335b714a">IP_DF</a></div><div class="ttdeci">#define IP_DF</div><div class="ttdef"><b>Definition:</b> NetProto.h:144</div></div>
<div class="ttc" id="udp__tunnel_8h_html_a2c093a62e766646df5cf62f8ea3aba91"><div class="ttname"><a href="udp__tunnel_8h.html#a2c093a62e766646df5cf62f8ea3aba91">udp_tunnel_handle_offloads</a></div><div class="ttdeci">#define udp_tunnel_handle_offloads</div><div class="ttdef"><b>Definition:</b> udp_tunnel.h:20</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a1e5a978f104d61e9694e914a109734a7"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a1e5a978f104d61e9694e914a109734a7">ovs_key_ipv4_tunnel::ipv4_src</a></div><div class="ttdeci">__be32 ipv4_src</div><div class="ttdef"><b>Definition:</b> flow.h:45</div></div>
<div class="ttc" id="structovs__key__ipv4__tunnel_html_a24de7472a8c22903fce96b73dab68a40"><div class="ttname"><a href="structovs__key__ipv4__tunnel.html#a24de7472a8c22903fce96b73dab68a40">ovs_key_ipv4_tunnel::ipv4_ttl</a></div><div class="ttdeci">u8 ipv4_ttl</div><div class="ttdef"><b>Definition:</b> flow.h:49</div></div>
<div class="ttc" id="test-rstp_8c_html_aeaf1410528b66f4fd6991826e49eabc2"><div class="ttname"><a href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a></div><div class="ttdeci">static OVS_NO_RETURN void err(const char *message,...) OVS_PRINTF_FORMAT(1</div><div class="ttdef"><b>Definition:</b> test-rstp.c:344</div></div>
<div class="ttc" id="vlan_8h_html_ad5de1acaa10b947f662a8200417dd6c4"><div class="ttname"><a href="vlan_8h.html#ad5de1acaa10b947f662a8200417dd6c4">vlan_set_tci</a></div><div class="ttdeci">static void vlan_set_tci(struct sk_buff *skb, u16 vlan_tci)</div><div class="ttdef"><b>Definition:</b> vlan.h:58</div></div>
<div class="ttc" id="structlisp__port_html_a3f0943c0da5e5c60f9e8e4068d49215e"><div class="ttname"><a href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">lisp_port::dst_port</a></div><div class="ttdeci">__be16 dst_port</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:107</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a904e9497acde49a1992636f77597c5c7"><div class="ttname"><a href="datapath_2flow_8h.html#a904e9497acde49a1992636f77597c5c7">tun_key</a></div><div class="ttdeci">struct ovs_key_ipv4_tunnel tun_key</div><div class="ttdef"><b>Definition:</b> flow.h:105</div></div>
<div class="ttc" id="Util_8h_html_a3938af6818d379449e4d075ed2a5edc4"><div class="ttname"><a href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a></div><div class="ttdeci">#define htons(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:73</div></div>
<div class="ttc" id="ip__tunnels_8h_html_a3b33c8fadb48f2281d5852e2a0d8eeff"><div class="ttname"><a href="ip__tunnels_8h.html#a3b33c8fadb48f2281d5852e2a0d8eeff">TUNNEL_DONT_FRAGMENT</a></div><div class="ttdeci">#define TUNNEL_DONT_FRAGMENT</div><div class="ttdef"><b>Definition:</b> ip_tunnels.h:63</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_afacb726760b72b4d01c27f470d4b7a3a"><div class="ttname"><a href="linux_2vport-lisp_8c.html#afacb726760b72b4d01c27f470d4b7a3a">lisp_build_header</a></div><div class="ttdeci">static void lisp_build_header(struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:200</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="compat_8h_html_afce1864ee37be971c99555fdf1f76d88"><div class="ttname"><a href="compat_8h.html#afce1864ee37be971c99555fdf1f76d88">rt_dst</a></div><div class="ttdeci">#define rt_dst(rt)</div><div class="ttdef"><b>Definition:</b> compat.h:35</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af8f69fb0b9db12e9a324a9932011b302"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a></div><div class="ttdeci">static struct lisp_port * lisp_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a91b2b04c344bf1a50d02d4084fabf482"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int lisp_socket_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlisp__port.html">lisp_port</a> *&#160;</td>
          <td class="paramname"><em>lisp_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct net *&#160;</td>
          <td class="paramname"><em>net</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">struct </span>udp_port_cfg udp_conf;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keyword">struct </span>udp_tunnel_sock_cfg tunnel_cfg;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    memset(&amp;udp_conf, 0, <span class="keyword">sizeof</span>(udp_conf));</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    udp_conf.family = <a class="code" href="sparse_2sys_2socket_8h.html#ae33c78feb670de33d2abf21ec0624531a9ab67f00ce8b6a0015a0c642f22b7a81">AF_INET</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    udp_conf.local_ip.s_addr = <a class="code" href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a>(<a class="code" href="include_2sparse_2netinet_2in_8h.html#a5d1940045dc2e7de552f3d4ff13a74ab">INADDR_ANY</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    udp_conf.local_udp_port = lisp_port-&gt;<a class="code" href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">dst_port</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        err = udp_sock_create(net, &amp;udp_conf, &amp;lisp_port-&gt;<a class="code" href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_rcv_socket</a>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> (err &lt; 0) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        pr_warn(<span class="stringliteral">&quot;cannot register lisp protocol handler: %d\n&quot;</span>, err);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    tunnel_cfg.sk_user_data = lisp_port;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    tunnel_cfg.encap_type = 1;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    tunnel_cfg.encap_rcv = <a class="code" href="linux_2vport-lisp_8c.html#afad2c3b20aa9688a25d14456469ed17d">lisp_rcv</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    tunnel_cfg.encap_destroy = NULL;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    setup_udp_tunnel_sock(net, lisp_port-&gt;<a class="code" href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_rcv_socket</a>, &amp;tunnel_cfg);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="ttc" id="linux_2vport-lisp_8c_html_afad2c3b20aa9688a25d14456469ed17d"><div class="ttname"><a href="linux_2vport-lisp_8c.html#afad2c3b20aa9688a25d14456469ed17d">lisp_rcv</a></div><div class="ttdeci">static int lisp_rcv(struct sock *sk, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:224</div></div>
<div class="ttc" id="structlisp__port_html_ac5fbe9815941c2930c73339250706300"><div class="ttname"><a href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_port::lisp_rcv_socket</a></div><div class="ttdeci">struct socket * lisp_rcv_socket</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:109</div></div>
<div class="ttc" id="test-rstp_8c_html_aeaf1410528b66f4fd6991826e49eabc2"><div class="ttname"><a href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a></div><div class="ttdeci">static OVS_NO_RETURN void err(const char *message,...) OVS_PRINTF_FORMAT(1</div><div class="ttdef"><b>Definition:</b> test-rstp.c:344</div></div>
<div class="ttc" id="structlisp__port_html_a3f0943c0da5e5c60f9e8e4068d49215e"><div class="ttname"><a href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">lisp_port::dst_port</a></div><div class="ttdeci">__be16 dst_port</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:107</div></div>
<div class="ttc" id="sparse_2sys_2socket_8h_html_ae33c78feb670de33d2abf21ec0624531a9ab67f00ce8b6a0015a0c642f22b7a81"><div class="ttname"><a href="sparse_2sys_2socket_8h.html#ae33c78feb670de33d2abf21ec0624531a9ab67f00ce8b6a0015a0c642f22b7a81">AF_INET</a></div><div class="ttdef"><b>Definition:</b> socket.h:130</div></div>
<div class="ttc" id="include_2sparse_2netinet_2in_8h_html_a5d1940045dc2e7de552f3d4ff13a74ab"><div class="ttname"><a href="include_2sparse_2netinet_2in_8h.html#a5d1940045dc2e7de552f3d4ff13a74ab">INADDR_ANY</a></div><div class="ttdeci">#define INADDR_ANY</div><div class="ttdef"><b>Definition:</b> in.h:98</div></div>
<div class="ttc" id="Util_8h_html_a7f21954fd99169bcfc41ea9304d68697"><div class="ttname"><a href="Util_8h.html#a7f21954fd99169bcfc41ea9304d68697">htonl</a></div><div class="ttdeci">#define htonl(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:75</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeaf8548971b28354b0c5b67853008ebb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvport.html">vport</a>* lisp_tnl_create </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport__parms.html">vport_parms</a> *&#160;</td>
          <td class="paramname"><em>parms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">struct </span>net *net = <a class="code" href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a>(parms-&gt;<a class="code" href="structvport__parms.html#a15faa866e3d35a721de77b347017499e">dp</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">struct </span><a class="code" href="structnlattr.html">nlattr</a> *<a class="code" href="namespaceovs-dev.html#a302e485db9f79f207ab370b750214450">options</a> = parms-&gt;<a class="code" href="structvport__parms.html#a5c6027e758731e1a16968e77d4e2ca7c">options</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">struct </span><a class="code" href="structvport.html">vport</a> *<a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">struct </span><a class="code" href="structnlattr.html">nlattr</a> *<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="Types_8h.html#a9e6c91d77e24643b888dbd1a1a590054">u16</a> dst_port;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> (!options) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    a = <a class="code" href="datapath_2linux_2compat_2include_2net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a>(options, <a class="code" href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (a &amp;&amp; <a class="code" href="structnlattr.html#ae611434c05c03a6651e6500195301233">nla_len</a>(a) == <span class="keyword">sizeof</span>(<a class="code" href="Types_8h.html#a9e6c91d77e24643b888dbd1a1a590054">u16</a>)) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        dst_port = nla_get_u16(a);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="comment">/* Require destination port from userspace. */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        err = -EINVAL;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">/* Verify if we already have a socket created for this port */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="linux_2vport-lisp_8c.html#ac170aebcefa72b3bccd6431da43de59d">lisp_find_port</a>(net, <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(dst_port))) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        err = -EEXIST;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">goto</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    vport = <a class="code" href="linux_2vport_8c.html#a9198ee06111592d2cf6c3b2bf94561c1">ovs_vport_alloc</a>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> lisp_port),</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                &amp;<a class="code" href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a>, parms);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (IS_ERR(vport))</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    lisp_port = <a class="code" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a>(vport);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    lisp_port-&gt;<a class="code" href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">dst_port</a> = <a class="code" href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a>(dst_port);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    strncpy(lisp_port-&gt;<a class="code" href="structlisp__port.html#ae0a7f15d977897e051bb338429f1d7fe">name</a>, parms-&gt;<a class="code" href="structvport__parms.html#a4f27e2a7b7dc0493c095cdaabe225b38">name</a>, <a class="code" href="DpInternal_8h.html#acd06da230a96d3b7e6f193c5b3142002">IFNAMSIZ</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    err = <a class="code" href="linux_2vport-lisp_8c.html#a91b2b04c344bf1a50d02d4084fabf482">lisp_socket_init</a>(lisp_port, net);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (err)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">goto</span> error_free;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    list_add_tail_rcu(&amp;lisp_port-&gt;<a class="code" href="structlisp__port.html#adaf751d0e165cfbf047be71e680c3f19">list</a>, &amp;lisp_ports);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;error_free:</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a>(vport);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>:</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> ERR_PTR(err);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;}</div>
<div class="ttc" id="structnlattr_html_ae611434c05c03a6651e6500195301233"><div class="ttname"><a href="structnlattr.html#ae611434c05c03a6651e6500195301233">nlattr::nla_len</a></div><div class="ttdeci">uint16_t nla_len</div><div class="ttdef"><b>Definition:</b> netlink-protocol.h:96</div></div>
<div class="ttc" id="linux_2vport_8c_html_a9198ee06111592d2cf6c3b2bf94561c1"><div class="ttname"><a href="linux_2vport_8c.html#a9198ee06111592d2cf6c3b2bf94561c1">ovs_vport_alloc</a></div><div class="ttdeci">struct vport * ovs_vport_alloc(int priv_size, const struct vport_ops *ops, const struct vport_parms *parms)</div><div class="ttdef"><b>Definition:</b> vport.c:137</div></div>
<div class="ttc" id="structvport__parms_html_a5c6027e758731e1a16968e77d4e2ca7c"><div class="ttname"><a href="structvport__parms.html#a5c6027e758731e1a16968e77d4e2ca7c">vport_parms::options</a></div><div class="ttdeci">struct nlattr * options</div><div class="ttdef"><b>Definition:</b> vport.h:134</div></div>
<div class="ttc" id="namespaceovs-dev_html_a302e485db9f79f207ab370b750214450"><div class="ttname"><a href="namespaceovs-dev.html#a302e485db9f79f207ab370b750214450">ovs-dev.options</a></div><div class="ttdeci">options</div><div class="ttdef"><b>Definition:</b> ovs-dev.py:30</div></div>
<div class="ttc" id="datapath_2linux_2compat_2include_2net_2netlink_8h_html_a5b73cd8f4a1d3d335642ee1492b7b2c2"><div class="ttname"><a href="datapath_2linux_2compat_2include_2net_2netlink_8h.html#a5b73cd8f4a1d3d335642ee1492b7b2c2">nla_find_nested</a></div><div class="ttdeci">static struct nlattr * nla_find_nested(struct nlattr *nla, int attrtype)</div><div class="ttdef"><b>Definition:</b> netlink.h:60</div></div>
<div class="ttc" id="Types_8h_html_a9e6c91d77e24643b888dbd1a1a590054"><div class="ttname"><a href="Types_8h.html#a9e6c91d77e24643b888dbd1a1a590054">u16</a></div><div class="ttdeci">unsigned short u16</div><div class="ttdef"><b>Definition:</b> Types.h:25</div></div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="structvport__parms_html_a4f27e2a7b7dc0493c095cdaabe225b38"><div class="ttname"><a href="structvport__parms.html#a4f27e2a7b7dc0493c095cdaabe225b38">vport_parms::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> vport.h:132</div></div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
<div class="ttc" id="DpInternal_8h_html_acd06da230a96d3b7e6f193c5b3142002"><div class="ttname"><a href="DpInternal_8h.html#acd06da230a96d3b7e6f193c5b3142002">IFNAMSIZ</a></div><div class="ttdeci">#define IFNAMSIZ</div><div class="ttdef"><b>Definition:</b> DpInternal.h:21</div></div>
<div class="ttc" id="structlisp__port_html_ae0a7f15d977897e051bb338429f1d7fe"><div class="ttname"><a href="structlisp__port.html#ae0a7f15d977897e051bb338429f1d7fe">lisp_port::name</a></div><div class="ttdeci">char name[IFNAMSIZ]</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:110</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a758306cfbd9fe092cc094dbf165e5cf7"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_lisp_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:114</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a91b2b04c344bf1a50d02d4084fabf482"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a91b2b04c344bf1a50d02d4084fabf482">lisp_socket_init</a></div><div class="ttdeci">static int lisp_socket_init(struct lisp_port *lisp_port, struct net *net)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:286</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="structvport__parms_html_a15faa866e3d35a721de77b347017499e"><div class="ttname"><a href="structvport__parms.html#a15faa866e3d35a721de77b347017499e">vport_parms::dp</a></div><div class="ttdeci">struct datapath * dp</div><div class="ttdef"><b>Definition:</b> vport.h:137</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_ac170aebcefa72b3bccd6431da43de59d"><div class="ttname"><a href="linux_2vport-lisp_8c.html#ac170aebcefa72b3bccd6431da43de59d">lisp_find_port</a></div><div class="ttdeci">static struct lisp_port * lisp_find_port(struct net *net, __be16 port)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:121</div></div>
<div class="ttc" id="structnlattr_html"><div class="ttname"><a href="structnlattr.html">nlattr</a></div><div class="ttdef"><b>Definition:</b> netlink-protocol.h:95</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="test-rstp_8c_html_aeaf1410528b66f4fd6991826e49eabc2"><div class="ttname"><a href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a></div><div class="ttdeci">static OVS_NO_RETURN void err(const char *message,...) OVS_PRINTF_FORMAT(1</div><div class="ttdef"><b>Definition:</b> test-rstp.c:344</div></div>
<div class="ttc" id="structlisp__port_html_a3f0943c0da5e5c60f9e8e4068d49215e"><div class="ttname"><a href="structlisp__port.html#a3f0943c0da5e5c60f9e8e4068d49215e">lisp_port::dst_port</a></div><div class="ttdeci">__be16 dst_port</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:107</div></div>
<div class="ttc" id="structlisp__port_html_adaf751d0e165cfbf047be71e680c3f19"><div class="ttname"><a href="structlisp__port.html#adaf751d0e165cfbf047be71e680c3f19">lisp_port::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:108</div></div>
<div class="ttc" id="openvswitch_8h_html_a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a"><div class="ttname"><a href="openvswitch_8h.html#a96a58e29e8dbf2b5bdeb775cba46556eae2bec9320cf2cc32228c9783e1bba39a">OVS_TUNNEL_ATTR_DST_PORT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:294</div></div>
<div class="ttc" id="Util_8h_html_a3938af6818d379449e4d075ed2a5edc4"><div class="ttname"><a href="Util_8h.html#a3938af6818d379449e4d075ed2a5edc4">htons</a></div><div class="ttdeci">#define htons(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:73</div></div>
<div class="ttc" id="datapath_8h_html_aef2302004ca1f45133eaef00bb3740eb"><div class="ttname"><a href="datapath_8h.html#aef2302004ca1f45133eaef00bb3740eb">ovs_dp_get_net</a></div><div class="ttdeci">static struct net * ovs_dp_get_net(const struct datapath *dp)</div><div class="ttdef"><b>Definition:</b> datapath.h:157</div></div>
<div class="ttc" id="linux_2vport_8c_html_a17e57e95b47bad0bcf00e2e2805e2170"><div class="ttname"><a href="linux_2vport_8c.html#a17e57e95b47bad0bcf00e2e2805e2170">ovs_vport_free</a></div><div class="ttdeci">void ovs_vport_free(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.c:194</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af8f69fb0b9db12e9a324a9932011b302"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a></div><div class="ttdeci">static struct lisp_port * lisp_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29757c9680cfc5547ff8b58fc9d39f57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void lisp_tnl_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;{</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlisp__port.html">lisp_port</a> *<a class="code" href="structlisp__port.html">lisp_port</a> = <a class="code" href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a>(vport);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    list_del_rcu(&amp;lisp_port-&gt;<a class="code" href="structlisp__port.html#adaf751d0e165cfbf047be71e680c3f19">list</a>);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    udp_tunnel_sock_release(lisp_port-&gt;<a class="code" href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_rcv_socket</a>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="linux_2vport_8c.html#a91949289f78c0f0c2433ef5f20495e66">ovs_vport_deferred_free</a>(vport);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="ttc" id="structlisp__port_html"><div class="ttname"><a href="structlisp__port.html">lisp_port</a></div><div class="ttdef"><b>Definition:</b> vport-lisp.c:106</div></div>
<div class="ttc" id="structlisp__port_html_ac5fbe9815941c2930c73339250706300"><div class="ttname"><a href="structlisp__port.html#ac5fbe9815941c2930c73339250706300">lisp_port::lisp_rcv_socket</a></div><div class="ttdeci">struct socket * lisp_rcv_socket</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:109</div></div>
<div class="ttc" id="structlisp__port_html_adaf751d0e165cfbf047be71e680c3f19"><div class="ttname"><a href="structlisp__port.html#adaf751d0e165cfbf047be71e680c3f19">lisp_port::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:108</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_af8f69fb0b9db12e9a324a9932011b302"><div class="ttname"><a href="linux_2vport-lisp_8c.html#af8f69fb0b9db12e9a324a9932011b302">lisp_vport</a></div><div class="ttdeci">static struct lisp_port * lisp_vport(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:116</div></div>
<div class="ttc" id="linux_2vport_8c_html_a91949289f78c0f0c2433ef5f20495e66"><div class="ttname"><a href="linux_2vport_8c.html#a91949289f78c0f0c2433ef5f20495e66">ovs_vport_deferred_free</a></div><div class="ttdeci">void ovs_vport_deferred_free(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.c:577</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8f69fb0b9db12e9a324a9932011b302"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structlisp__port.html">lisp_port</a>* lisp_vport </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvport.html">vport</a> *&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="vport_8h.html#ad18aa811f80cfd4c3895d96f7f3f4acd">vport_priv</a>(vport);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="ttc" id="vport_8h_html_ad18aa811f80cfd4c3895d96f7f3f4acd"><div class="ttname"><a href="vport_8h.html#ad18aa811f80cfd4c3895d96f7f3f4acd">vport_priv</a></div><div class="ttdeci">static void * vport_priv(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport.h:205</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a73d3f5ee301d4ee3135ff6fdecaebbe5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">lisp_ports&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b3ea9759357bb282812b0925b450fa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_ALIAS </td>
          <td>(</td>
          <td class="paramtype">&quot;vport-<a class="el" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>-105&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa7521a419702060baceb5ba5fc1ec8c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_DESCRIPTION </td>
          <td>(</td>
          <td class="paramtype">&quot;OVS: LISP switching <a class="el" href="structport.html">port</a>&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4ead3dc5abdbbff6d567af19f9eec979"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vport-lisp_8c.html#ad76ba8664a548e29a850c62273297c6d">ovs_lisp_tnl_exit</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a94a5f96f1e47f7598c585bbf70bfe00f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">module_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="vport-lisp_8c.html#a2796063074f5d672bb389e375b744a7f">ovs_lisp_tnl_init</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad94b36675e7eb067ea3ce6ff9e244a44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MODULE_LICENSE </td>
          <td>(</td>
          <td class="paramtype">&quot;GPL&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad76ba8664a548e29a850c62273297c6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __exit ovs_lisp_tnl_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="linux_2vport_8c.html#a8659a5c436f2b09d0b6be2c208ee790e">ovs_vport_ops_unregister</a>(&amp;<a class="code" href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a758306cfbd9fe092cc094dbf165e5cf7"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_lisp_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:114</div></div>
<div class="ttc" id="linux_2vport_8c_html_a8659a5c436f2b09d0b6be2c208ee790e"><div class="ttname"><a href="linux_2vport_8c.html#a8659a5c436f2b09d0b6be2c208ee790e">ovs_vport_ops_unregister</a></div><div class="ttdeci">void ovs_vport_ops_unregister(struct vport_ops *ops)</div><div class="ttdef"><b>Definition:</b> vport.c:98</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2796063074f5d672bb389e375b744a7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __init ovs_lisp_tnl_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="linux_2vport_8c.html#a6b6d24642324a66b7bacab2909bea2dc">ovs_vport_ops_register</a>(&amp;<a class="code" href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="ttc" id="linux_2vport_8c_html_a6b6d24642324a66b7bacab2909bea2dc"><div class="ttname"><a href="linux_2vport_8c.html#a6b6d24642324a66b7bacab2909bea2dc">ovs_vport_ops_register</a></div><div class="ttdeci">int ovs_vport_ops_register(struct vport_ops *ops)</div><div class="ttdef"><b>Definition:</b> vport.c:80</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a758306cfbd9fe092cc094dbf165e5cf7"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a758306cfbd9fe092cc094dbf165e5cf7">ovs_lisp_vport_ops</a></div><div class="ttdeci">static struct vport_ops ovs_lisp_vport_ops</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:114</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7e66c2b840ffa52ae39f24fc21c0eb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tunnel_id_to_instance_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Types_8h.html#abeda791a3d43c5d6f62324752d27c8c7">__be64</a>&#160;</td>
          <td class="paramname"><em>tun_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a> *&#160;</td>
          <td class="paramname"><em>iid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#ifdef __BIG_ENDIAN</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    iid[0] = (__force <a class="code" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a>)(<a class="code" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 16);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    iid[1] = (__force <a class="code" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a>)(<a class="code" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 8);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    iid[2] = (__force <a class="code" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a>)<a class="code" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    iid[0] = (__force <a class="code" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a>)((__force <a class="code" href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)<a class="code" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 40);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    iid[1] = (__force <a class="code" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a>)((__force u64)<a class="code" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 48);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    iid[2] = (__force <a class="code" href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a>)((__force u64)<a class="code" href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a> &gt;&gt; 56);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="ttc" id="Types_8h_html_aa911bdddd3e687b0a1e1ced910c6e283"><div class="ttname"><a href="Types_8h.html#aa911bdddd3e687b0a1e1ced910c6e283">__u8</a></div><div class="ttdeci">uint8 __u8</div><div class="ttdef"><b>Definition:</b> Types.h:30</div></div>
<div class="ttc" id="datapath_2flow_8h_html_aba5027d7a3d96f0f58dd8e607365934b"><div class="ttname"><a href="datapath_2flow_8h.html#aba5027d7a3d96f0f58dd8e607365934b">tun_id</a></div><div class="ttdeci">__be64 tun_id</div><div class="ttdef"><b>Definition:</b> flow.h:717</div></div>
<div class="ttc" id="Types_8h_html_ad758b7a5c3f18ed79d2fcd23d9f16357"><div class="ttname"><a href="Types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a></div><div class="ttdeci">unsigned long long u64</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a758306cfbd9fe092cc094dbf165e5cf7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structvport__ops.html">vport_ops</a> ovs_lisp_vport_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .type           = <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99a33a2b25d9e9de2bdba0544804122e">OVS_VPORT_TYPE_LISP</a>,</div>
<div class="line">    .create         = <a class="code" href="linux_2vport-lisp_8c.html#aeaf8548971b28354b0c5b67853008ebb">lisp_tnl_create</a>,</div>
<div class="line">    .destroy        = <a class="code" href="linux_2vport-lisp_8c.html#a29757c9680cfc5547ff8b58fc9d39f57">lisp_tnl_destroy</a>,</div>
<div class="line">    .get_name       = <a class="code" href="linux_2vport-lisp_8c.html#a9b17408cfe8b9c4999729e709eda60c8">lisp_get_name</a>,</div>
<div class="line">    .get_options        = <a class="code" href="linux_2vport-lisp_8c.html#a54dce33d8291b4f7f816d882b13c3cc3">lisp_get_options</a>,</div>
<div class="line">    .send           = <a class="code" href="linux_2vport-lisp_8c.html#a3a50252974d93009f1c1204799ef7ba0">lisp_send</a>,</div>
<div class="line">    .get_egress_tun_info    = <a class="code" href="linux_2vport-lisp_8c.html#a38f0b18b384c833b501a23e942fa2a07">lisp_get_egress_tun_info</a>,</div>
<div class="line">    .owner          = THIS_MODULE,</div>
<div class="line">}</div>
<div class="ttc" id="linux_2vport-lisp_8c_html_aeaf8548971b28354b0c5b67853008ebb"><div class="ttname"><a href="linux_2vport-lisp_8c.html#aeaf8548971b28354b0c5b67853008ebb">lisp_tnl_create</a></div><div class="ttdeci">static struct vport * lisp_tnl_create(const struct vport_parms *parms)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:332</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a9b17408cfe8b9c4999729e709eda60c8"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a9b17408cfe8b9c4999729e709eda60c8">lisp_get_name</a></div><div class="ttdeci">static const char * lisp_get_name(const struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:471</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a54dce33d8291b4f7f816d882b13c3cc3"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a54dce33d8291b4f7f816d882b13c3cc3">lisp_get_options</a></div><div class="ttdeci">static int lisp_get_options(const struct vport *vport, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:314</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a29757c9680cfc5547ff8b58fc9d39f57"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a29757c9680cfc5547ff8b58fc9d39f57">lisp_tnl_destroy</a></div><div class="ttdeci">static void lisp_tnl_destroy(struct vport *vport)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:323</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99a33a2b25d9e9de2bdba0544804122e"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99a33a2b25d9e9de2bdba0544804122e">OVS_VPORT_TYPE_LISP</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:231</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a38f0b18b384c833b501a23e942fa2a07"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a38f0b18b384c833b501a23e942fa2a07">lisp_get_egress_tun_info</a></div><div class="ttdeci">static int lisp_get_egress_tun_info(struct vport *vport, struct sk_buff *skb, struct ovs_tunnel_info *egress_tun_info)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:477</div></div>
<div class="ttc" id="linux_2vport-lisp_8c_html_a3a50252974d93009f1c1204799ef7ba0"><div class="ttname"><a href="linux_2vport-lisp_8c.html#a3a50252974d93009f1c1204799ef7ba0">lisp_send</a></div><div class="ttdeci">static int lisp_send(struct vport *vport, struct sk_buff *skb)</div><div class="ttdef"><b>Definition:</b> vport-lisp.c:384</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_b037f62f7da50732bd5b5cbff7427f36.html">datapath</a></li><li class="navelem"><a class="el" href="dir_37d39714a3259ce9c8e6f54b557ec125.html">linux</a></li><li class="navelem"><a class="el" href="linux_2vport-lisp_8c.html">vport-lisp.c</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:07:26 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
