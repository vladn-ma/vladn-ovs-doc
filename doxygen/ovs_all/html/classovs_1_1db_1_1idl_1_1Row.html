<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: ovs.db.idl.Row Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classovs_1_1db_1_1idl_1_1Row.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ovs.db.idl.Row Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ovs.db.idl.Row:</div>
<div class="dyncontent">
<div class="center"><img src="classovs_1_1db_1_1idl_1_1Row__inherit__graph.png" border="0" usemap="#ovs_8db_8idl_8Row_inherit__map" alt="Inheritance graph"/></div>
<map name="ovs_8db_8idl_8Row_inherit__map" id="ovs_8db_8idl_8Row_inherit__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ovs.db.idl.Row:</div>
<div class="dyncontent">
<div class="center"><img src="classovs_1_1db_1_1idl_1_1Row__coll__graph.png" border="0" usemap="#ovs_8db_8idl_8Row_coll__map" alt="Collaboration graph"/></div>
<map name="ovs_8db_8idl_8Row_coll__map" id="ovs_8db_8idl_8Row_coll__map">
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1c104ef94df4afd536fe8fd075ab70fa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#a1c104ef94df4afd536fe8fd075ab70fa">__init__</a> (self, <a class="el" href="bridge_8c.html#a5aaeea27ea842f1e62bd5685bce44fab">idl</a>, <a class="el" href="structtable.html">table</a>, <a class="el" href="structuuid.html">uuid</a>, <a class="el" href="uniondata.html">data</a>)</td></tr>
<tr class="separator:a1c104ef94df4afd536fe8fd075ab70fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83878f9c69d353683ffd82aad1cbad4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#ad83878f9c69d353683ffd82aad1cbad4">__getattr__</a> (self, column_name)</td></tr>
<tr class="separator:ad83878f9c69d353683ffd82aad1cbad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45a4d22cd3607a62ac7148f3362365e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#ad45a4d22cd3607a62ac7148f3362365e">__setattr__</a> (self, column_name, value)</td></tr>
<tr class="separator:ad45a4d22cd3607a62ac7148f3362365e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdae3159506021e644c3080340f298a9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#afdae3159506021e644c3080340f298a9">from_json</a> (<a class="el" href="tnl-ports_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, <a class="el" href="bridge_8c.html#a5aaeea27ea842f1e62bd5685bce44fab">idl</a>, <a class="el" href="structtable.html">table</a>, <a class="el" href="structuuid.html">uuid</a>, row_json)</td></tr>
<tr class="separator:afdae3159506021e644c3080340f298a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d220b33548edf9118d61e4efdc29e55"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#a1d220b33548edf9118d61e4efdc29e55">verify</a> (self, column_name)</td></tr>
<tr class="separator:a1d220b33548edf9118d61e4efdc29e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21688d98e6c568014bc8f1488c10345a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#a21688d98e6c568014bc8f1488c10345a">delete</a> (self)</td></tr>
<tr class="separator:a21688d98e6c568014bc8f1488c10345a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae398eb7cee3c96b73b8aa51c3cccdbc7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html#ae398eb7cee3c96b73b8aa51c3cccdbc7">increment</a> (self, column_name)</td></tr>
<tr class="separator:ae398eb7cee3c96b73b8aa51c3cccdbc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A row within an IDL.

The client may access the following attributes directly:

- 'uuid': a uuid.UUID object whose value is the row's database UUID.

- An attribute for each column in the Row's table, named for the column,
  whose values are as returned by Datum.to_python() for the column's type.

  If some error occurs (e.g. the database server's idea of the column is
  different from the IDL's idea), then the attribute values is the
  "default" value return by Datum.default() for the column's type.  (It is
  important to know this because the default value may violate constraints
  for the column's type, e.g. the default integer value is 0 even if column
  contraints require the column's value to be positive.)

  When a transaction is active, column attributes may also be assigned new
  values.  Committing the transaction will then cause the new value to be
  stored into the database.

  *NOTE*: In the current implementation, the value of a column is a *copy*
  of the value in the database.  This means that modifying its value
  directly will have no useful effect.  For example, the following:
    row.mycolumn["a"] = "b"              # don't do this
  will not change anything in the database, even after commit.  To modify
  the column, instead assign the modified column value back to the column:
    d = row.mycolumn
    d["a"] = "b"
    row.mycolumn = d
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1c104ef94df4afd536fe8fd075ab70fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">def </span>__init__(self, idl, table, uuid, data):</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment"># All of the explicit references to self.__dict__ below are required</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment"># to set real attributes with invoking self.__getattr__().</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        self.__dict__[<span class="stringliteral">&quot;uuid&quot;</span>] = uuid</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        self.__dict__[<span class="stringliteral">&quot;_idl&quot;</span>] = idl</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        self.__dict__[<span class="stringliteral">&quot;_table&quot;</span>] = table</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="comment"># _data is the committed data.  It takes the following values:</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="comment">#</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="comment">#   - A dictionary that maps every column name to a Datum, if the row</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="comment">#     exists in the committed form of the database.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="comment">#</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">#   - None, if this row is newly inserted within the active transaction</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="comment">#     and thus has no committed form.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        self.__dict__[<span class="stringliteral">&quot;_data&quot;</span>] = data</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="comment"># _changes describes changes to this row within the active transaction.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="comment"># It takes the following values:</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">#</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="comment">#   - {}, the empty dictionary, if no transaction is active or if the</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">#     row has yet not been changed within this transaction.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">#</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="comment">#   - A dictionary that maps a column name to its new Datum, if an</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="comment">#     active transaction changes those columns&#39; values.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">#</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">#   - A dictionary that maps every column name to a Datum, if the row</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">#     is newly inserted within the active transaction.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">#</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="comment">#   - None, if this transaction deletes this row.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        self.__dict__[<span class="stringliteral">&quot;_changes&quot;</span>] = {}</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="comment"># A dictionary whose keys are the names of columns that must be</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment"># verified as prerequisites when the transaction commits.  The values</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment"># in the dictionary are all None.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        self.__dict__[<span class="stringliteral">&quot;_prereqs&quot;</span>] = {}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad83878f9c69d353683ffd82aad1cbad4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.__getattr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>column_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keyword">def </span>__getattr__(self, column_name):</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keyword">assert</span> self._changes <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        datum = self._changes.get(column_name)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <span class="keywordflow">if</span> datum <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <span class="keywordflow">if</span> self._data <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="keywordflow">raise</span> AttributeError(<span class="stringliteral">&quot;%s instance has no attribute &#39;%s&#39;&quot;</span> %</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                                     (self.__class__.__name__, column_name))</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            datum = self._data[column_name]</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">return</span> datum.to_python(_uuid_to_row)</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad45a4d22cd3607a62ac7148f3362365e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.__setattr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>column_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keyword">def </span>__setattr__(self, column_name, value):</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keyword">assert</span> self._changes <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keyword">assert</span> self._idl.txn</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        column = self._table.columns[column_name]</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            datum = <a class="code" href="classovs_1_1db_1_1data_1_1Datum.html#ae7ddbeaec8931477aed79503bd8e3757">ovs.db.data.Datum.from_python</a>(column.type, value,</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                                                  _row_to_uuid)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">except</span> error.Error, e:</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="comment"># XXX rate-limit</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            vlog.err(<span class="stringliteral">&quot;attempting to write bad value to column %s (%s)&quot;</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                     % (column_name, e))</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">return</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        self._idl.txn._write(self, column, datum)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="ttc" id="classovs_1_1db_1_1data_1_1Datum_html_ae7ddbeaec8931477aed79503bd8e3757"><div class="ttname"><a href="classovs_1_1db_1_1data_1_1Datum.html#ae7ddbeaec8931477aed79503bd8e3757">ovs.db.data.Datum.from_python</a></div><div class="ttdeci">def from_python(type_, value, row_to_uuid)</div><div class="ttdef"><b>Definition:</b> data.py:466</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21688d98e6c568014bc8f1488c10345a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Deletes this row from its table.

A transaction must be in progress.</pre> <div class="fragment"><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keyword">def </span>delete(self):</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Deletes this row from its table.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="stringliteral">        A transaction must be in progress.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keyword">assert</span> self._idl.txn</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keyword">assert</span> self._changes <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">if</span> self._data <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            del self._idl.txn._txn_rows[self.uuid]</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            self._idl.txn._txn_rows[self.uuid] = self</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        self.__dict__[<span class="stringliteral">&quot;_changes&quot;</span>] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        del self._table.rows[self.uuid]</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afdae3159506021e644c3080340f298a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.from_json </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>row_json</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keyword">def </span><a class="code" href="namespaceovs_1_1ovsuuid.html#a91df7aa8a77e891b866ff8f5318ce2c5">from_json</a>(cls, idl, table, uuid, row_json):</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        data = {}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">for</span> column_name, datum_json <span class="keywordflow">in</span> row_json.iteritems():</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            column = table.columns.get(column_name)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> column:</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="comment"># XXX rate-limit</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                vlog.warn(<span class="stringliteral">&quot;unknown column %s in table %s&quot;</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                          % (column_name, table.name))</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                datum = <a class="code" href="classovs_1_1db_1_1data_1_1Datum.html#ac5495f6ab5fd2987feab306d487fbf1d">ovs.db.data.Datum.from_json</a>(column.type, datum_json)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            <span class="keywordflow">except</span> error.Error, e:</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="comment"># XXX rate-limit</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                vlog.warn(<span class="stringliteral">&quot;error parsing column %s in table %s: %s&quot;</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                          % (column_name, table.name, e))</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            data[column_name] = datum</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>(idl, table, uuid, data)</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="ttc" id="namespaceovs_1_1ovsuuid_html_a91df7aa8a77e891b866ff8f5318ce2c5"><div class="ttname"><a href="namespaceovs_1_1ovsuuid.html#a91df7aa8a77e891b866ff8f5318ce2c5">ovs.ovsuuid.from_json</a></div><div class="ttdeci">def from_json</div><div class="ttdef"><b>Definition:</b> ovsuuid.py:39</div></div>
<div class="ttc" id="classovs_1_1db_1_1data_1_1Datum_html_ac5495f6ab5fd2987feab306d487fbf1d"><div class="ttname"><a href="classovs_1_1db_1_1data_1_1Datum.html#ac5495f6ab5fd2987feab306d487fbf1d">ovs.db.data.Datum.from_json</a></div><div class="ttdeci">def from_json</div><div class="ttdef"><b>Definition:</b> data.py:302</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae398eb7cee3c96b73b8aa51c3cccdbc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.increment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>column_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Causes the transaction, when committed, to increment the value of
'column_name' within this row by 1.  'column_name' must have an integer
type.  After the transaction commits successfully, the client may
retrieve the final (incremented) value of 'column_name' with
Transaction.get_increment_new_value().

The client could accomplish something similar by reading and writing
and verify()ing columns.  However, increment() will never (by itself)
cause a transaction to fail because of a verify error.

The intended use is for incrementing the "next_cfg" column in
the Open_vSwitch table.</pre> <div class="fragment"><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keyword">def </span><a class="code" href="ovs-benchmark_8c.html#a898644352876165a2cac9b42236341dd">increment</a>(self, column_name):</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Causes the transaction, when committed, to increment the value of</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="stringliteral">        &#39;column_name&#39; within this row by 1.  &#39;column_name&#39; must have an integer</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="stringliteral">        type.  After the transaction commits successfully, the client may</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="stringliteral">        retrieve the final (incremented) value of &#39;column_name&#39; with</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="stringliteral">        Transaction.get_increment_new_value().</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="stringliteral">        The client could accomplish something similar by reading and writing</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="stringliteral">        and verify()ing columns.  However, increment() will never (by itself)</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="stringliteral">        cause a transaction to fail because of a verify error.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="stringliteral">        The intended use is for incrementing the &quot;next_cfg&quot; column in</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="stringliteral">        the Open_vSwitch table.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        self._idl.txn._increment(self, column_name)</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="ttc" id="ovs-benchmark_8c_html_a898644352876165a2cac9b42236341dd"><div class="ttname"><a href="ovs-benchmark_8c.html#a898644352876165a2cac9b42236341dd">increment</a></div><div class="ttdeci">static bool increment(unsigned short int *value, unsigned short int min, unsigned short int max)</div><div class="ttdef"><b>Definition:</b> ovs-benchmark.c:328</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1d220b33548edf9118d61e4efdc29e55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ovs.db.idl.Row.verify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>column_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Causes the original contents of column 'column_name' in this row to
be verified as a prerequisite to completing the transaction.  That is,
if 'column_name' changed in this row (or if this row was deleted)
between the time that the IDL originally read its contents and the time
that the transaction commits, then the transaction aborts and
Transaction.commit() returns Transaction.TRY_AGAIN.

The intention is that, to ensure that no transaction commits based on
dirty reads, an application should call Row.verify() on each data item
read as part of a read-modify-write operation.

In some cases Row.verify() reduces to a no-op, because the current
value of the column is already known:

  - If this row is a row created by the current transaction (returned
    by Transaction.insert()).

  - If the column has already been modified within the current
    transaction.

Because of the latter property, always call Row.verify() *before*
modifying the column, for a given read-modify-write.

A transaction must be in progress.</pre> <div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keyword">def </span>verify(self, column_name):</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Causes the original contents of column &#39;column_name&#39; in this row to</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="stringliteral">        be verified as a prerequisite to completing the transaction.  That is,</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="stringliteral">        if &#39;column_name&#39; changed in this row (or if this row was deleted)</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="stringliteral">        between the time that the IDL originally read its contents and the time</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="stringliteral">        that the transaction commits, then the transaction aborts and</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="stringliteral">        Transaction.commit() returns Transaction.TRY_AGAIN.</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="stringliteral">        The intention is that, to ensure that no transaction commits based on</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="stringliteral">        dirty reads, an application should call Row.verify() on each data item</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="stringliteral">        read as part of a read-modify-write operation.</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="stringliteral">        In some cases Row.verify() reduces to a no-op, because the current</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="stringliteral">        value of the column is already known:</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="stringliteral">          - If this row is a row created by the current transaction (returned</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="stringliteral">            by Transaction.insert()).</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="stringliteral">          - If the column has already been modified within the current</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="stringliteral">            transaction.</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="stringliteral">        Because of the latter property, always call Row.verify() *before*</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="stringliteral">        modifying the column, for a given read-modify-write.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="stringliteral">        A transaction must be in progress.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keyword">assert</span> self._idl.txn</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keyword">assert</span> self._changes <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._data <span class="keywordflow">or</span> column_name <span class="keywordflow">in</span> self._changes:</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">return</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        self._prereqs[column_name] = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/vladn/git/ovs/python/ovs/db/<a class="el" href="idl_8py.html">idl.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceovs.html">ovs</a></li><li class="navelem"><a class="el" href="namespaceovs_1_1db.html">db</a></li><li class="navelem"><a class="el" href="namespaceovs_1_1db_1_1idl.html">idl</a></li><li class="navelem"><a class="el" href="classovs_1_1db_1_1idl_1_1Row.html">Row</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:08:09 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
