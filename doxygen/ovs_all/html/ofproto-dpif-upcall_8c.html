<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/ofproto/ofproto-dpif-upcall.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ofproto-dpif-upcall_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ofproto-dpif-upcall.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="config_8h_source.html">config.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="ofproto-dpif-upcall_8h_source.html">ofproto-dpif-upcall.h</a>&quot;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &quot;<a class="el" href="connmgr_8h_source.html">connmgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="coverage_8h_source.html">coverage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cmap_8h_source.html">cmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dpif_8h_source.html">dpif.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dynamic-string_8h_source.html">dynamic-string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fail-open_8h_source.html">fail-open.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="guarded-list_8h_source.html">guarded-list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="latch_8h_source.html">latch.h</a>&quot;</code><br />
<code>#include &quot;list.h&quot;</code><br />
<code>#include &quot;netlink.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ofpbuf_8h_source.html">ofpbuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ofproto-dpif-ipfix_8h_source.html">ofproto-dpif-ipfix.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ofproto-dpif-sflow_8h_source.html">ofproto-dpif-sflow.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ofproto-dpif-xlate_8h_source.html">ofproto-dpif-xlate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ovs-rcu_8h_source.html">ovs-rcu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="packets_8h_source.html">packets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="poll-loop_8h_source.html">poll-loop.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="seq_8h_source.html">seq.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unixctl_8h_source.html">unixctl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vlog_8h_source.html">openvswitch/vlog.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ofproto-dpif-upcall.c:</div>
<div class="dyncontent">
<div class="center"><img src="ofproto-dpif-upcall_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2ofproto_2ofproto-dpif-upcall_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2ofproto_2ofproto-dpif-upcall_8c" id="_2home_2vladn_2git_2ovs_2ofproto_2ofproto-dpif-upcall_8c">
<area shape="rect" id="node2" href="config_8h.html" title="config.h" alt="" coords="5,109,73,136"/><area shape="rect" id="node3" href="ofproto-dpif-upcall_8h.html" title="ofproto&#45;dpif&#45;upcall.h" alt="" coords="2129,184,2265,211"/><area shape="rect" id="node8" href="connmgr_8h.html" title="connmgr.h" alt="" coords="1017,109,1099,136"/><area shape="rect" id="node10" href="cmap_8h.html" title="cmap.h" alt="" coords="251,408,316,435"/><area shape="rect" id="node12" href="ovs-rcu_8h.html" title="ovs&#45;rcu.h" alt="" coords="149,483,225,509"/><area shape="rect" id="node19" href="packets_8h.html" title="packets.h" alt="" coords="757,483,836,509"/><area shape="rect" id="node30" href="guarded-list_8h.html" title="guarded&#45;list.h" alt="" coords="1264,408,1364,435"/><area shape="rect" id="node32" href="coverage_8h.html" title="coverage.h" alt="" coords="544,408,631,435"/><area shape="rect" id="node33" href="dpif_8h.html" title="dpif.h" alt="" coords="1832,333,1887,360"/><area shape="rect" id="node36" href="dynamic-string_8h.html" title="dynamic&#45;string.h" alt="" coords="2928,557,3047,584"/><area shape="rect" id="node38" href="fail-open_8h.html" title="fail&#45;open.h" alt="" coords="3143,109,3226,136"/><area shape="rect" id="node39" href="latch_8h.html" title="latch.h" alt="" coords="2527,483,2589,509"/><area shape="rect" id="node41" href="ofpbuf_8h.html" title="ofpbuf.h" alt="" coords="1170,408,1239,435"/><area shape="rect" id="node42" href="ofproto-dpif-ipfix_8h.html" title="ofproto&#45;dpif&#45;ipfix.h" alt="" coords="2755,333,2881,360"/><area shape="rect" id="node44" href="ofproto-dpif-sflow_8h.html" title="ofproto&#45;dpif&#45;sflow.h" alt="" coords="2597,333,2730,360"/><area shape="rect" id="node46" href="ofproto-dpif-xlate_8h.html" title="ofproto&#45;dpif&#45;xlate.h" alt="" coords="1317,184,1447,211"/><area shape="rect" id="node47" href="poll-loop_8h.html" title="poll&#45;loop.h" alt="" coords="369,259,451,285"/><area shape="rect" id="node48" href="seq_8h.html" title="seq.h" alt="" coords="2917,483,2972,509"/><area shape="rect" id="node49" href="unixctl_8h.html" title="unixctl.h" alt="" coords="3301,109,3372,136"/><area shape="rect" id="node50" href="vlog_8h.html" title="openvswitch/vlog.h" alt="" coords="3071,557,3205,584"/><area shape="rect" id="node4" href="stddef_8h.html" title="stddef.h" alt="" coords="1510,632,1579,659"/><area shape="rect" id="node9" href="classifier_8h.html" title="classifier.h" alt="" coords="731,333,817,360"/><area shape="rect" id="node17" href="include_2openvswitch_2types_8h.html" title="openvswitch/types.h" alt="" coords="485,632,628,659"/><area shape="rect" id="node18" href="match_8h.html" title="match.h" alt="" coords="655,408,725,435"/><area shape="rect" id="node20" href="hmap_8h.html" title="hmap.h" alt="" coords="2387,483,2452,509"/><area shape="rect" id="node22" href="ofp-errors_8h.html" title="ofp&#45;errors.h" alt="" coords="1439,408,1527,435"/><area shape="rect" id="node24" href="ofp-util_8h.html" title="ofp&#45;util.h" alt="" coords="894,333,966,360"/><area shape="rect" id="node27" href="nicira-ext_8h.html" title="openflow/nicira&#45;ext.h" alt="" coords="749,408,892,435"/><area shape="rect" id="node28" href="ofproto_8h.html" title="ofproto.h" alt="" coords="1045,259,1119,285"/><area shape="rect" id="node29" href="ofproto-provider_8h.html" title="ofproto&#45;provider.h" alt="" coords="1095,184,1218,211"/><area shape="rect" id="node14" href="lib_2util_8h.html" title="util.h" alt="" coords="1375,557,1426,584"/><area shape="rect" id="node13" href="lib_2compiler_8h.html" title="compiler.h" alt="" coords="982,632,1065,659"/><area shape="rect" id="node16" href="stdio_8h.html" title="stdio.h" alt="" coords="2255,632,2317,659"/><area shape="rect" id="node23" href="openflow_8h.html" title="openflow/openflow.h" alt="" coords="1511,483,1653,509"/><area shape="rect" id="node25" href="lib_2list_8h.html" title="list.h" alt="" coords="1386,483,1437,509"/><area shape="rect" id="node26" href="netdev_8h.html" title="netdev.h" alt="" coords="1806,408,1878,435"/><area shape="rect" id="node31" href="ovs-thread_8h.html" title="ovs&#45;thread.h" alt="" coords="963,483,1057,509"/><area shape="rect" id="node34" href="dp-packet_8h.html" title="dp&#45;packet.h" alt="" coords="1551,408,1642,435"/><area shape="rect" id="node35" href="ovs-numa_8h.html" title="ovs&#45;numa.h" alt="" coords="1902,408,1993,435"/><area shape="rect" id="node37" href="time_8h.html" title="time.h" alt="" coords="3078,632,3137,659"/><area shape="rect" id="node43" href="odp-util_8h.html" title="lib/odp&#45;util.h" alt="" coords="2387,408,2479,435"/><area shape="rect" id="node45" href="svec_8h.html" title="svec.h" alt="" coords="2538,557,2599,584"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhandler.html">handler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structumap.html">umap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrevalidator.html">revalidator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structudpif.html">udpif</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupcall.html">upcall</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structudpif__key.html">udpif_key</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structukey__op.html">ukey_op</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a984a1fb71ddc8e691fb1255072d2ec46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a984a1fb71ddc8e691fb1255072d2ec46">MAX_QUEUE_LENGTH</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:a984a1fb71ddc8e691fb1255072d2ec46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefef3f9352e50aeddf53d36bd71477c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:aaefef3f9352e50aeddf53d36bd71477c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6deb9dcf66414a28e87ba85974b63701"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a6deb9dcf66414a28e87ba85974b63701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a125f021693d2915283c28e11900178"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>&#160;&#160;&#160;512 /* per udpif. */</td></tr>
<tr class="separator:a2a125f021693d2915283c28e11900178"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aaf80d62f7bf897ea29ef5a05135ccebf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebf">upcall_type</a> { <br />
&#160;&#160;<a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>, 
<a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a>, 
<a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a>, 
<a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a>, 
<br />
&#160;&#160;<a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a>
<br />
 }</td></tr>
<tr class="separator:aaf80d62f7bf897ea29ef5a05135ccebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a157ae3ab3e75e04fb0a6e82563b70"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a> { <a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>, 
<a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>, 
<a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a>
 }</td></tr>
<tr class="separator:a11a157ae3ab3e75e04fb0a6e82563b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a59e99b847a2ecd33190cb861bb795223"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a59e99b847a2ecd33190cb861bb795223">VLOG_DEFINE_THIS_MODULE</a> (ofproto_dpif_upcall)</td></tr>
<tr class="separator:a59e99b847a2ecd33190cb861bb795223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22a80228b5982be3fafd66328e7ab04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ad22a80228b5982be3fafd66328e7ab04">COVERAGE_DEFINE</a> (dumped_duplicate_flow)</td></tr>
<tr class="separator:ad22a80228b5982be3fafd66328e7ab04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e35c2dcdf213114c314b36600908b01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a5e35c2dcdf213114c314b36600908b01">COVERAGE_DEFINE</a> (dumped_new_flow)</td></tr>
<tr class="separator:a5e35c2dcdf213114c314b36600908b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed95e4dab9c0c4c66dcb2f09aaecea5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aed95e4dab9c0c4c66dcb2f09aaecea5b">COVERAGE_DEFINE</a> (handler_duplicate_upcall)</td></tr>
<tr class="separator:aed95e4dab9c0c4c66dcb2f09aaecea5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0fd90d6ec619c30269c69196ab1d22b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aa0fd90d6ec619c30269c69196ab1d22b">COVERAGE_DEFINE</a> (upcall_ukey_contention)</td></tr>
<tr class="separator:aa0fd90d6ec619c30269c69196ab1d22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab633f998972acc0dadbc43fafe231db6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ab633f998972acc0dadbc43fafe231db6">COVERAGE_DEFINE</a> (revalidate_missed_dp_flow)</td></tr>
<tr class="separator:ab633f998972acc0dadbc43fafe231db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3914ac3789024eefed86caac43f6ebc0"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a3914ac3789024eefed86caac43f6ebc0">recv_upcalls</a> (struct <a class="el" href="structhandler.html">handler</a> *)</td></tr>
<tr class="separator:a3914ac3789024eefed86caac43f6ebc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ed439ca184252dd86a64e4f4775a63"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ab2ed439ca184252dd86a64e4f4775a63">process_upcall</a> (struct <a class="el" href="structudpif.html">udpif</a> *, struct <a class="el" href="structupcall.html">upcall</a> *, struct <a class="el" href="structofpbuf.html">ofpbuf</a> *odp_actions, struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *)</td></tr>
<tr class="separator:ab2ed439ca184252dd86a64e4f4775a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff5f45f0ab3792f7b2601aad689c8f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a0ff5f45f0ab3792f7b2601aad689c8f9">handle_upcalls</a> (struct <a class="el" href="structudpif.html">udpif</a> *, struct <a class="el" href="structupcall.html">upcall</a> *, size_t n_upcalls)</td></tr>
<tr class="separator:a0ff5f45f0ab3792f7b2601aad689c8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e09eb986da2c0342131a0801537aa8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a> (struct <a class="el" href="structudpif.html">udpif</a> *)</td></tr>
<tr class="separator:a51e09eb986da2c0342131a0801537aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b7d948c5fb2996817e1ffb787a8721"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a> (struct <a class="el" href="structudpif.html">udpif</a> *, size_t <a class="el" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a>, size_t <a class="el" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>)</td></tr>
<tr class="separator:ab5b7d948c5fb2996817e1ffb787a8721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5824f16d4d530399a8cd859cfa3da20"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ac5824f16d4d530399a8cd859cfa3da20">udpif_pause_revalidators</a> (struct <a class="el" href="structudpif.html">udpif</a> *)</td></tr>
<tr class="separator:ac5824f16d4d530399a8cd859cfa3da20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac94c4ec0bd8b47739077a4f0d386eb97"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ac94c4ec0bd8b47739077a4f0d386eb97">udpif_resume_revalidators</a> (struct <a class="el" href="structudpif.html">udpif</a> *)</td></tr>
<tr class="separator:ac94c4ec0bd8b47739077a4f0d386eb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae605fd7c6a217759ee4cd6aa31b23daf"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ae605fd7c6a217759ee4cd6aa31b23daf">udpif_upcall_handler</a> (void *)</td></tr>
<tr class="separator:ae605fd7c6a217759ee4cd6aa31b23daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714676477029eb7fe9aa93930fef64dd"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a714676477029eb7fe9aa93930fef64dd">udpif_revalidator</a> (void *)</td></tr>
<tr class="separator:a714676477029eb7fe9aa93930fef64dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a52c113018932b24a5d87ff9becc04f"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a> (struct <a class="el" href="structudpif.html">udpif</a> *)</td></tr>
<tr class="separator:a7a52c113018932b24a5d87ff9becc04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3901476e9d5bd1dd29749b491a01467a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a3901476e9d5bd1dd29749b491a01467a">revalidate</a> (struct <a class="el" href="structrevalidator.html">revalidator</a> *)</td></tr>
<tr class="separator:a3901476e9d5bd1dd29749b491a01467a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee8fe970b1de29863e64bfcdc188e1a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a8ee8fe970b1de29863e64bfcdc188e1a">revalidator_pause</a> (struct <a class="el" href="structrevalidator.html">revalidator</a> *)</td></tr>
<tr class="separator:a8ee8fe970b1de29863e64bfcdc188e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cbdeadb892bc5412cd3ce594f468fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a21cbdeadb892bc5412cd3ce594f468fa">revalidator_sweep</a> (struct <a class="el" href="structrevalidator.html">revalidator</a> *)</td></tr>
<tr class="separator:a21cbdeadb892bc5412cd3ce594f468fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a3df173f9cffeb341ec6002e23616a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ab0a3df173f9cffeb341ec6002e23616a">revalidator_purge</a> (struct <a class="el" href="structrevalidator.html">revalidator</a> *)</td></tr>
<tr class="separator:ab0a3df173f9cffeb341ec6002e23616a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fd2f3139d0e274c5ed884329765d81"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ad6fd2f3139d0e274c5ed884329765d81">upcall_unixctl_show</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:ad6fd2f3139d0e274c5ed884329765d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf1877b9a01c1b3e1343237d3d28bb6a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#adf1877b9a01c1b3e1343237d3d28bb6a">upcall_unixctl_disable_megaflows</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:adf1877b9a01c1b3e1343237d3d28bb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc80da5c571b63c5ac22845c323740e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a5bc80da5c571b63c5ac22845c323740e">upcall_unixctl_enable_megaflows</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:a5bc80da5c571b63c5ac22845c323740e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d58387ee947ca07b70cad5b0f5906f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a67d58387ee947ca07b70cad5b0f5906f">upcall_unixctl_disable_ufid</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:a67d58387ee947ca07b70cad5b0f5906f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5653339416cecea196cda34a7720d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a8a5653339416cecea196cda34a7720d6">upcall_unixctl_enable_ufid</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:a8a5653339416cecea196cda34a7720d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675256e5853f88d44c9388e81a6f0404"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a675256e5853f88d44c9388e81a6f0404">upcall_unixctl_set_flow_limit</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:a675256e5853f88d44c9388e81a6f0404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b76583b1643d7a049b69059885be620"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a2b76583b1643d7a049b69059885be620">upcall_unixctl_dump_wait</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:a2b76583b1643d7a049b69059885be620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeeb28abdcbf07e1cfc1c00b30318e3f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aaeeb28abdcbf07e1cfc1c00b30318e3f">upcall_unixctl_purge</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc, const char *argv[], void *aux)</td></tr>
<tr class="separator:aaeeb28abdcbf07e1cfc1c00b30318e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5acf3ed7c69e2644fc3cfed6afc74c1d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a5acf3ed7c69e2644fc3cfed6afc74c1d">ukey_create_from_upcall</a> (struct <a class="el" href="structupcall.html">upcall</a> *, struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *)</td></tr>
<tr class="separator:a5acf3ed7c69e2644fc3cfed6afc74c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb6d78a5fc22b5fab4b69b9fa5b1a8d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a7eb6d78a5fc22b5fab4b69b9fa5b1a8d">ukey_create_from_dpif_flow</a> (const struct <a class="el" href="structudpif.html">udpif</a> *, const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *, struct <a class="el" href="structudpif__key.html">udpif_key</a> **)</td></tr>
<tr class="separator:a7eb6d78a5fc22b5fab4b69b9fa5b1a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0755bff0105fdf5ffc57c0cfbb7cf2e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a> (struct <a class="el" href="structudpif__key.html">udpif_key</a> *, const struct <a class="el" href="structnlattr.html">nlattr</a> **actions, size_t *size)</td></tr>
<tr class="separator:ae0755bff0105fdf5ffc57c0cfbb7cf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656fa5f1daf3f8a4fb6c17e147503b04"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a> (struct <a class="el" href="structudpif.html">udpif</a> *, struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey)</td></tr>
<tr class="separator:a656fa5f1daf3f8a4fb6c17e147503b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74bf4468d0d2552bb94aef623c1727c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ad74bf4468d0d2552bb94aef623c1727c">ukey_install_finish</a> (struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey, int <a class="el" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>)</td></tr>
<tr class="separator:ad74bf4468d0d2552bb94aef623c1727c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab6acc7e50df153d3c3d02145284537"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#afab6acc7e50df153d3c3d02145284537">ukey_install</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey)</td></tr>
<tr class="separator:afab6acc7e50df153d3c3d02145284537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56ea9de515c982b2bfd9ba9fbcd86bc"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, const <a class="el" href="unionovs__u128.html">ovs_u128</a> *ufid)</td></tr>
<tr class="separator:aa56ea9de515c982b2bfd9ba9fbcd86bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d416780bbff335b0e0cc5ddde92602"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a77d416780bbff335b0e0cc5ddde92602">ukey_acquire</a> (struct <a class="el" href="structudpif.html">udpif</a> *, const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *, struct <a class="el" href="structudpif__key.html">udpif_key</a> **result, int *<a class="el" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>)</td></tr>
<tr class="separator:a77d416780bbff335b0e0cc5ddde92602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81a6f662506ffa9a27374a3fd37f12e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a> (struct <a class="el" href="structudpif__key.html">udpif_key</a> *)</td></tr>
<tr class="separator:aa81a6f662506ffa9a27374a3fd37f12e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142c73b7f70ef1adc2687af7d266d8b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a142c73b7f70ef1adc2687af7d266d8b8">ukey_delete</a> (struct <a class="el" href="structumap.html">umap</a> *, struct <a class="el" href="structudpif__key.html">udpif_key</a> *)</td></tr>
<tr class="separator:a142c73b7f70ef1adc2687af7d266d8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c310756d5ceb1a77cf1fe434fdf9bf"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebf">upcall_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a99c310756d5ceb1a77cf1fe434fdf9bf">classify_upcall</a> (enum <a class="el" href="dpif_8h.html#a012cba59c2368e2699682c19f818487f">dpif_upcall_type</a> <a class="el" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, const struct <a class="el" href="structnlattr.html">nlattr</a> *userdata)</td></tr>
<tr class="separator:a99c310756d5ceb1a77cf1fe434fdf9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16985a80cfbcf776a0eadc0a380af61"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#af16985a80cfbcf776a0eadc0a380af61">upcall_receive</a> (struct <a class="el" href="structupcall.html">upcall</a> *, const struct <a class="el" href="structdpif__backer.html">dpif_backer</a> *, const struct <a class="el" href="structdp__packet.html">dp_packet</a> *<a class="el" href="structpacket.html">packet</a>, enum <a class="el" href="dpif_8h.html#a012cba59c2368e2699682c19f818487f">dpif_upcall_type</a>, const struct <a class="el" href="structnlattr.html">nlattr</a> *userdata, const struct <a class="el" href="structflow.html">flow</a> *, const <a class="el" href="unionovs__u128.html">ovs_u128</a> *ufid, const unsigned pmd_id)</td></tr>
<tr class="separator:af16985a80cfbcf776a0eadc0a380af61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b09d8fba3d50cf3e90e9ca30efd76f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ad0b09d8fba3d50cf3e90e9ca30efd76f">upcall_uninit</a> (struct <a class="el" href="structupcall.html">upcall</a> *)</td></tr>
<tr class="separator:ad0b09d8fba3d50cf3e90e9ca30efd76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465079e9f07a096641b107bc8099087f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a465079e9f07a096641b107bc8099087f">udpif_init</a> (void)</td></tr>
<tr class="separator:a465079e9f07a096641b107bc8099087f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab66cf0fd8918c544d2e3e1f2b5f048a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aab66cf0fd8918c544d2e3e1f2b5f048a">udpif_create</a> (struct <a class="el" href="structdpif__backer.html">dpif_backer</a> *backer, struct <a class="el" href="structdpif.html">dpif</a> *<a class="el" href="structdpif.html">dpif</a>)</td></tr>
<tr class="separator:aab66cf0fd8918c544d2e3e1f2b5f048a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba876b4f0ecdab2c7963e54bc5335e8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aba876b4f0ecdab2c7963e54bc5335e8e">udpif_run</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:aba876b4f0ecdab2c7963e54bc5335e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06e72370ea95f8b465ff10af4806a045"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a06e72370ea95f8b465ff10af4806a045">udpif_destroy</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:a06e72370ea95f8b465ff10af4806a045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c76285a546fc69b4910eeebde8805fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a7c76285a546fc69b4910eeebde8805fe">udpif_set_threads</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, size_t <a class="el" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a>, size_t <a class="el" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>)</td></tr>
<tr class="separator:a7c76285a546fc69b4910eeebde8805fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73b65d0cd7ca81bbd88a313f4c39dbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ae73b65d0cd7ca81bbd88a313f4c39dbc">udpif_synchronize</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:ae73b65d0cd7ca81bbd88a313f4c39dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6590e2b109068dcb3cf79d1f1007a86d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a6590e2b109068dcb3cf79d1f1007a86d">udpif_revalidate</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:a6590e2b109068dcb3cf79d1f1007a86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c2c76d559428f7bfd727e450a8c6e0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structseq.html">seq</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a79c2c76d559428f7bfd727e450a8c6e0">udpif_dump_seq</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:a79c2c76d559428f7bfd727e450a8c6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285b0debb6de6387f958d984ee6c7544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a285b0debb6de6387f958d984ee6c7544">udpif_get_memory_usage</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structsimap.html">simap</a> *<a class="el" href="vtep-ctl_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f">usage</a>)</td></tr>
<tr class="separator:a285b0debb6de6387f958d984ee6c7544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8430825afcde1cb12199bf0d8da38eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ab8430825afcde1cb12199bf0d8da38eb">udpif_flush</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:ab8430825afcde1cb12199bf0d8da38eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae85c4a34f3c8514aa4b174e3c7447e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#adae85c4a34f3c8514aa4b174e3c7447e">udpif_flush_all_datapaths</a> (void)</td></tr>
<tr class="separator:adae85c4a34f3c8514aa4b174e3c7447e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58404e5162804b6a562800c477cd990"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>)</td></tr>
<tr class="separator:ae58404e5162804b6a562800c477cd990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc645662d87fb92cf6ac6eeca4ccc2af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#abc645662d87fb92cf6ac6eeca4ccc2af">compose_slow_path</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structxlate__out.html">xlate_out</a> *xout, const struct <a class="el" href="structflow.html">flow</a> *<a class="el" href="structflow.html">flow</a>, <a class="el" href="include_2openvswitch_2types_8h.html#a8ec89192f43ad3253862b05639ae356f">odp_port_t</a> odp_in_port, struct <a class="el" href="structofpbuf.html">ofpbuf</a> *buf)</td></tr>
<tr class="separator:abc645662d87fb92cf6ac6eeca4ccc2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e18c945c4d8b7e38e6b1600d1723bf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a77e18c945c4d8b7e38e6b1600d1723bf">upcall_xlate</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structupcall.html">upcall</a> *<a class="el" href="structupcall.html">upcall</a>, struct <a class="el" href="structofpbuf.html">ofpbuf</a> *odp_actions, struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *wc)</td></tr>
<tr class="separator:a77e18c945c4d8b7e38e6b1600d1723bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91213d9a1baf18297c234f21f40c2a1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ae91213d9a1baf18297c234f21f40c2a1">upcall_cb</a> (const struct <a class="el" href="structdp__packet.html">dp_packet</a> *<a class="el" href="structpacket.html">packet</a>, const struct <a class="el" href="structflow.html">flow</a> *<a class="el" href="structflow.html">flow</a>, <a class="el" href="unionovs__u128.html">ovs_u128</a> *ufid, unsigned pmd_id, enum <a class="el" href="dpif_8h.html#a012cba59c2368e2699682c19f818487f">dpif_upcall_type</a> <a class="el" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, const struct <a class="el" href="structnlattr.html">nlattr</a> *userdata, struct <a class="el" href="structofpbuf.html">ofpbuf</a> *actions, struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *wc, struct <a class="el" href="structofpbuf.html">ofpbuf</a> *put_actions, void *aux)</td></tr>
<tr class="separator:ae91213d9a1baf18297c234f21f40c2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf61d3aedf7fd5a5c82c0e77a579249e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#abf61d3aedf7fd5a5c82c0e77a579249e">get_ufid_hash</a> (const <a class="el" href="unionovs__u128.html">ovs_u128</a> *ufid)</td></tr>
<tr class="separator:abf61d3aedf7fd5a5c82c0e77a579249e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b78021109c711538d601ef8e95de55"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a> (struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey, const struct <a class="el" href="structofpbuf.html">ofpbuf</a> *actions)</td></tr>
<tr class="separator:a39b78021109c711538d601ef8e95de55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74fe5663db2d1cdde69c6102eab10f30"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a74fe5663db2d1cdde69c6102eab10f30">ukey_create__</a> (const struct <a class="el" href="structnlattr.html">nlattr</a> *<a class="el" href="uuid_8c.html#ac7bb0c346c8ea34e241d12fcba77c4bb">key</a>, size_t key_len, const struct <a class="el" href="structnlattr.html">nlattr</a> *mask, size_t mask_len, <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> ufid_present, const <a class="el" href="unionovs__u128.html">ovs_u128</a> *ufid, const unsigned pmd_id, const struct <a class="el" href="structofpbuf.html">ofpbuf</a> *actions, <a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> dump_seq, <a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> reval_seq, long long int used, const struct <a class="el" href="structrecirc__id__node.html">recirc_id_node</a> *key_recirc, struct <a class="el" href="structxlate__out.html">xlate_out</a> *xout) <a class="el" href="include_2openvswitch_2compiler_8h.html#a1489f8a548cc71ccdf1bd9a898d56c97">OVS_NO_THREAD_SAFETY_ANALYSIS</a></td></tr>
<tr class="separator:a74fe5663db2d1cdde69c6102eab10f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf662e5cebb5b1ace26be16b069e0983"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aaf662e5cebb5b1ace26be16b069e0983">if</a> (<a class="el" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>)</td></tr>
<tr class="separator:aaf662e5cebb5b1ace26be16b069e0983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dd90ae8c17be2e89ac4fe2baea9173"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a26dd90ae8c17be2e89ac4fe2baea9173">ukey_install_finish__</a> (struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey) <a class="el" href="include_2openvswitch_2compiler_8h.html#ac8f34b6221dc9a262ef7892abb50da03">OVS_REQUIRES</a>(ukey-&gt; <a class="el" href="system-stats_8c.html#a135ec0fe74b73e8bf4c004455962809e">mutex</a>)</td></tr>
<tr class="separator:a26dd90ae8c17be2e89ac4fe2baea9173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c522b45f733b8516b365d9b8fc6fb0d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a5c522b45f733b8516b365d9b8fc6fb0d">should_revalidate</a> (const struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, <a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> packets, long long int used)</td></tr>
<tr class="separator:a5c522b45f733b8516b365d9b8fc6fb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecbd0ccb0d6d8605ff2a9a5276839f97"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aecbd0ccb0d6d8605ff2a9a5276839f97">revalidate_ukey</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey, const struct <a class="el" href="structdpif__flow__stats.html">dpif_flow_stats</a> *stats, struct <a class="el" href="structofpbuf.html">ofpbuf</a> *odp_actions, <a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> reval_seq) <a class="el" href="include_2openvswitch_2compiler_8h.html#ac8f34b6221dc9a262ef7892abb50da03">OVS_REQUIRES</a>(ukey-&gt; <a class="el" href="system-stats_8c.html#a135ec0fe74b73e8bf4c004455962809e">mutex</a>)</td></tr>
<tr class="separator:aecbd0ccb0d6d8605ff2a9a5276839f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf499bfbba83ffe331fd5a42c2370867"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#abf499bfbba83ffe331fd5a42c2370867">delete_op_init__</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structukey__op.html">ukey_op</a> *op, const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *<a class="el" href="structflow.html">flow</a>)</td></tr>
<tr class="separator:abf499bfbba83ffe331fd5a42c2370867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841bdc0c5d808e8657b25c33203ac6c0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structukey__op.html">ukey_op</a> *op, struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey)</td></tr>
<tr class="separator:a841bdc0c5d808e8657b25c33203ac6c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8778258277bfb3f4c4f79286ede85b8d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a8778258277bfb3f4c4f79286ede85b8d">modify_op_init</a> (struct <a class="el" href="structukey__op.html">ukey_op</a> *op, struct <a class="el" href="structudpif__key.html">udpif_key</a> *ukey)</td></tr>
<tr class="separator:a8778258277bfb3f4c4f79286ede85b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71f3f1abeb1b276981a5e52793340dbb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a71f3f1abeb1b276981a5e52793340dbb">push_ukey_ops__</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structukey__op.html">ukey_op</a> *ops, size_t n_ops)</td></tr>
<tr class="separator:a71f3f1abeb1b276981a5e52793340dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef0531b8c7f46e04dcec9bec6437607"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a> (struct <a class="el" href="structudpif.html">udpif</a> *<a class="el" href="structudpif.html">udpif</a>, struct <a class="el" href="structumap.html">umap</a> *<a class="el" href="structumap.html">umap</a>, struct <a class="el" href="structukey__op.html">ukey_op</a> *ops, size_t n_ops)</td></tr>
<tr class="separator:a7ef0531b8c7f46e04dcec9bec6437607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe58d7bd09d4f273e889062370491aa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aefe58d7bd09d4f273e889062370491aa">log_unexpected_flow</a> (const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *<a class="el" href="structflow.html">flow</a>, int <a class="el" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>)</td></tr>
<tr class="separator:aefe58d7bd09d4f273e889062370491aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e04c9184b55df894baa86603aa1f555"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a4e04c9184b55df894baa86603aa1f555">revalidator_sweep__</a> (struct <a class="el" href="structrevalidator.html">revalidator</a> *<a class="el" href="structrevalidator.html">revalidator</a>, <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> purge)</td></tr>
<tr class="separator:a4e04c9184b55df894baa86603aa1f555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516eafceb4f4588d6db7ee346971752c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a516eafceb4f4588d6db7ee346971752c">dp_purge_cb</a> (void *aux, unsigned pmd_id)</td></tr>
<tr class="separator:a516eafceb4f4588d6db7ee346971752c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffa5aa6b2b3d9f513a212c3d271622b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a8ffa5aa6b2b3d9f513a212c3d271622b">upcall_unixctl_show</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:a8ffa5aa6b2b3d9f513a212c3d271622b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4586a2a1310aacbce59fdaa0bc500962"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a4586a2a1310aacbce59fdaa0bc500962">upcall_unixctl_disable_megaflows</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:a4586a2a1310aacbce59fdaa0bc500962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53fa7510ccc994dd1601889892c8ea8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ad53fa7510ccc994dd1601889892c8ea8">upcall_unixctl_enable_megaflows</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:ad53fa7510ccc994dd1601889892c8ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106c9c5b9387d629eca867fc16030465"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a106c9c5b9387d629eca867fc16030465">upcall_unixctl_disable_ufid</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:a106c9c5b9387d629eca867fc16030465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb4c1afd0c573f4d1951a726d63a10f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#abdb4c1afd0c573f4d1951a726d63a10f">upcall_unixctl_enable_ufid</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:abdb4c1afd0c573f4d1951a726d63a10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1284f4e969ab3b6cbcdb4e5281cc631e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a1284f4e969ab3b6cbcdb4e5281cc631e">upcall_unixctl_set_flow_limit</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:a1284f4e969ab3b6cbcdb4e5281cc631e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1664611946c54095186761120171fef2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a1664611946c54095186761120171fef2">upcall_unixctl_dump_wait</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:a1664611946c54095186761120171fef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af415b84832947c7456efd327191ec8a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#af415b84832947c7456efd327191ec8a1">upcall_unixctl_purge</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:af415b84832947c7456efd327191ec8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5c9348c27442ef5e4a96246373ad6c6b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvlog__rate__limit.html">vlog_rate_limit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a> = <a class="el" href="vlog_8h.html#acf0c288e03cbc9a98df73db8698abdd8">VLOG_RATE_LIMIT_INIT</a>(1, 5)</td></tr>
<tr class="separator:a5c9348c27442ef5e4a96246373ad6c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085b30803ccb04a25fb842f8ef755619"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structovs__list.html">ovs_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a> = <a class="el" href="include_2openvswitch_2list_8h.html#a1b74de566d699423f98eab237234dba3">OVS_LIST_INITIALIZER</a>(&amp;all_udpifs)</td></tr>
<tr class="separator:a085b30803ccb04a25fb842f8ef755619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47539176cd7a319cc9da3cbcf8e0941"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dpif_8h.html#a6962bf6593864e12f58e4570a173adbd">upcall_callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#aa47539176cd7a319cc9da3cbcf8e0941">upcall_cb</a></td></tr>
<tr class="separator:aa47539176cd7a319cc9da3cbcf8e0941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8c33f4ee83b76dcf4f27b255e29374"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="dpif_8h.html#a000218808302d1b0caa3ca84ca1f359a">dp_purge_callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a3a8c33f4ee83b76dcf4f27b255e29374">dp_purge_cb</a></td></tr>
<tr class="separator:a3a8c33f4ee83b76dcf4f27b255e29374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4837f22870b85206e09be4e1371c2cf"><td class="memItemLeft" align="right" valign="top">static atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a> = <a class="el" href="ovs-atomic-x86__64_8h.html#a986e6b34bc25797b632d1bf9b0b2c6e1">ATOMIC_VAR_INIT</a>(true)</td></tr>
<tr class="separator:ac4837f22870b85206e09be4e1371c2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce8ceb8e30822d8ee1b977964b44cca"><td class="memItemLeft" align="right" valign="top">static atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a> = <a class="el" href="ovs-atomic-x86__64_8h.html#a986e6b34bc25797b632d1bf9b0b2c6e1">ATOMIC_VAR_INIT</a>(true)</td></tr>
<tr class="separator:a6ce8ceb8e30822d8ee1b977964b44cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2060804f135d7a1e34104210c570728"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> new_ukey&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#ab2060804f135d7a1e34104210c570728">mutex</a></td></tr>
<tr class="separator:ab2060804f135d7a1e34104210c570728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ebbd166ae5b3d0312ae0b7b272047c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a> = <a class="el" href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a>(<a class="el" href="structudpif.html">udpif</a>, &amp;new_ukey-&gt;ufid)</td></tr>
<tr class="separator:af0ebbd166ae5b3d0312ae0b7b272047c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49654e4709f40aecccada266daa32fc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a49654e4709f40aecccada266daa32fc6">idx</a> = new_ukey-&gt;hash % <a class="el" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></td></tr>
<tr class="separator:a49654e4709f40aecccada266daa32fc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4694448506513db6173803ebe4226664"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a4694448506513db6173803ebe4226664">locked</a> = false</td></tr>
<tr class="separator:a4694448506513db6173803ebe4226664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034dca3ce948e2f549d311004d55e241"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a034dca3ce948e2f549d311004d55e241">umap</a> = &amp;<a class="el" href="structudpif.html">udpif</a>-&gt;ukeys[<a class="el" href="ofproto-dpif-upcall_8c.html#a49654e4709f40aecccada266daa32fc6">idx</a>]</td></tr>
<tr class="separator:a034dca3ce948e2f549d311004d55e241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ofproto-dpif-upcall_8c.html#a0544c3fe466e421738dae463968b70ba">else</a></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a984a1fb71ddc8e691fb1255072d2ec46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_QUEUE_LENGTH&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a125f021693d2915283c28e11900178"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define N_UMAPS&#160;&#160;&#160;512 /* per udpif. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6deb9dcf66414a28e87ba85974b63701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REVALIDATE_MAX_BATCH&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaefef3f9352e50aeddf53d36bd71477c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UPCALL_MAX_BATCH&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a11a157ae3ab3e75e04fb0a6e82563b70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb"></a>UKEY_KEEP&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa"></a>UKEY_DELETE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b"></a>UKEY_MODIFY&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                  {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;};</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:170</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:168</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:169</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf80d62f7bf897ea29ef5a05135ccebf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebf">upcall_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8"></a>BAD_UPCALL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4"></a>MISS_UPCALL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac"></a>SFLOW_UPCALL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb"></a>FLOW_SAMPLE_UPCALL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a"></a>IPFIX_UPCALL&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                 {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>,                 <span class="comment">/* Some kind of bug somewhere. */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a>,                <span class="comment">/* A flow miss.  */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a>,               <span class="comment">/* sFlow sample. */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a>,         <span class="comment">/* Per-flow sampling. */</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a>                <span class="comment">/* Per-bridge sampling. */</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;};</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:164</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:161</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:163</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:160</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:162</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a99c310756d5ceb1a77cf1fe434fdf9bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebf">upcall_type</a> classify_upcall </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="dpif_8h.html#a012cba59c2368e2699682c19f818487f">dpif_upcall_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnlattr.html">nlattr</a> *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;{</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <span class="keyword">union </span><a class="code" href="unionuser__action__cookie.html">user_action_cookie</a> cookie;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordtype">size_t</span> userdata_len;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">/* First look at the upcall type. */</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487faab131d0649d01fc126043803717f09b1">DPIF_UC_ACTION</a>:</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a>:</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487fa6a0d964bef4c09eb7b7b489e1bf490f8">DPIF_N_UC_TYPES</a>:</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a>, <span class="stringliteral">&quot;upcall has unexpected type %&quot;</span>PRIu32, <a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">/* &quot;action&quot; upcalls need a closer look. */</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (!userdata) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a>, <span class="stringliteral">&quot;action upcall missing cookie&quot;</span>);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    userdata_len = <a class="code" href="netlink_8c.html#a6003127e134e098f9a448037d3f3a7e5">nl_attr_get_size</a>(userdata);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">if</span> (userdata_len &lt; <span class="keyword">sizeof</span> cookie.type</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        || userdata_len &gt; <span class="keyword">sizeof</span> cookie) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a>, <span class="stringliteral">&quot;action upcall cookie has unexpected size %&quot;</span><a class="code" href="lib_2util_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a>,</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                     userdata_len);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    memset(&amp;cookie, 0, <span class="keyword">sizeof</span> cookie);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    memcpy(&amp;cookie, <a class="code" href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a>(userdata), userdata_len);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">if</span> (userdata_len == <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(8, <span class="keyword">sizeof</span> cookie.sflow)</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        &amp;&amp; cookie.type == <a class="code" href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa1bacef977987671d6811f589bcbff370">USER_ACTION_COOKIE_SFLOW</a>) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (userdata_len == <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(8, <span class="keyword">sizeof</span> cookie.slow_path)</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;               &amp;&amp; cookie.type == <a class="code" href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa1f050cf4a3b6e204642570e01b0a880f">USER_ACTION_COOKIE_SLOW_PATH</a>) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a>;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (userdata_len == <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(8, <span class="keyword">sizeof</span> cookie.flow_sample)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;               &amp;&amp; cookie.type == <a class="code" href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa57bab86f7295f6b3707bf8fa57441b09">USER_ACTION_COOKIE_FLOW_SAMPLE</a>) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (userdata_len == <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(8, <span class="keyword">sizeof</span> cookie.ipfix)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;               &amp;&amp; cookie.type == <a class="code" href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa8612a347082139f1e6e8fe3fd41d564d">USER_ACTION_COOKIE_IPFIX</a>) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a>, <span class="stringliteral">&quot;invalid user cookie of type %&quot;</span>PRIu16</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                     <span class="stringliteral">&quot; and size %&quot;</span><a class="code" href="lib_2util_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a>, cookie.type, userdata_len);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:164</div></div>
<div class="ttc" id="odp-util_8h_html_a308e82eb4a3b4c18367a84618fc0885aa1f050cf4a3b6e204642570e01b0a880f"><div class="ttname"><a href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa1f050cf4a3b6e204642570e01b0a880f">USER_ACTION_COOKIE_SLOW_PATH</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:261</div></div>
<div class="ttc" id="odp-util_8h_html_a308e82eb4a3b4c18367a84618fc0885aa1bacef977987671d6811f589bcbff370"><div class="ttname"><a href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa1bacef977987671d6811f589bcbff370">USER_ACTION_COOKIE_SFLOW</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:260</div></div>
<div class="ttc" id="netlink_8c_html_aa4e12c4c75202de49731af3f52cda073"><div class="ttname"><a href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a></div><div class="ttdeci">const void * nl_attr_get(const struct nlattr *nla)</div><div class="ttdef"><b>Definition:</b> netlink.c:507</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:161</div></div>
<div class="ttc" id="dpif_8h_html_a012cba59c2368e2699682c19f818487fa6a0d964bef4c09eb7b7b489e1bf490f8"><div class="ttname"><a href="dpif_8h.html#a012cba59c2368e2699682c19f818487fa6a0d964bef4c09eb7b7b489e1bf490f8">DPIF_N_UC_TYPES</a></div><div class="ttdef"><b>Definition:</b> dpif.h:762</div></div>
<div class="ttc" id="lib_2util_8h_html_a2b7b0557dc6cd786df02dafbb51f5292"><div class="ttname"><a href="lib_2util_8h.html#a2b7b0557dc6cd786df02dafbb51f5292">PRIuSIZE</a></div><div class="ttdeci">#define PRIuSIZE</div><div class="ttdef"><b>Definition:</b> util.h:252</div></div>
<div class="ttc" id="unionuser__action__cookie_html"><div class="ttname"><a href="unionuser__action__cookie.html">user_action_cookie</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:268</div></div>
<div class="ttc" id="netlink_8c_html_a6003127e134e098f9a448037d3f3a7e5"><div class="ttname"><a href="netlink_8c.html#a6003127e134e098f9a448037d3f3a7e5">nl_attr_get_size</a></div><div class="ttdeci">size_t nl_attr_get_size(const struct nlattr *nla)</div><div class="ttdef"><b>Definition:</b> netlink.c:515</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5c9348c27442ef5e4a96246373ad6c6b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a></div><div class="ttdeci">static struct vlog_rate_limit rl</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:274</div></div>
<div class="ttc" id="odp-util_8h_html_a308e82eb4a3b4c18367a84618fc0885aa57bab86f7295f6b3707bf8fa57441b09"><div class="ttname"><a href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa57bab86f7295f6b3707bf8fa57441b09">USER_ACTION_COOKIE_FLOW_SAMPLE</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:262</div></div>
<div class="ttc" id="vlog_8h_html_a30af259a5a16dafc88f90508a5c98b43"><div class="ttname"><a href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a></div><div class="ttdeci">#define VLOG_WARN_RL(RL,...)</div><div class="ttdef"><b>Definition:</b> vlog.h:213</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:163</div></div>
<div class="ttc" id="dpif_8h_html_a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55"><div class="ttname"><a href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a></div><div class="ttdef"><b>Definition:</b> dpif.h:760</div></div>
<div class="ttc" id="dpif_8h_html_a012cba59c2368e2699682c19f818487faab131d0649d01fc126043803717f09b1"><div class="ttname"><a href="dpif_8h.html#a012cba59c2368e2699682c19f818487faab131d0649d01fc126043803717f09b1">DPIF_UC_ACTION</a></div><div class="ttdef"><b>Definition:</b> dpif.h:761</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:160</div></div>
<div class="ttc" id="odp-util_8h_html_a308e82eb4a3b4c18367a84618fc0885aa8612a347082139f1e6e8fe3fd41d564d"><div class="ttname"><a href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa8612a347082139f1e6e8fe3fd41d564d">USER_ACTION_COOKIE_IPFIX</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:263</div></div>
<div class="ttc" id="lib_2util_8h_html_aff9931d7524c88e07743af6535b20761"><div class="ttname"><a href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a></div><div class="ttdeci">#define MAX(X, Y)</div><div class="ttdef"><b>Definition:</b> util.h:173</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:162</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abc645662d87fb92cf6ac6eeca4ccc2af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compose_slow_path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxlate__out.html">xlate_out</a> *&#160;</td>
          <td class="paramname"><em>xout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structflow.html">flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2openvswitch_2types_8h.html#a8ec89192f43ad3253862b05639ae356f">odp_port_t</a>&#160;</td>
          <td class="paramname"><em>odp_in_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keyword">union </span><a class="code" href="unionuser__action__cookie.html">user_action_cookie</a> cookie;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="include_2openvswitch_2types_8h.html#a8ec89192f43ad3253862b05639ae356f">odp_port_t</a> <a class="code" href="namespaceovstest_1_1args.html#a74f2e69b43f2a55f9c9c7f538164ead8">port</a>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> pid;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    cookie.type = <a class="code" href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa1f050cf4a3b6e204642570e01b0a880f">USER_ACTION_COOKIE_SLOW_PATH</a>;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    cookie.slow_path.unused = 0;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    cookie.slow_path.reason = xout-&gt;<a class="code" href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">slow</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    port = xout-&gt;<a class="code" href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">slow</a> &amp; (SLOW_CFM | SLOW_BFD | SLOW_LACP | SLOW_STP)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        ? <a class="code" href="odp-util_8h.html#abcc0498b3ff6aab5c8b56dcfdb55707c">ODPP_NONE</a></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        : odp_in_port;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    pid = <a class="code" href="dpif_8c.html#a76b6b34c0d6233b97da2d3fc2ef78025">dpif_port_get_pid</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, port, <a class="code" href="lib_2flow_8c.html#a31b04afdc6faf56c9367af97105e7e97">flow_hash_5tuple</a>(flow, 0));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <a class="code" href="odp-util_8c.html#a881605c1776ee1ed4066802182d55bba">odp_put_userspace_action</a>(pid, &amp;cookie, <span class="keyword">sizeof</span> cookie.slow_path,</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                             <a class="code" href="odp-util_8h.html#abcc0498b3ff6aab5c8b56dcfdb55707c">ODPP_NONE</a>, <span class="keyword">false</span>, buf);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="ttc" id="odp-util_8c_html_a881605c1776ee1ed4066802182d55bba"><div class="ttname"><a href="odp-util_8c.html#a881605c1776ee1ed4066802182d55bba">odp_put_userspace_action</a></div><div class="ttdeci">size_t odp_put_userspace_action(uint32_t pid, const void *userdata, size_t userdata_size, odp_port_t tunnel_out_port, bool include_actions, struct ofpbuf *odp_actions)</div><div class="ttdef"><b>Definition:</b> odp-util.c:4291</div></div>
<div class="ttc" id="lib_2flow_8c_html_a31b04afdc6faf56c9367af97105e7e97"><div class="ttname"><a href="lib_2flow_8c.html#a31b04afdc6faf56c9367af97105e7e97">flow_hash_5tuple</a></div><div class="ttdeci">uint32_t flow_hash_5tuple(const struct flow *flow, uint32_t basis)</div><div class="ttdef"><b>Definition:</b> flow.c:1509</div></div>
<div class="ttc" id="odp-util_8h_html_a308e82eb4a3b4c18367a84618fc0885aa1f050cf4a3b6e204642570e01b0a880f"><div class="ttname"><a href="odp-util_8h.html#a308e82eb4a3b4c18367a84618fc0885aa1f050cf4a3b6e204642570e01b0a880f">USER_ACTION_COOKIE_SLOW_PATH</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:261</div></div>
<div class="ttc" id="odp-util_8h_html_abcc0498b3ff6aab5c8b56dcfdb55707c"><div class="ttname"><a href="odp-util_8h.html#abcc0498b3ff6aab5c8b56dcfdb55707c">ODPP_NONE</a></div><div class="ttdeci">#define ODPP_NONE</div><div class="ttdef"><b>Definition:</b> odp-util.h:77</div></div>
<div class="ttc" id="include_2openvswitch_2types_8h_html_a8ec89192f43ad3253862b05639ae356f"><div class="ttname"><a href="include_2openvswitch_2types_8h.html#a8ec89192f43ad3253862b05639ae356f">odp_port_t</a></div><div class="ttdeci">uint32_t OVS_BITWISE odp_port_t</div><div class="ttdef"><b>Definition:</b> types.h:101</div></div>
<div class="ttc" id="structxlate__out_html_a7c0ec7709dd59f1b8137c13658956b06"><div class="ttname"><a href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">xlate_out::slow</a></div><div class="ttdeci">enum slow_path_reason slow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:41</div></div>
<div class="ttc" id="unionuser__action__cookie_html"><div class="ttname"><a href="unionuser__action__cookie.html">user_action_cookie</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:268</div></div>
<div class="ttc" id="namespaceovstest_1_1args_html_a74f2e69b43f2a55f9c9c7f538164ead8"><div class="ttname"><a href="namespaceovstest_1_1args.html#a74f2e69b43f2a55f9c9c7f538164ead8">ovstest.args.port</a></div><div class="ttdeci">def port(string)</div><div class="ttdef"><b>Definition:</b> args.py:56</div></div>
<div class="ttc" id="dpif_8c_html_a76b6b34c0d6233b97da2d3fc2ef78025"><div class="ttname"><a href="dpif_8c.html#a76b6b34c0d6233b97da2d3fc2ef78025">dpif_port_get_pid</a></div><div class="ttdeci">uint32_t dpif_port_get_pid(const struct dpif *dpif, odp_port_t port_no, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> dpif.c:688</div></div>
<div class="ttc" id="Types_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad22a80228b5982be3fafd66328e7ab04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COVERAGE_DEFINE </td>
          <td>(</td>
          <td class="paramtype">dumped_duplicate_flow&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5e35c2dcdf213114c314b36600908b01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COVERAGE_DEFINE </td>
          <td>(</td>
          <td class="paramtype">dumped_new_flow&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aed95e4dab9c0c4c66dcb2f09aaecea5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COVERAGE_DEFINE </td>
          <td>(</td>
          <td class="paramtype">handler_duplicate_upcall&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa0fd90d6ec619c30269c69196ab1d22b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COVERAGE_DEFINE </td>
          <td>(</td>
          <td class="paramtype">upcall_ukey_contention&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab633f998972acc0dadbc43fafe231db6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COVERAGE_DEFINE </td>
          <td>(</td>
          <td class="paramtype">revalidate_missed_dp_flow&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a841bdc0c5d808e8657b25c33203ac6c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void delete_op_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structukey__op.html">ukey_op</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;{</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a> = ukey;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">type</a> = <a class="code" href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524">DPIF_OP_FLOW_DEL</a>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a5067ab8565982f2069ee283cd2ae1c7c">key</a> = ukey-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a39b0e269419e6c6d3861068bd82d6203">key_len</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#aad11c50ba4a901c1eaccbdc4c4606370">ufid</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a3fc884fbc10ad75ef11ecdd885a5388d">ufid_present</a> ? &amp;ukey-&gt;<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a> : NULL;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a2e4464cf3016c6f34529614f8b81c4cc">pmd_id</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">pmd_id</a>;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a89424325c39c4f6443be9630f698de61">stats</a> = &amp;op-&gt;<a class="code" href="structukey__op.html#a82753a825632eeac67c1e81a0c7f1e9d">stats</a>;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#abfd008ada25c99df98c7f62644a3cbba">terse</a> = <a class="code" href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a>(udpif);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;}</div>
<div class="ttc" id="structudpif__key_html_a44b4a366644a7bc3a1e79cc3f5916278"><div class="ttname"><a href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">udpif_key::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:241</div></div>
<div class="ttc" id="structdpif__flow__del_html_a5067ab8565982f2069ee283cd2ae1c7c"><div class="ttname"><a href="structdpif__flow__del.html#a5067ab8565982f2069ee283cd2ae1c7c">dpif_flow_del::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:669</div></div>
<div class="ttc" id="structdpif__op_html_a1f28a4c3b15af3921b18f42c848049fb"><div class="ttname"><a href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">dpif_op::u</a></div><div class="ttdeci">union dpif_op::@99 u</div></div>
<div class="ttc" id="structudpif__key_html_a3fc884fbc10ad75ef11ecdd885a5388d"><div class="ttname"><a href="structudpif__key.html#a3fc884fbc10ad75ef11ecdd885a5388d">udpif_key::ufid_present</a></div><div class="ttdeci">bool ufid_present</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:239</div></div>
<div class="ttc" id="structdpif__flow__del_html_aad11c50ba4a901c1eaccbdc4c4606370"><div class="ttname"><a href="structdpif__flow__del.html#aad11c50ba4a901c1eaccbdc4c4606370">dpif_flow_del::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:671</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="structdpif__op_html_ac37751a7f95ea0f2266bd2d78109de8e"><div class="ttname"><a href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">dpif_op::flow_del</a></div><div class="ttdeci">struct dpif_flow_del flow_del</div><div class="ttdef"><b>Definition:</b> dpif.h:749</div></div>
<div class="ttc" id="structdpif__op_html_a713b9732e8ee6c7cd4663ac0a2b90acd"><div class="ttname"><a href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">dpif_op::type</a></div><div class="ttdeci">enum dpif_op_type type</div><div class="ttdef"><b>Definition:</b> dpif.h:745</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="structdpif__flow__del_html_a2e4464cf3016c6f34529614f8b81c4cc"><div class="ttname"><a href="structdpif__flow__del.html#a2e4464cf3016c6f34529614f8b81c4cc">dpif_flow_del::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> dpif.h:674</div></div>
<div class="ttc" id="structdpif__flow__del_html_a89424325c39c4f6443be9630f698de61"><div class="ttname"><a href="structdpif__flow__del.html#a89424325c39c4f6443be9630f698de61">dpif_flow_del::stats</a></div><div class="ttdeci">struct dpif_flow_stats * stats</div><div class="ttdef"><b>Definition:</b> dpif.h:677</div></div>
<div class="ttc" id="structdpif__flow__del_html_abfd008ada25c99df98c7f62644a3cbba"><div class="ttname"><a href="structdpif__flow__del.html#abfd008ada25c99df98c7f62644a3cbba">dpif_flow_del::terse</a></div><div class="ttdeci">bool terse</div><div class="ttdef"><b>Definition:</b> dpif.h:672</div></div>
<div class="ttc" id="structukey__op_html_a374668b27e9b185835731213f474891f"><div class="ttname"><a href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey_op::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:269</div></div>
<div class="ttc" id="dpif_8h_html_a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524"><div class="ttname"><a href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524">DPIF_OP_FLOW_DEL</a></div><div class="ttdef"><b>Definition:</b> dpif.h:602</div></div>
<div class="ttc" id="structudpif__key_html_af5c13cc3a588f1bd45dd79900e30bdcd"><div class="ttname"><a href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">udpif_key::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:238</div></div>
<div class="ttc" id="structukey__op_html_ae466eacb078c9a82cc52204ad4168d95"><div class="ttname"><a href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">ukey_op::dop</a></div><div class="ttdeci">struct dpif_op dop</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:271</div></div>
<div class="ttc" id="structukey__op_html_a82753a825632eeac67c1e81a0c7f1e9d"><div class="ttname"><a href="structukey__op.html#a82753a825632eeac67c1e81a0c7f1e9d">ukey_op::stats</a></div><div class="ttdeci">struct dpif_flow_stats stats</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:270</div></div>
<div class="ttc" id="structdpif__flow__del_html_a39b0e269419e6c6d3861068bd82d6203"><div class="ttname"><a href="structdpif__flow__del.html#a39b0e269419e6c6d3861068bd82d6203">dpif_flow_del::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:670</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae58404e5162804b6a562800c477cd990"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a></div><div class="ttdeci">static bool udpif_use_ufid(struct udpif *udpif)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:649</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf499bfbba83ffe331fd5a42c2370867"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void delete_op_init__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structukey__op.html">ukey_op</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;{</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a> = NULL;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">type</a> = <a class="code" href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524">DPIF_OP_FLOW_DEL</a>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a5067ab8565982f2069ee283cd2ae1c7c">key</a> = flow-&gt;<a class="code" href="structdpif__flow.html#ae8ae7f8a7ef9e76d95e7245f323b290d">key</a>;</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a39b0e269419e6c6d3861068bd82d6203">key_len</a> = flow-&gt;<a class="code" href="structdpif__flow.html#a17e5ff0b347382f28235288deba70ef6">key_len</a>;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#aad11c50ba4a901c1eaccbdc4c4606370">ufid</a> = flow-&gt;<a class="code" href="structdpif__flow.html#a62ef512689c6301f74eeb0b2f7b75f4c">ufid_present</a> ? &amp;flow-&gt;<a class="code" href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">ufid</a> : NULL;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a2e4464cf3016c6f34529614f8b81c4cc">pmd_id</a> = flow-&gt;<a class="code" href="structdpif__flow.html#aaa4adf24b05be72bff2ffaf2df681329">pmd_id</a>;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a89424325c39c4f6443be9630f698de61">stats</a> = &amp;op-&gt;<a class="code" href="structukey__op.html#a82753a825632eeac67c1e81a0c7f1e9d">stats</a>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#abfd008ada25c99df98c7f62644a3cbba">terse</a> = <a class="code" href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a>(udpif);</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;}</div>
<div class="ttc" id="structdpif__flow__del_html_a5067ab8565982f2069ee283cd2ae1c7c"><div class="ttname"><a href="structdpif__flow__del.html#a5067ab8565982f2069ee283cd2ae1c7c">dpif_flow_del::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:669</div></div>
<div class="ttc" id="structdpif__op_html_a1f28a4c3b15af3921b18f42c848049fb"><div class="ttname"><a href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">dpif_op::u</a></div><div class="ttdeci">union dpif_op::@99 u</div></div>
<div class="ttc" id="structdpif__flow_html_a17e5ff0b347382f28235288deba70ef6"><div class="ttname"><a href="structdpif__flow.html#a17e5ff0b347382f28235288deba70ef6">dpif_flow::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:579</div></div>
<div class="ttc" id="structdpif__flow__del_html_aad11c50ba4a901c1eaccbdc4c4606370"><div class="ttname"><a href="structdpif__flow__del.html#aad11c50ba4a901c1eaccbdc4c4606370">dpif_flow_del::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:671</div></div>
<div class="ttc" id="structdpif__op_html_ac37751a7f95ea0f2266bd2d78109de8e"><div class="ttname"><a href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">dpif_op::flow_del</a></div><div class="ttdeci">struct dpif_flow_del flow_del</div><div class="ttdef"><b>Definition:</b> dpif.h:749</div></div>
<div class="ttc" id="structdpif__flow_html_aaa4adf24b05be72bff2ffaf2df681329"><div class="ttname"><a href="structdpif__flow.html#aaa4adf24b05be72bff2ffaf2df681329">dpif_flow::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> dpif.h:586</div></div>
<div class="ttc" id="structdpif__op_html_a713b9732e8ee6c7cd4663ac0a2b90acd"><div class="ttname"><a href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">dpif_op::type</a></div><div class="ttdeci">enum dpif_op_type type</div><div class="ttdef"><b>Definition:</b> dpif.h:745</div></div>
<div class="ttc" id="structdpif__flow__del_html_a2e4464cf3016c6f34529614f8b81c4cc"><div class="ttname"><a href="structdpif__flow__del.html#a2e4464cf3016c6f34529614f8b81c4cc">dpif_flow_del::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> dpif.h:674</div></div>
<div class="ttc" id="structdpif__flow_html_ae8ae7f8a7ef9e76d95e7245f323b290d"><div class="ttname"><a href="structdpif__flow.html#ae8ae7f8a7ef9e76d95e7245f323b290d">dpif_flow::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:578</div></div>
<div class="ttc" id="structdpif__flow__del_html_a89424325c39c4f6443be9630f698de61"><div class="ttname"><a href="structdpif__flow__del.html#a89424325c39c4f6443be9630f698de61">dpif_flow_del::stats</a></div><div class="ttdeci">struct dpif_flow_stats * stats</div><div class="ttdef"><b>Definition:</b> dpif.h:677</div></div>
<div class="ttc" id="structdpif__flow_html_a62ef512689c6301f74eeb0b2f7b75f4c"><div class="ttname"><a href="structdpif__flow.html#a62ef512689c6301f74eeb0b2f7b75f4c">dpif_flow::ufid_present</a></div><div class="ttdeci">bool ufid_present</div><div class="ttdef"><b>Definition:</b> dpif.h:585</div></div>
<div class="ttc" id="structdpif__flow__del_html_abfd008ada25c99df98c7f62644a3cbba"><div class="ttname"><a href="structdpif__flow__del.html#abfd008ada25c99df98c7f62644a3cbba">dpif_flow_del::terse</a></div><div class="ttdeci">bool terse</div><div class="ttdef"><b>Definition:</b> dpif.h:672</div></div>
<div class="ttc" id="structukey__op_html_a374668b27e9b185835731213f474891f"><div class="ttname"><a href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey_op::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:269</div></div>
<div class="ttc" id="structdpif__flow_html_ae67b8908458328a8876dff35b72c12e8"><div class="ttname"><a href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">dpif_flow::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:584</div></div>
<div class="ttc" id="dpif_8h_html_a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524"><div class="ttname"><a href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524">DPIF_OP_FLOW_DEL</a></div><div class="ttdef"><b>Definition:</b> dpif.h:602</div></div>
<div class="ttc" id="structukey__op_html_ae466eacb078c9a82cc52204ad4168d95"><div class="ttname"><a href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">ukey_op::dop</a></div><div class="ttdeci">struct dpif_op dop</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:271</div></div>
<div class="ttc" id="structukey__op_html_a82753a825632eeac67c1e81a0c7f1e9d"><div class="ttname"><a href="structukey__op.html#a82753a825632eeac67c1e81a0c7f1e9d">ukey_op::stats</a></div><div class="ttdeci">struct dpif_flow_stats stats</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:270</div></div>
<div class="ttc" id="structdpif__flow__del_html_a39b0e269419e6c6d3861068bd82d6203"><div class="ttname"><a href="structdpif__flow__del.html#a39b0e269419e6c6d3861068bd82d6203">dpif_flow_del::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:670</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae58404e5162804b6a562800c477cd990"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a></div><div class="ttdeci">static bool udpif_use_ufid(struct udpif *udpif)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:649</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a516eafceb4f4588d6db7ee346971752c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dp_purge_cb </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pmd_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;{</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = aux;</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#ac5824f16d4d530399a8cd859cfa3da20">udpif_pause_revalidators</a>(udpif);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>; i++) {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        <span class="keyword">struct </span><a class="code" href="structukey__op.html">ukey_op</a> ops[<a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>];</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <span class="keyword">struct </span><a class="code" href="structumap.html">umap</a> *<a class="code" href="structumap.html">umap</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i];</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <span class="keywordtype">size_t</span> n_ops = 0;</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <a class="code" href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a>(ukey, <a class="code" href="structcmap__node.html">cmap_node</a>, &amp;umap-&gt;<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>) {</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;             <span class="keywordflow">if</span> (ukey-&gt;<a class="code" href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">pmd_id</a> == pmd_id) {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a>(udpif, &amp;ops[n_ops++], ukey);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                <span class="keywordflow">if</span> (n_ops == <a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>) {</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                    <a class="code" href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a>(udpif, umap, ops, n_ops);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;                    n_ops = 0;</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;                }</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        }</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;        <span class="keywordflow">if</span> (n_ops) {</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a>(udpif, umap, ops, n_ops);</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        }</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;        <a class="code" href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a>();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    }</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#ac94c4ec0bd8b47739077a4f0d386eb97">udpif_resume_revalidators</a>(udpif);</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;}</div>
<div class="ttc" id="structcmap__node_html"><div class="ttname"><a href="structcmap__node.html">cmap_node</a></div><div class="ttdef"><b>Definition:</b> cmap.h:61</div></div>
<div class="ttc" id="structumap_html"><div class="ttname"><a href="structumap.html">umap</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:67</div></div>
<div class="ttc" id="structudpif__key_html_a44b4a366644a7bc3a1e79cc3f5916278"><div class="ttname"><a href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">udpif_key::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:241</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac94c4ec0bd8b47739077a4f0d386eb97"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac94c4ec0bd8b47739077a4f0d386eb97">udpif_resume_revalidators</a></div><div class="ttdeci">static void udpif_resume_revalidators(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:532</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a852d4dd2fdd70e891a655e15e9246f2d"><div class="ttname"><a href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a></div><div class="ttdeci">void ovsrcu_quiesce(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:140</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7ef0531b8c7f46e04dcec9bec6437607"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a></div><div class="ttdeci">static void push_ukey_ops(struct udpif *udpif, struct umap *umap, struct ukey_op *ops, size_t n_ops)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2025</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a841bdc0c5d808e8657b25c33203ac6c0"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a></div><div class="ttdeci">static void delete_op_init(struct udpif *udpif, struct ukey_op *op, struct udpif_key *ukey)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1910</div></div>
<div class="ttc" id="structukey__op_html"><div class="ttname"><a href="structukey__op.html">ukey_op</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:268</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6deb9dcf66414a28e87ba85974b63701"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a></div><div class="ttdeci">#define REVALIDATE_MAX_BATCH</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:45</div></div>
<div class="ttc" id="cmap_8h_html_aa9ed969abc5b04fb7ad29f82ce4eb5b9"><div class="ttname"><a href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a></div><div class="ttdeci">#define CMAP_FOR_EACH(NODE, MEMBER, CMAP)</div><div class="ttdef"><b>Definition:</b> cmap.h:225</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac5824f16d4d530399a8cd859cfa3da20"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac5824f16d4d530399a8cd859cfa3da20">udpif_pause_revalidators</a></div><div class="ttdeci">static void udpif_pause_revalidators(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:523</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf61d3aedf7fd5a5c82c0e77a579249e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> get_ufid_hash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="unionovs__u128.html">ovs_u128</a> *&#160;</td>
          <td class="paramname"><em>ufid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">return</span> ufid-&gt;<a class="code" href="unionovs__u128.html#a1e92e1f1992cb0c089b089bb27eb2b60">u32</a>[0];</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;}</div>
<div class="ttc" id="unionovs__u128_html_a1e92e1f1992cb0c089b089bb27eb2b60"><div class="ttname"><a href="unionovs__u128.html#a1e92e1f1992cb0c089b089bb27eb2b60">ovs_u128::u32</a></div><div class="ttdeci">uint32_t u32[4]</div><div class="ttdef"><b>Definition:</b> types.h:85</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ff5f45f0ab3792f7b2601aad689c8f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_upcalls </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structupcall.html">upcall</a> *&#160;</td>
          <td class="paramname"><em>upcalls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_upcalls</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;{</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__op.html">dpif_op</a> *opsp[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a> * 2];</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keyword">struct </span><a class="code" href="structukey__op.html">ukey_op</a> ops[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a> * 2];</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flow_limit;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordtype">size_t</span> n_ops, n_opsp, i;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordtype">bool</span> may_put;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordtype">bool</span> megaflow;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, &amp;flow_limit);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a>, &amp;megaflow);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    may_put = <a class="code" href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a>(udpif) &lt; flow_limit;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">/* Handle the packets individually in order of arrival.</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">     *   - For SLOW_CFM, SLOW_LACP, SLOW_STP, and SLOW_BFD, translation is what</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">     *     processes received packets for these protocols.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">     *   - For SLOW_CONTROLLER, translation sends the packet to the OpenFlow</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">     *     controller.</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">     * The loop fills &#39;ops&#39; with an array of operations to execute in the</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">     * datapath. */</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    n_ops = 0;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_upcalls; i++) {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        <span class="keyword">struct </span><a class="code" href="structupcall.html">upcall</a> *<a class="code" href="structupcall.html">upcall</a> = &amp;upcalls[i];</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structdp__packet.html">dp_packet</a> *<a class="code" href="structpacket.html">packet</a> = upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        <span class="keyword">struct </span><a class="code" href="structukey__op.html">ukey_op</a> *op;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a22c76efd22401afc7523116bf6caf1c6">vsp_adjusted</a>) {</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;            <span class="comment">/* This packet was received on a VLAN splinter port.  We added a</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">             * VLAN to the packet to make the packet resemble the flow, but the</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">             * actions were composed assuming that the packet contained no</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">             * VLAN.  So, we must remove the VLAN header from the packet before</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">             * trying to execute the actions. */</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;            <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>.<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                <a class="code" href="packets_8c.html#a9e289a52a2af17698b6a0e49ef578f2b">eth_pop_vlan</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structdp__packet.html">dp_packet</a> *, upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>));</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;            }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            <span class="comment">/* Remove the flow vlan tags inserted by vlan splinter logic</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="comment">             * to ensure megaflow masks generated match the data path flow. */</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structflow.html">flow</a> *, upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>)-&gt;vlan_tci = 0;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="comment">/* Do not install a flow into the datapath if:</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="comment">         *    - The datapath already has too many flows.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">         *    - We received this packet via some flow installed in the kernel</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">         *      already.</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">         *    - Upcall was a recirculation but we do not have a reference to</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">         *      to the recirculation ID. */</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <span class="keywordflow">if</span> (may_put &amp;&amp; upcall-&gt;<a class="code" href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">type</a> == <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a> &amp;&amp;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;            (!upcall-&gt;<a class="code" href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">recirc</a> || upcall-&gt;<a class="code" href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">have_recirc_ref</a>)) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;            <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey = upcall-&gt;<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;            upcall-&gt;<a class="code" href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">ukey_persists</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;            op = &amp;ops[n_ops++];</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a> = ukey;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">type</a> = <a class="code" href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377a6f5381feb3bcbcdc763e4bacc99e33c0">DPIF_OP_FLOW_PUT</a>;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#aefd168c6be537a7b78912116b9601c32">flags</a> = <a class="code" href="dpif_8h.html#a97bc40b3a3c15975d24966944014d295af2c26802339593878a81af486591f0fb">DPIF_FP_CREATE</a>;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a0f4c21ddd1a107809b15c64470567e6f">key</a> = ukey-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#af8055583904053dc354e79586072c379">key_len</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a6487e6a9e8f376c2cb8c93dff975c54e">mask</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">mask</a>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a5783f35840642fd58dc40d03fd3dc1d4">mask_len</a> = ukey-&gt;<a class="code" href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">mask_len</a>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#ab94612f235373c67407a2fadada70d2c">ufid</a> = upcall-&gt;<a class="code" href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">ufid</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a110ee94179d8db744d5e17ca551d77de">stats</a> = NULL;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a>(ukey, &amp;op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#ae24f7a6c64c7ef288f0aa4b1508744f5">actions</a>,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                             &amp;op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a4440bbbd953a1e04fc67a69b19b1508d">actions_len</a>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>.<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>) {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            op = &amp;ops[n_ops++];</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a> = NULL;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">type</a> = <a class="code" href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377ad7cda857c4ac56be2a91c1a23ee6033a">DPIF_OP_EXECUTE</a>;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">execute</a>.<a class="code" href="structdpif__execute.html#a4401d5240e2cbdcb6a7271d11880da78">packet</a> = <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structdp__packet.html">dp_packet</a> *, packet);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;            <a class="code" href="odp-util_8c.html#a6254bb4314ab95af809e0dcbf5554862">odp_key_to_pkt_metadata</a>(upcall-&gt;<a class="code" href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">key</a>, upcall-&gt;<a class="code" href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">key_len</a>,</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                                    &amp;op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">execute</a>.<a class="code" href="structdpif__execute.html#a4401d5240e2cbdcb6a7271d11880da78">packet</a>-&gt;<a class="code" href="structdp__packet.html#aae9fe2c57f12edf4a91e62990077af26">md</a>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">execute</a>.<a class="code" href="structdpif__execute.html#af9022be5cf26a47249bb8707a47cc995">actions</a> = upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>.<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">execute</a>.<a class="code" href="structdpif__execute.html#aef307bb22d4a2318711a0434e1105212">actions_len</a> = upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>.<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">execute</a>.<a class="code" href="structdpif__execute.html#a0f8614f644747c7404c6d418efb6cfb6">needs_help</a> = (upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>.<a class="code" href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">slow</a> &amp; SLOW_ACTION) != 0;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">execute</a>.<a class="code" href="structdpif__execute.html#a15b2757a999349210362d1fc1ea8f307">probe</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    }</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="comment">/* Execute batch.</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">     * We install ukeys before installing the flows, locking them for exclusive</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">     * access by this thread for the period of installation. This ensures that</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">     * other threads won&#39;t attempt to delete the flows as we are creating them.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    n_opsp = 0;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_ops; i++) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey = ops[i].ukey;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span> (ukey) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            <span class="comment">/* If we can&#39;t install the ukey, don&#39;t install the flow. */</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a>(udpif, ukey)) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a>(ukey);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                ops[i].ukey = NULL;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        }</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        opsp[n_opsp++] = &amp;ops[i].dop;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="dpif_8c.html#aef8b5f75c227bfe9d2c2189e3e0e286d">dpif_operate</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, opsp, n_opsp);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_ops; i++) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span> (ops[i].ukey) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#ad74bf4468d0d2552bb94aef623c1727c">ukey_install_finish</a>(ops[i].ukey, ops[i].dop.error);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;}</div>
<div class="ttc" id="structupcall_html_aaca2bd05b9067b91112f2d102a3cb481"><div class="ttname"><a href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">upcall::type</a></div><div class="ttdeci">enum dpif_upcall_type type</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:187</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaefef3f9352e50aeddf53d36bd71477c"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a></div><div class="ttdeci">#define UPCALL_MAX_BATCH</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:44</div></div>
<div class="ttc" id="structupcall_html_a8b07b004e727e57198bc2e3fa9893db8"><div class="ttname"><a href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">upcall::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:211</div></div>
<div class="ttc" id="structupcall_html_a4aa95fcd7454add0d87603e613b5a049"><div class="ttname"><a href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">upcall::odp_actions</a></div><div class="ttdeci">struct ofpbuf odp_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:193</div></div>
<div class="ttc" id="structudpif__key_html_a87e017704faa0f757c6c8e347aed9bb5"><div class="ttname"><a href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">udpif_key::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:236</div></div>
<div class="ttc" id="structdpif__op_html_a1f28a4c3b15af3921b18f42c848049fb"><div class="ttname"><a href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">dpif_op::u</a></div><div class="ttdeci">union dpif_op::@99 u</div></div>
<div class="ttc" id="structdpif__flow__put_html_a5783f35840642fd58dc40d03fd3dc1d4"><div class="ttname"><a href="structdpif__flow__put.html#a5783f35840642fd58dc40d03fd3dc1d4">dpif_flow_put::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> dpif.h:639</div></div>
<div class="ttc" id="structdpif__flow__put_html_a4440bbbd953a1e04fc67a69b19b1508d"><div class="ttname"><a href="structdpif__flow__put.html#a4440bbbd953a1e04fc67a69b19b1508d">dpif_flow_put::actions_len</a></div><div class="ttdeci">size_t actions_len</div><div class="ttdef"><b>Definition:</b> dpif.h:641</div></div>
<div class="ttc" id="structupcall_html_a22c76efd22401afc7523116bf6caf1c6"><div class="ttname"><a href="structupcall.html#a22c76efd22401afc7523116bf6caf1c6">upcall::vsp_adjusted</a></div><div class="ttdeci">bool vsp_adjusted</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:200</div></div>
<div class="ttc" id="structdp__packet_html"><div class="ttname"><a href="structdp__packet.html">dp_packet</a></div><div class="ttdef"><b>Definition:</b> dp-packet.h:42</div></div>
<div class="ttc" id="structupcall_html_a5c0d32dbe2efd0058ea36e207e51edee"><div class="ttname"><a href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">upcall::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:212</div></div>
<div class="ttc" id="dpif_8h_html_a40554385cdbb16d70fa82ba602664377ad7cda857c4ac56be2a91c1a23ee6033a"><div class="ttname"><a href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377ad7cda857c4ac56be2a91c1a23ee6033a">DPIF_OP_EXECUTE</a></div><div class="ttdef"><b>Definition:</b> dpif.h:603</div></div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="structupcall_html_aa2532261bb0f7a55630d595546b6d7a6"><div class="ttname"><a href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">upcall::packet</a></div><div class="ttdeci">const struct dp_packet * packet</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:184</div></div>
<div class="ttc" id="structdpif__flow__put_html_a6487e6a9e8f376c2cb8c93dff975c54e"><div class="ttname"><a href="structdpif__flow__put.html#a6487e6a9e8f376c2cb8c93dff975c54e">dpif_flow_put::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> dpif.h:638</div></div>
<div class="ttc" id="structxlate__out_html_a7c0ec7709dd59f1b8137c13658956b06"><div class="ttname"><a href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">xlate_out::slow</a></div><div class="ttdeci">enum slow_path_reason slow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:41</div></div>
<div class="ttc" id="structupcall_html_a50175cd39491e43d4b3a833e46be9efc"><div class="ttname"><a href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">upcall::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:182</div></div>
<div class="ttc" id="structdpif__execute_html_af9022be5cf26a47249bb8707a47cc995"><div class="ttname"><a href="structdpif__execute.html#af9022be5cf26a47249bb8707a47cc995">dpif_execute::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> dpif.h:696</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="structupcall_html_a842c362fe022c48f378a9ba866ee69e0"><div class="ttname"><a href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">upcall::recirc</a></div><div class="ttdeci">const struct recirc_id_node * recirc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:175</div></div>
<div class="ttc" id="structdpif__execute_html_a4401d5240e2cbdcb6a7271d11880da78"><div class="ttname"><a href="structdpif__execute.html#a4401d5240e2cbdcb6a7271d11880da78">dpif_execute::packet</a></div><div class="ttdeci">struct dp_packet * packet</div><div class="ttdef"><b>Definition:</b> dpif.h:702</div></div>
<div class="ttc" id="structupcall_html_ae8083eb5ded20bf1544db253e1ad0c8b"><div class="ttname"><a href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">upcall::flow</a></div><div class="ttdeci">const struct flow * flow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:181</div></div>
<div class="ttc" id="structudpif__key_html_aac110f658c03533e0a7aeb53a3231ddd"><div class="ttname"><a href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">udpif_key::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:237</div></div>
<div class="ttc" id="structupcall_html_ab999e1ce57b35244dd78ef62f9ad1d55"><div class="ttname"><a href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">upcall::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:203</div></div>
<div class="ttc" id="structdpif__op_html_a713b9732e8ee6c7cd4663ac0a2b90acd"><div class="ttname"><a href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">dpif_op::type</a></div><div class="ttdeci">enum dpif_op_type type</div><div class="ttdef"><b>Definition:</b> dpif.h:745</div></div>
<div class="ttc" id="structdpif__op_html"><div class="ttname"><a href="structdpif__op.html">dpif_op</a></div><div class="ttdef"><b>Definition:</b> dpif.h:744</div></div>
<div class="ttc" id="odp-util_8c_html_a6254bb4314ab95af809e0dcbf5554862"><div class="ttname"><a href="odp-util_8c.html#a6254bb4314ab95af809e0dcbf5554862">odp_key_to_pkt_metadata</a></div><div class="ttdeci">void odp_key_to_pkt_metadata(const struct nlattr *key, size_t key_len, struct pkt_metadata *md)</div><div class="ttdef"><b>Definition:</b> odp-util.c:3555</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="packets_8c_html_a9e289a52a2af17698b6a0e49ef578f2b"><div class="ttname"><a href="packets_8c.html#a9e289a52a2af17698b6a0e49ef578f2b">eth_pop_vlan</a></div><div class="ttdeci">void eth_pop_vlan(struct dp_packet *packet)</div><div class="ttdef"><b>Definition:</b> packets.c:199</div></div>
<div class="ttc" id="structpacket_html"><div class="ttname"><a href="structpacket.html">packet</a></div><div class="ttdef"><b>Definition:</b> pktbuf.c:50</div></div>
<div class="ttc" id="structdpif__flow__put_html_aefd168c6be537a7b78912116b9601c32"><div class="ttname"><a href="structdpif__flow__put.html#aefd168c6be537a7b78912116b9601c32">dpif_flow_put::flags</a></div><div class="ttdeci">enum dpif_flow_put_flags flags</div><div class="ttdef"><b>Definition:</b> dpif.h:635</div></div>
<div class="ttc" id="structdp__packet_html_aae9fe2c57f12edf4a91e62990077af26"><div class="ttname"><a href="structdp__packet.html#aae9fe2c57f12edf4a91e62990077af26">dp_packet::md</a></div><div class="ttdeci">struct pkt_metadata md</div><div class="ttdef"><b>Definition:</b> dp-packet.h:60</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac4837f22870b85206e09be4e1371c2cf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a></div><div class="ttdeci">static atomic_bool enable_megaflows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:338</div></div>
<div class="ttc" id="structupcall_html_a689e8ccd7047fb0da5fd323462d8ba7d"><div class="ttname"><a href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">upcall::ukey_persists</a></div><div class="ttdeci">bool ukey_persists</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:204</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="structdpif__flow__put_html_ae24f7a6c64c7ef288f0aa4b1508744f5"><div class="ttname"><a href="structdpif__flow__put.html#ae24f7a6c64c7ef288f0aa4b1508744f5">dpif_flow_put::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> dpif.h:640</div></div>
<div class="ttc" id="structukey__op_html"><div class="ttname"><a href="structukey__op.html">ukey_op</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:268</div></div>
<div class="ttc" id="structdpif__flow__put_html_a0f4c21ddd1a107809b15c64470567e6f"><div class="ttname"><a href="structdpif__flow__put.html#a0f4c21ddd1a107809b15c64470567e6f">dpif_flow_put::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:636</div></div>
<div class="ttc" id="dpif_8c_html_aef8b5f75c227bfe9d2c2189e3e0e286d"><div class="ttname"><a href="dpif_8c.html#aef8b5f75c227bfe9d2c2189e3e0e286d">dpif_operate</a></div><div class="ttdeci">void dpif_operate(struct dpif *dpif, struct dpif_op **ops, size_t n_ops)</div><div class="ttdef"><b>Definition:</b> dpif.c:1202</div></div>
<div class="ttc" id="structdpif__flow__put_html_ab94612f235373c67407a2fadada70d2c"><div class="ttname"><a href="structdpif__flow__put.html#ab94612f235373c67407a2fadada70d2c">dpif_flow_put::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:642</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a656fa5f1daf3f8a4fb6c17e147503b04"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a></div><div class="ttdeci">static bool ukey_install_start(struct udpif *, struct udpif_key *ukey)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa81a6f662506ffa9a27374a3fd37f12e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a></div><div class="ttdeci">static void ukey_delete__(struct udpif_key *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1698</div></div>
<div class="ttc" id="structukey__op_html_a374668b27e9b185835731213f474891f"><div class="ttname"><a href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey_op::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:269</div></div>
<div class="ttc" id="structdpif__execute_html_a15b2757a999349210362d1fc1ea8f307"><div class="ttname"><a href="structdpif__execute.html#a15b2757a999349210362d1fc1ea8f307">dpif_execute::probe</a></div><div class="ttdeci">bool probe</div><div class="ttdef"><b>Definition:</b> dpif.h:699</div></div>
<div class="ttc" id="structdpif__op_html_a1bf11a9c5b2cde262442df0d1451ae9d"><div class="ttname"><a href="structdpif__op.html#a1bf11a9c5b2cde262442df0d1451ae9d">dpif_op::execute</a></div><div class="ttdeci">struct dpif_execute execute</div><div class="ttdef"><b>Definition:</b> dpif.h:750</div></div>
<div class="ttc" id="structdpif__flow__put_html_a110ee94179d8db744d5e17ca551d77de"><div class="ttname"><a href="structdpif__flow__put.html#a110ee94179d8db744d5e17ca551d77de">dpif_flow_put::stats</a></div><div class="ttdeci">struct dpif_flow_stats * stats</div><div class="ttdef"><b>Definition:</b> dpif.h:646</div></div>
<div class="ttc" id="structupcall_html_a42991360913a8905d15dfc420548ff04"><div class="ttname"><a href="structupcall.html#a42991360913a8905d15dfc420548ff04">upcall::xout</a></div><div class="ttdeci">struct xlate_out xout</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:192</div></div>
<div class="ttc" id="structupcall_html"><div class="ttname"><a href="structupcall.html">upcall</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:173</div></div>
<div class="ttc" id="dpif_8h_html_a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55"><div class="ttname"><a href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a></div><div class="ttdef"><b>Definition:</b> dpif.h:760</div></div>
<div class="ttc" id="structdpif__flow__put_html_af8055583904053dc354e79586072c379"><div class="ttname"><a href="structdpif__flow__put.html#af8055583904053dc354e79586072c379">dpif_flow_put::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:637</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="dpif_8h_html_a40554385cdbb16d70fa82ba602664377a6f5381feb3bcbcdc763e4bacc99e33c0"><div class="ttname"><a href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377a6f5381feb3bcbcdc763e4bacc99e33c0">DPIF_OP_FLOW_PUT</a></div><div class="ttdef"><b>Definition:</b> dpif.h:601</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ad74bf4468d0d2552bb94aef623c1727c"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ad74bf4468d0d2552bb94aef623c1727c">ukey_install_finish</a></div><div class="ttdeci">static bool ukey_install_finish(struct udpif_key *ukey, int error)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1617</div></div>
<div class="ttc" id="structukey__op_html_ae466eacb078c9a82cc52204ad4168d95"><div class="ttname"><a href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">ukey_op::dop</a></div><div class="ttdeci">struct dpif_op dop</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:271</div></div>
<div class="ttc" id="structupcall_html_ae616749296f4166749b6d0f5497ac5ee"><div class="ttname"><a href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">upcall::have_recirc_ref</a></div><div class="ttdeci">bool have_recirc_ref</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:176</div></div>
<div class="ttc" id="structdpif__op_html_a68169ff00b26d6b92eb87604f9f2012f"><div class="ttname"><a href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">dpif_op::flow_put</a></div><div class="ttdeci">struct dpif_flow_put flow_put</div><div class="ttdef"><b>Definition:</b> dpif.h:748</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7a52c113018932b24a5d87ff9becc04f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a></div><div class="ttdeci">static unsigned long udpif_get_n_flows(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:659</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
<div class="ttc" id="structdpif__execute_html_aef307bb22d4a2318711a0434e1105212"><div class="ttname"><a href="structdpif__execute.html#aef307bb22d4a2318711a0434e1105212">dpif_execute::actions_len</a></div><div class="ttdeci">size_t actions_len</div><div class="ttdef"><b>Definition:</b> dpif.h:697</div></div>
<div class="ttc" id="structdpif__execute_html_a0f8614f644747c7404c6d418efb6cfb6"><div class="ttname"><a href="structdpif__execute.html#a0f8614f644747c7404c6d418efb6cfb6">dpif_execute::needs_help</a></div><div class="ttdeci">bool needs_help</div><div class="ttdef"><b>Definition:</b> dpif.h:698</div></div>
<div class="ttc" id="structflow_html"><div class="ttname"><a href="structflow.html">flow</a></div><div class="ttdef"><b>Definition:</b> flow.h:94</div></div>
<div class="ttc" id="dpif_8h_html_a97bc40b3a3c15975d24966944014d295af2c26802339593878a81af486591f0fb"><div class="ttname"><a href="dpif_8h.html#a97bc40b3a3c15975d24966944014d295af2c26802339593878a81af486591f0fb">DPIF_FP_CREATE</a></div><div class="ttdef"><b>Definition:</b> dpif.h:513</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae0755bff0105fdf5ffc57c0cfbb7cf2e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a></div><div class="ttdeci">static void ukey_get_actions(struct udpif_key *, const struct nlattr **actions, size_t *size)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1413</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf662e5cebb5b1ace26be16b069e0983"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                  {</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="comment">/* Uncommon case: A ukey is already installed with the same UFID. */</span></div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a> == new_ukey-&gt;key_len</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;            &amp;&amp; !memcmp(<a class="code" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>, new_ukey-&gt;key, new_ukey-&gt;key_len)) {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;            <a class="code" href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a>(handler_duplicate_upcall);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            <span class="keyword">struct </span><a class="code" href="structds.html">ds</a> <a class="code" href="structds.html">ds</a> = <a class="code" href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a>;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            <a class="code" href="odp-util_8c.html#aea70ab8f7498d6e50267a20f8139fe61">odp_format_ufid</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>-&gt;<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a>, &amp;ds);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;            <a class="code" href="dynamic-string_8c.html#ac9000fb4bc756b78f7aee9cb10d446b0">ds_put_cstr</a>(&amp;ds, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            <a class="code" href="odp-util_8c.html#a2939103bcd21fb1a3330599d0a8f8f10">odp_flow_key_format</a>(<a class="code" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>, <a class="code" href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a>-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>, &amp;ds);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            <a class="code" href="dynamic-string_8c.html#ac9000fb4bc756b78f7aee9cb10d446b0">ds_put_cstr</a>(&amp;ds, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            <a class="code" href="odp-util_8c.html#aea70ab8f7498d6e50267a20f8139fe61">odp_format_ufid</a>(&amp;new_ukey-&gt;ufid, &amp;ds);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;            <a class="code" href="dynamic-string_8c.html#ac9000fb4bc756b78f7aee9cb10d446b0">ds_put_cstr</a>(&amp;ds, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            <a class="code" href="odp-util_8c.html#a2939103bcd21fb1a3330599d0a8f8f10">odp_flow_key_format</a>(new_ukey-&gt;key, new_ukey-&gt;key_len, &amp;ds);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a>, <span class="stringliteral">&quot;Conflicting ukey for flows:\n%s&quot;</span>, <a class="code" href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a>(&amp;ds));</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            <a class="code" href="dynamic-string_8c.html#ab600e7fc1f9337f26f8a8cb855724540">ds_destroy</a>(&amp;ds);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="ttc" id="odp-util_8c_html_a2939103bcd21fb1a3330599d0a8f8f10"><div class="ttname"><a href="odp-util_8c.html#a2939103bcd21fb1a3330599d0a8f8f10">odp_flow_key_format</a></div><div class="ttdeci">void odp_flow_key_format(const struct nlattr *key, size_t key_len, struct ds *ds)</div><div class="ttdef"><b>Definition:</b> odp-util.c:2371</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="dynamic-string_8h_html_ae69a851dc36e8fa36553b037f7a0fcc1"><div class="ttname"><a href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a></div><div class="ttdeci">#define DS_EMPTY_INITIALIZER</div><div class="ttdef"><b>Definition:</b> dynamic-string.h:41</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="dynamic-string_8c_html_a37180434ba345978ba55cd862482256a"><div class="ttname"><a href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a></div><div class="ttdeci">char * ds_cstr(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:323</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_af0ebbd166ae5b3d0312ae0b7b272047c"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#af0ebbd166ae5b3d0312ae0b7b272047c">old_ukey</a></div><div class="ttdeci">struct udpif_key * old_ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1573</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5c9348c27442ef5e4a96246373ad6c6b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a></div><div class="ttdeci">static struct vlog_rate_limit rl</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:274</div></div>
<div class="ttc" id="vlog_8h_html_a30af259a5a16dafc88f90508a5c98b43"><div class="ttname"><a href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a></div><div class="ttdeci">#define VLOG_WARN_RL(RL,...)</div><div class="ttdef"><b>Definition:</b> vlog.h:213</div></div>
<div class="ttc" id="odp-util_8c_html_aea70ab8f7498d6e50267a20f8139fe61"><div class="ttname"><a href="odp-util_8c.html#aea70ab8f7498d6e50267a20f8139fe61">odp_format_ufid</a></div><div class="ttdeci">void odp_format_ufid(const ovs_u128 *ufid, struct ds *ds)</div><div class="ttdef"><b>Definition:</b> odp-util.c:2287</div></div>
<div class="ttc" id="dynamic-string_8c_html_ab600e7fc1f9337f26f8a8cb855724540"><div class="ttname"><a href="dynamic-string_8c.html#ab600e7fc1f9337f26f8a8cb855724540">ds_destroy</a></div><div class="ttdeci">void ds_destroy(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:350</div></div>
<div class="ttc" id="structudpif__key_html_af5c13cc3a588f1bd45dd79900e30bdcd"><div class="ttname"><a href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">udpif_key::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:238</div></div>
<div class="ttc" id="coverage_8h_html_a64de3ac21cbec99cb3c6d625ff01c0da"><div class="ttname"><a href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a></div><div class="ttdeci">#define COVERAGE_INC(COUNTER)</div><div class="ttdef"><b>Definition:</b> coverage.h:83</div></div>
<div class="ttc" id="dynamic-string_8c_html_ac9000fb4bc756b78f7aee9cb10d446b0"><div class="ttname"><a href="dynamic-string_8c.html#ac9000fb4bc756b78f7aee9cb10d446b0">ds_put_cstr</a></div><div class="ttdeci">void ds_put_cstr(struct ds *ds, const char *s)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:123</div></div>
<div class="ttc" id="structds_html"><div class="ttname"><a href="structds.html">ds</a></div><div class="ttdef"><b>Definition:</b> dynamic-string.h:35</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aefe58d7bd09d4f273e889062370491aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_unexpected_flow </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;{</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structvlog__rate__limit.html">vlog_rate_limit</a> <a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a> = <a class="code" href="vlog_8h.html#acf0c288e03cbc9a98df73db8698abdd8">VLOG_RATE_LIMIT_INIT</a>(10, 60);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keyword">struct </span><a class="code" href="structds.html">ds</a> <a class="code" href="structds.html">ds</a> = <a class="code" href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a>;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;Failed to acquire udpif_key corresponding to &quot;</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;                  <span class="stringliteral">&quot;unexpected flow (%s): &quot;</span>, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>));</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="odp-util_8c.html#aea70ab8f7498d6e50267a20f8139fe61">odp_format_ufid</a>(&amp;flow-&gt;<a class="code" href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">ufid</a>, &amp;ds);</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;rl, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a>(&amp;ds));</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;}</div>
<div class="ttc" id="dynamic-string_8c_html_a8ed7cfb0cbc0560ddad879369186bee4"><div class="ttname"><a href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a></div><div class="ttdeci">void ds_put_format(struct ds *ds, const char *format,...)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:137</div></div>
<div class="ttc" id="structvlog__rate__limit_html"><div class="ttname"><a href="structvlog__rate__limit.html">vlog_rate_limit</a></div><div class="ttdef"><b>Definition:</b> vlog.h:105</div></div>
<div class="ttc" id="dynamic-string_8h_html_ae69a851dc36e8fa36553b037f7a0fcc1"><div class="ttname"><a href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a></div><div class="ttdeci">#define DS_EMPTY_INITIALIZER</div><div class="ttdef"><b>Definition:</b> dynamic-string.h:41</div></div>
<div class="ttc" id="dynamic-string_8c_html_a37180434ba345978ba55cd862482256a"><div class="ttname"><a href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a></div><div class="ttdeci">char * ds_cstr(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:323</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5c9348c27442ef5e4a96246373ad6c6b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a></div><div class="ttdeci">static struct vlog_rate_limit rl</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:274</div></div>
<div class="ttc" id="vlog_8h_html_a30af259a5a16dafc88f90508a5c98b43"><div class="ttname"><a href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a></div><div class="ttdeci">#define VLOG_WARN_RL(RL,...)</div><div class="ttdef"><b>Definition:</b> vlog.h:213</div></div>
<div class="ttc" id="odp-util_8c_html_aea70ab8f7498d6e50267a20f8139fe61"><div class="ttname"><a href="odp-util_8c.html#aea70ab8f7498d6e50267a20f8139fe61">odp_format_ufid</a></div><div class="ttdeci">void odp_format_ufid(const ovs_u128 *ufid, struct ds *ds)</div><div class="ttdef"><b>Definition:</b> odp-util.c:2287</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structdpif__flow_html_ae67b8908458328a8876dff35b72c12e8"><div class="ttname"><a href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">dpif_flow::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:584</div></div>
<div class="ttc" id="vlog_8h_html_acf0c288e03cbc9a98df73db8698abdd8"><div class="ttname"><a href="vlog_8h.html#acf0c288e03cbc9a98df73db8698abdd8">VLOG_RATE_LIMIT_INIT</a></div><div class="ttdeci">#define VLOG_RATE_LIMIT_INIT(RATE, BURST)</div><div class="ttdef"><b>Definition:</b> vlog.h:119</div></div>
<div class="ttc" id="structds_html"><div class="ttname"><a href="structds.html">ds</a></div><div class="ttdef"><b>Definition:</b> dynamic-string.h:35</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8778258277bfb3f4c4f79286ede85b8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void modify_op_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structukey__op.html">ukey_op</a> *&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;{</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a> = ukey;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">type</a> = <a class="code" href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377a6f5381feb3bcbcdc763e4bacc99e33c0">DPIF_OP_FLOW_PUT</a>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#aefd168c6be537a7b78912116b9601c32">flags</a> = <a class="code" href="dpif_8h.html#a97bc40b3a3c15975d24966944014d295ae4c4476112d8e4a88436f0f610d98f48">DPIF_FP_MODIFY</a>;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a0f4c21ddd1a107809b15c64470567e6f">key</a> = ukey-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#af8055583904053dc354e79586072c379">key_len</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a6487e6a9e8f376c2cb8c93dff975c54e">mask</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">mask</a>;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a5783f35840642fd58dc40d03fd3dc1d4">mask_len</a> = ukey-&gt;<a class="code" href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">mask_len</a>;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#ab94612f235373c67407a2fadada70d2c">ufid</a> = &amp;ukey-&gt;<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a>;</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a3d6e7ff8b317837fa35269231c96ff94">pmd_id</a> = ukey-&gt;<a class="code" href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">pmd_id</a>;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a110ee94179d8db744d5e17ca551d77de">stats</a> = NULL;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a>(ukey, &amp;op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#ae24f7a6c64c7ef288f0aa4b1508744f5">actions</a>,</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                     &amp;op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">flow_put</a>.<a class="code" href="structdpif__flow__put.html#a4440bbbd953a1e04fc67a69b19b1508d">actions_len</a>);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;}</div>
<div class="ttc" id="structudpif__key_html_a44b4a366644a7bc3a1e79cc3f5916278"><div class="ttname"><a href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">udpif_key::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:241</div></div>
<div class="ttc" id="structudpif__key_html_a87e017704faa0f757c6c8e347aed9bb5"><div class="ttname"><a href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">udpif_key::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:236</div></div>
<div class="ttc" id="structdpif__op_html_a1f28a4c3b15af3921b18f42c848049fb"><div class="ttname"><a href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">dpif_op::u</a></div><div class="ttdeci">union dpif_op::@99 u</div></div>
<div class="ttc" id="structdpif__flow__put_html_a5783f35840642fd58dc40d03fd3dc1d4"><div class="ttname"><a href="structdpif__flow__put.html#a5783f35840642fd58dc40d03fd3dc1d4">dpif_flow_put::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> dpif.h:639</div></div>
<div class="ttc" id="structdpif__flow__put_html_a4440bbbd953a1e04fc67a69b19b1508d"><div class="ttname"><a href="structdpif__flow__put.html#a4440bbbd953a1e04fc67a69b19b1508d">dpif_flow_put::actions_len</a></div><div class="ttdeci">size_t actions_len</div><div class="ttdef"><b>Definition:</b> dpif.h:641</div></div>
<div class="ttc" id="structdpif__flow__put_html_a3d6e7ff8b317837fa35269231c96ff94"><div class="ttname"><a href="structdpif__flow__put.html#a3d6e7ff8b317837fa35269231c96ff94">dpif_flow_put::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> dpif.h:643</div></div>
<div class="ttc" id="dpif_8h_html_a97bc40b3a3c15975d24966944014d295ae4c4476112d8e4a88436f0f610d98f48"><div class="ttname"><a href="dpif_8h.html#a97bc40b3a3c15975d24966944014d295ae4c4476112d8e4a88436f0f610d98f48">DPIF_FP_MODIFY</a></div><div class="ttdef"><b>Definition:</b> dpif.h:514</div></div>
<div class="ttc" id="structdpif__flow__put_html_a6487e6a9e8f376c2cb8c93dff975c54e"><div class="ttname"><a href="structdpif__flow__put.html#a6487e6a9e8f376c2cb8c93dff975c54e">dpif_flow_put::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> dpif.h:638</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="structudpif__key_html_aac110f658c03533e0a7aeb53a3231ddd"><div class="ttname"><a href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">udpif_key::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:237</div></div>
<div class="ttc" id="structdpif__op_html_a713b9732e8ee6c7cd4663ac0a2b90acd"><div class="ttname"><a href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">dpif_op::type</a></div><div class="ttdeci">enum dpif_op_type type</div><div class="ttdef"><b>Definition:</b> dpif.h:745</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="structdpif__flow__put_html_aefd168c6be537a7b78912116b9601c32"><div class="ttname"><a href="structdpif__flow__put.html#aefd168c6be537a7b78912116b9601c32">dpif_flow_put::flags</a></div><div class="ttdeci">enum dpif_flow_put_flags flags</div><div class="ttdef"><b>Definition:</b> dpif.h:635</div></div>
<div class="ttc" id="structdpif__flow__put_html_ae24f7a6c64c7ef288f0aa4b1508744f5"><div class="ttname"><a href="structdpif__flow__put.html#ae24f7a6c64c7ef288f0aa4b1508744f5">dpif_flow_put::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> dpif.h:640</div></div>
<div class="ttc" id="structdpif__flow__put_html_a0f4c21ddd1a107809b15c64470567e6f"><div class="ttname"><a href="structdpif__flow__put.html#a0f4c21ddd1a107809b15c64470567e6f">dpif_flow_put::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:636</div></div>
<div class="ttc" id="structdpif__flow__put_html_ab94612f235373c67407a2fadada70d2c"><div class="ttname"><a href="structdpif__flow__put.html#ab94612f235373c67407a2fadada70d2c">dpif_flow_put::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:642</div></div>
<div class="ttc" id="structukey__op_html_a374668b27e9b185835731213f474891f"><div class="ttname"><a href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey_op::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:269</div></div>
<div class="ttc" id="structdpif__flow__put_html_a110ee94179d8db744d5e17ca551d77de"><div class="ttname"><a href="structdpif__flow__put.html#a110ee94179d8db744d5e17ca551d77de">dpif_flow_put::stats</a></div><div class="ttdeci">struct dpif_flow_stats * stats</div><div class="ttdef"><b>Definition:</b> dpif.h:646</div></div>
<div class="ttc" id="structdpif__flow__put_html_af8055583904053dc354e79586072c379"><div class="ttname"><a href="structdpif__flow__put.html#af8055583904053dc354e79586072c379">dpif_flow_put::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:637</div></div>
<div class="ttc" id="structudpif__key_html_af5c13cc3a588f1bd45dd79900e30bdcd"><div class="ttname"><a href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">udpif_key::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:238</div></div>
<div class="ttc" id="dpif_8h_html_a40554385cdbb16d70fa82ba602664377a6f5381feb3bcbcdc763e4bacc99e33c0"><div class="ttname"><a href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377a6f5381feb3bcbcdc763e4bacc99e33c0">DPIF_OP_FLOW_PUT</a></div><div class="ttdef"><b>Definition:</b> dpif.h:601</div></div>
<div class="ttc" id="structukey__op_html_ae466eacb078c9a82cc52204ad4168d95"><div class="ttname"><a href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">ukey_op::dop</a></div><div class="ttdeci">struct dpif_op dop</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:271</div></div>
<div class="ttc" id="structdpif__op_html_a68169ff00b26d6b92eb87604f9f2012f"><div class="ttname"><a href="structdpif__op.html#a68169ff00b26d6b92eb87604f9f2012f">dpif_op::flow_put</a></div><div class="ttdeci">struct dpif_flow_put flow_put</div><div class="ttdef"><b>Definition:</b> dpif.h:748</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae0755bff0105fdf5ffc57c0cfbb7cf2e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a></div><div class="ttdeci">static void ukey_get_actions(struct udpif_key *, const struct nlattr **actions, size_t *size)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1413</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab2ed439ca184252dd86a64e4f4775a63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int process_upcall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structupcall.html">upcall</a> *&#160;</td>
          <td class="paramname"><em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>odp_actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *&#160;</td>
          <td class="paramname"><em>wc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;{</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structnlattr.html">nlattr</a> *userdata = upcall-&gt;<a class="code" href="structupcall.html#a9facd3160c958eebf93fa12e61859fa3">userdata</a>;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structdp__packet.html">dp_packet</a> *<a class="code" href="structpacket.html">packet</a> = upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structflow.html">flow</a> *<a class="code" href="structflow.html">flow</a> = upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="ofproto-dpif-upcall_8c.html#a99c310756d5ceb1a77cf1fe434fdf9bf">classify_upcall</a>(upcall-&gt;<a class="code" href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">type</a>, userdata)) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a>:</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a77e18c945c4d8b7e38e6b1600d1723bf">upcall_xlate</a>(udpif, upcall, odp_actions, wc);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a>:</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a32b40b99c8deaabe5cc87f8cd5a60598">sflow</a>) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;            <span class="keyword">union </span><a class="code" href="unionuser__action__cookie.html">user_action_cookie</a> cookie;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structnlattr.html">nlattr</a> *actions;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            <span class="keywordtype">size_t</span> actions_len = 0;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <span class="keyword">struct </span><a class="code" href="structdpif__sflow__actions.html">dpif_sflow_actions</a> sflow_actions;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            memset(&amp;sflow_actions, 0, <span class="keyword">sizeof</span> sflow_actions);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;            memset(&amp;cookie, 0, <span class="keyword">sizeof</span> cookie);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            memcpy(&amp;cookie, <a class="code" href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a>(userdata), <span class="keyword">sizeof</span> cookie.sflow);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;            <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">actions</a>) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                <span class="comment">/* Actions were passed up from datapath. */</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                actions = <a class="code" href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a>(upcall-&gt;<a class="code" href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">actions</a>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                actions_len = <a class="code" href="netlink_8c.html#a6003127e134e098f9a448037d3f3a7e5">nl_attr_get_size</a>(upcall-&gt;<a class="code" href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">actions</a>);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                <span class="keywordflow">if</span> (actions &amp;&amp; actions_len) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                    <a class="code" href="ofproto-dpif-sflow_8c.html#a7cadea72afb6649b19a6241d5a2664c1">dpif_sflow_read_actions</a>(flow, actions, actions_len,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                            &amp;sflow_actions);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;            }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            <span class="keywordflow">if</span> (actions_len == 0) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                <span class="comment">/* Lookup actions in userspace cache. */</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey = <a class="code" href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a>(udpif, upcall-&gt;<a class="code" href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">ufid</a>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                <span class="keywordflow">if</span> (ukey) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                    <a class="code" href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a>(ukey, &amp;actions, &amp;actions_len);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                    <a class="code" href="ofproto-dpif-sflow_8c.html#a7cadea72afb6649b19a6241d5a2664c1">dpif_sflow_read_actions</a>(flow, actions, actions_len,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                            &amp;sflow_actions);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;            <a class="code" href="ofproto-dpif-sflow_8c.html#a7d99cbfd39a9b68948ad99e0857b783d">dpif_sflow_received</a>(upcall-&gt;<a class="code" href="structupcall.html#a32b40b99c8deaabe5cc87f8cd5a60598">sflow</a>, packet, flow,</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                                flow-&gt;<a class="code" href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">in_port</a>.<a class="code" href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">odp_port</a>, &amp;cookie,</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                actions_len &gt; 0 ? &amp;sflow_actions : NULL);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a>:</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">ipfix</a>) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            <span class="keyword">union </span><a class="code" href="unionuser__action__cookie.html">user_action_cookie</a> cookie;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;            <span class="keyword">struct </span><a class="code" href="structflow__tnl.html">flow_tnl</a> output_tunnel_key;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            memset(&amp;cookie, 0, <span class="keyword">sizeof</span> cookie);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            memcpy(&amp;cookie, <a class="code" href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a>(userdata), <span class="keyword">sizeof</span> cookie.ipfix);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a8a6776770764e06c773691874f497545">out_tun_key</a>) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                <a class="code" href="odp-util_8c.html#abac8be7b26f336b102e1a86909831c8b">odp_tun_key_from_attr</a>(upcall-&gt;<a class="code" href="structupcall.html#a8a6776770764e06c773691874f497545">out_tun_key</a>, <span class="keyword">false</span>,</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                      &amp;output_tunnel_key);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;            <a class="code" href="ofproto-dpif-ipfix_8c.html#a21034fcd236f800da53a1bd1d74f2a12">dpif_ipfix_bridge_sample</a>(upcall-&gt;<a class="code" href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">ipfix</a>, packet, flow,</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                     flow-&gt;<a class="code" href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">in_port</a>.<a class="code" href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">odp_port</a>,</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                                     cookie.ipfix.output_odp_port,</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                     upcall-&gt;<a class="code" href="structupcall.html#a8a6776770764e06c773691874f497545">out_tun_key</a> ?</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                         &amp;output_tunnel_key : NULL);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        }</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a>:</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">ipfix</a>) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="keyword">union </span><a class="code" href="unionuser__action__cookie.html">user_action_cookie</a> cookie;</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;            memset(&amp;cookie, 0, <span class="keyword">sizeof</span> cookie);</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            memcpy(&amp;cookie, <a class="code" href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a>(userdata), <span class="keyword">sizeof</span> cookie.flow_sample);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="comment">/* The flow reflects exactly the contents of the packet.</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">             * Sample the packet using it. */</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <a class="code" href="ofproto-dpif-ipfix_8c.html#a11b98b3ef1975c68b5c108de705162d4">dpif_ipfix_flow_sample</a>(upcall-&gt;<a class="code" href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">ipfix</a>, packet, flow,</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;                                   cookie.flow_sample.collector_set_id,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                   cookie.flow_sample.probability,</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                                   cookie.flow_sample.obs_domain_id,</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                                   cookie.flow_sample.obs_point_id);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a>:</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">return</span> EAGAIN;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a77e18c945c4d8b7e38e6b1600d1723bf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a77e18c945c4d8b7e38e6b1600d1723bf">upcall_xlate</a></div><div class="ttdeci">static void upcall_xlate(struct udpif *udpif, struct upcall *upcall, struct ofpbuf *odp_actions, struct flow_wildcards *wc)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1017</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa5cbb23a6e2d1473b56d6731a8fe9308a">IPFIX_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:164</div></div>
<div class="ttc" id="structupcall_html_aaca2bd05b9067b91112f2d102a3cb481"><div class="ttname"><a href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">upcall::type</a></div><div class="ttdeci">enum dpif_upcall_type type</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:187</div></div>
<div class="ttc" id="structupcall_html_a32b40b99c8deaabe5cc87f8cd5a60598"><div class="ttname"><a href="structupcall.html#a32b40b99c8deaabe5cc87f8cd5a60598">upcall::sflow</a></div><div class="ttdeci">struct dpif_sflow * sflow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:198</div></div>
<div class="ttc" id="structdp__packet_html"><div class="ttname"><a href="structdp__packet.html">dp_packet</a></div><div class="ttdef"><b>Definition:</b> dp-packet.h:42</div></div>
<div class="ttc" id="netlink_8c_html_aa4e12c4c75202de49731af3f52cda073"><div class="ttname"><a href="netlink_8c.html#aa4e12c4c75202de49731af3f52cda073">nl_attr_get</a></div><div class="ttdeci">const void * nl_attr_get(const struct nlattr *nla)</div><div class="ttdef"><b>Definition:</b> netlink.c:507</div></div>
<div class="ttc" id="ofproto-dpif-ipfix_8c_html_a21034fcd236f800da53a1bd1d74f2a12"><div class="ttname"><a href="ofproto-dpif-ipfix_8c.html#a21034fcd236f800da53a1bd1d74f2a12">dpif_ipfix_bridge_sample</a></div><div class="ttdeci">void dpif_ipfix_bridge_sample(struct dpif_ipfix *di, const struct dp_packet *packet, const struct flow *flow, odp_port_t input_odp_port, odp_port_t output_odp_port, const struct flow_tnl *output_tunnel_key) OVS_EXCLUDED(mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-ipfix.c:1678</div></div>
<div class="ttc" id="structflow__tnl_html"><div class="ttname"><a href="structflow__tnl.html">flow_tnl</a></div><div class="ttdef"><b>Definition:</b> packets.h:37</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a99c310756d5ceb1a77cf1fe434fdf9bf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a99c310756d5ceb1a77cf1fe434fdf9bf">classify_upcall</a></div><div class="ttdeci">static enum upcall_type classify_upcall(enum dpif_upcall_type type, const struct nlattr *userdata)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:897</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa56ea9de515c982b2bfd9ba9fbcd86bc"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a></div><div class="ttdeci">static struct udpif_key * ukey_lookup(struct udpif *udpif, const ovs_u128 *ufid)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1396</div></div>
<div class="ttc" id="structupcall_html_a8a6776770764e06c773691874f497545"><div class="ttname"><a href="structupcall.html#a8a6776770764e06c773691874f497545">upcall::out_tun_key</a></div><div class="ttdeci">const struct nlattr * out_tun_key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:213</div></div>
<div class="ttc" id="structupcall_html_aa2532261bb0f7a55630d595546b6d7a6"><div class="ttname"><a href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">upcall::packet</a></div><div class="ttdeci">const struct dp_packet * packet</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:184</div></div>
<div class="ttc" id="ofproto-dpif-sflow_8c_html_a7cadea72afb6649b19a6241d5a2664c1"><div class="ttname"><a href="ofproto-dpif-sflow_8c.html#a7cadea72afb6649b19a6241d5a2664c1">dpif_sflow_read_actions</a></div><div class="ttdeci">void dpif_sflow_read_actions(const struct flow *flow, const struct nlattr *actions, size_t actions_len, struct dpif_sflow_actions *sflow_actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-sflow.c:1069</div></div>
<div class="ttc" id="structupcall_html_a50175cd39491e43d4b3a833e46be9efc"><div class="ttname"><a href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">upcall::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:182</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaa948f2a10c3d67681f6f8db940c016d4">MISS_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:161</div></div>
<div class="ttc" id="structupcall_html_ae8083eb5ded20bf1544db253e1ad0c8b"><div class="ttname"><a href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">upcall::flow</a></div><div class="ttdeci">const struct flow * flow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:181</div></div>
<div class="ttc" id="unionuser__action__cookie_html"><div class="ttname"><a href="unionuser__action__cookie.html">user_action_cookie</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:268</div></div>
<div class="ttc" id="netlink_8c_html_a6003127e134e098f9a448037d3f3a7e5"><div class="ttname"><a href="netlink_8c.html#a6003127e134e098f9a448037d3f3a7e5">nl_attr_get_size</a></div><div class="ttdeci">size_t nl_attr_get_size(const struct nlattr *nla)</div><div class="ttdef"><b>Definition:</b> netlink.c:515</div></div>
<div class="ttc" id="structupcall_html_ae3d9e5e9b7bbb98fcf83a7def1221070"><div class="ttname"><a href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">upcall::ipfix</a></div><div class="ttdeci">struct dpif_ipfix * ipfix</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:197</div></div>
<div class="ttc" id="structpacket_html"><div class="ttname"><a href="structpacket.html">packet</a></div><div class="ttdef"><b>Definition:</b> pktbuf.c:50</div></div>
<div class="ttc" id="unionflow__in__port_html_abfaef88e731beec19f75dd6114ed9a6c"><div class="ttname"><a href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">flow_in_port::odp_port</a></div><div class="ttdeci">odp_port_t odp_port</div><div class="ttdef"><b>Definition:</b> packets.h:115</div></div>
<div class="ttc" id="odp-util_8c_html_abac8be7b26f336b102e1a86909831c8b"><div class="ttname"><a href="odp-util_8c.html#abac8be7b26f336b102e1a86909831c8b">odp_tun_key_from_attr</a></div><div class="ttdeci">enum odp_key_fitness odp_tun_key_from_attr(const struct nlattr *attr, bool udpif, struct flow_tnl *tun)</div><div class="ttdef"><b>Definition:</b> odp-util.c:1362</div></div>
<div class="ttc" id="structnlattr_html"><div class="ttname"><a href="structnlattr.html">nlattr</a></div><div class="ttdef"><b>Definition:</b> netlink-protocol.h:95</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfac5bc988ddef06d4d39f0de6986736ebb">FLOW_SAMPLE_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:163</div></div>
<div class="ttc" id="structdpif__sflow__actions_html"><div class="ttname"><a href="structdpif__sflow__actions.html">dpif_sflow_actions</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-sflow.h:36</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfa3e68eb9efe66cca10028b677f14a9db8">BAD_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:160</div></div>
<div class="ttc" id="ofproto-dpif-sflow_8c_html_a7d99cbfd39a9b68948ad99e0857b783d"><div class="ttname"><a href="ofproto-dpif-sflow_8c.html#a7d99cbfd39a9b68948ad99e0857b783d">dpif_sflow_received</a></div><div class="ttdeci">void dpif_sflow_received(struct dpif_sflow *ds, const struct dp_packet *packet, const struct flow *flow, odp_port_t odp_in_port, const union user_action_cookie *cookie, const struct dpif_sflow_actions *sflow_actions) OVS_EXCLUDED(mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-sflow.c:1216</div></div>
<div class="ttc" id="structupcall_html_a9facd3160c958eebf93fa12e61859fa3"><div class="ttname"><a href="structupcall.html#a9facd3160c958eebf93fa12e61859fa3">upcall::userdata</a></div><div class="ttdeci">const struct nlattr * userdata</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:188</div></div>
<div class="ttc" id="ofproto-dpif-ipfix_8c_html_a11b98b3ef1975c68b5c108de705162d4"><div class="ttname"><a href="ofproto-dpif-ipfix_8c.html#a11b98b3ef1975c68b5c108de705162d4">dpif_ipfix_flow_sample</a></div><div class="ttdeci">void dpif_ipfix_flow_sample(struct dpif_ipfix *di, const struct dp_packet *packet, const struct flow *flow, uint32_t collector_set_id, uint16_t probability, uint32_t obs_domain_id, uint32_t obs_point_id) OVS_EXCLUDED(mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-ipfix.c:1713</div></div>
<div class="ttc" id="structflow_html"><div class="ttname"><a href="structflow.html">flow</a></div><div class="ttdef"><b>Definition:</b> flow.h:94</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae0755bff0105fdf5ffc57c0cfbb7cf2e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae0755bff0105fdf5ffc57c0cfbb7cf2e">ukey_get_actions</a></div><div class="ttdeci">static void ukey_get_actions(struct udpif_key *, const struct nlattr **actions, size_t *size)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1413</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaf80d62f7bf897ea29ef5a05135ccebfaf619b341c0b0d25f43d416c93f0f58ac">SFLOW_UPCALL</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:162</div></div>
<div class="ttc" id="structflow_html_a534e413e5a768896ec0bd3771ab99b67"><div class="ttname"><a href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">flow::in_port</a></div><div class="ttdeci">union flow_in_port in_port</div><div class="ttdef"><b>Definition:</b> flow.h:103</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
<div class="ttc" id="structupcall_html_ac84ac0a57387cb3e16db2027717cb6e7"><div class="ttname"><a href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">upcall::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:189</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ef0531b8c7f46e04dcec9bec6437607"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void push_ukey_ops </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structumap.html">umap</a> *&#160;</td>
          <td class="paramname"><em>umap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structukey__op.html">ukey_op</a> *&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_ops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;{</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a71f3f1abeb1b276981a5e52793340dbb">push_ukey_ops__</a>(udpif, ops, n_ops);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;umap-&gt;<a class="code" href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">mutex</a>);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_ops; i++) {</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a142c73b7f70ef1adc2687af7d266d8b8">ukey_delete</a>(umap, ops[i].ukey);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;umap-&gt;<a class="code" href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">mutex</a>);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a71f3f1abeb1b276981a5e52793340dbb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a71f3f1abeb1b276981a5e52793340dbb">push_ukey_ops__</a></div><div class="ttdeci">static void push_ukey_ops__(struct udpif *udpif, struct ukey_op *ops, size_t n_ops)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1940</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="structumap_html_a76baa46c56dec642a9e1fb033ec2a3f5"><div class="ttname"><a href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">umap::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:68</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a142c73b7f70ef1adc2687af7d266d8b8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a142c73b7f70ef1adc2687af7d266d8b8">ukey_delete</a></div><div class="ttdeci">static void ukey_delete(struct umap *, struct udpif_key *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1713</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71f3f1abeb1b276981a5e52793340dbb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void push_ukey_ops__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structukey__op.html">ukey_op</a> *&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_ops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;{</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__op.html">dpif_op</a> *opsp[<a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>];</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(n_ops &lt;= <a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>);</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_ops; i++) {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        opsp[i] = &amp;ops[i].<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="dpif_8c.html#aef8b5f75c227bfe9d2c2189e3e0e286d">dpif_operate</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, opsp, n_ops);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_ops; i++) {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        <span class="keyword">struct </span><a class="code" href="structukey__op.html">ukey_op</a> *op = &amp;ops[i];</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="keyword">struct </span><a class="code" href="structdpif__flow__stats.html">dpif_flow_stats</a> *push, *stats, push_buf;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        stats = op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a89424325c39c4f6443be9630f698de61">stats</a>;</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;        push = &amp;push_buf;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">if</span> (op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">type</a> != <a class="code" href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524">DPIF_OP_FLOW_DEL</a>) {</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <span class="comment">/* Only deleted flows need their stats pushed. */</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        <span class="keywordflow">if</span> (op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#ad4ffe15c490384b80f92cf9a9c6d280b">error</a>) {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;            <span class="comment">/* flow_del error, &#39;stats&#39; is unusable. */</span></div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        }</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        <span class="keywordflow">if</span> (op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>) {</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;            <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;            push-&gt;<a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a> = <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(stats-&gt;<a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a>, op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;stats.used);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;            push-&gt;<a class="code" href="structdpif__flow__stats.html#a7e0695c06fb54b18d047f0819360b23b">tcp_flags</a> = stats-&gt;<a class="code" href="structdpif__flow__stats.html#a7e0695c06fb54b18d047f0819360b23b">tcp_flags</a> | op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;stats.tcp_flags;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;            push-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> = stats-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> - op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;stats.n_packets;</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            push-&gt;<a class="code" href="structdpif__flow__stats.html#aa3c660293fec2a5dc18cb5933bdac0cb">n_bytes</a> = stats-&gt;<a class="code" href="structdpif__flow__stats.html#aa3c660293fec2a5dc18cb5933bdac0cb">n_bytes</a> - op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;stats.n_bytes;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            push = stats;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        <span class="keywordflow">if</span> (push-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> || <a class="code" href="netflow_8c.html#a65c7ca4d306099feaabf8cf2ddc53c05">netflow_exists</a>()) {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structnlattr.html">nlattr</a> *<a class="code" href="uuid_8c.html#ac7bb0c346c8ea34e241d12fcba77c4bb">key</a> = op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a5067ab8565982f2069ee283cd2ae1c7c">key</a>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <span class="keywordtype">size_t</span> key_len = op-&gt;<a class="code" href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">dop</a>.<a class="code" href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">u</a>.<a class="code" href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">flow_del</a>.<a class="code" href="structdpif__flow__del.html#a39b0e269419e6c6d3861068bd82d6203">key_len</a>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            <span class="keyword">struct </span><a class="code" href="structofproto__dpif.html">ofproto_dpif</a> *<a class="code" href="structofproto.html">ofproto</a>;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="keyword">struct </span><a class="code" href="structnetflow.html">netflow</a> *<a class="code" href="structnetflow.html">netflow</a>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            <a class="code" href="include_2openvswitch_2types_8h.html#aff832934c497b6039908104989c8c9f2">ofp_port_t</a> ofp_in_port;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;            <span class="keyword">struct </span><a class="code" href="structflow.html">flow</a> <a class="code" href="structflow.html">flow</a>;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            <span class="keywordflow">if</span> (op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                <span class="keywordflow">if</span> (op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;xcache) {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                    <a class="code" href="ofproto-dpif-xlate_8c.html#a19b5bba4e1644dda0f5634d6226222e1">xlate_push_stats</a>(op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;xcache, push);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                key = op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                key_len = op-&gt;<a class="code" href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey</a>-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="odp-util_8c.html#af43cd3f85a9fe1536daf84f1c4356473">odp_flow_key_to_flow</a>(key, key_len, &amp;<a class="code" href="structflow.html">flow</a>)</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                == <a class="code" href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a>) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            error = <a class="code" href="ofproto-dpif-xlate_8c.html#ab2a55b7a406eb7048dc4d1b80b92c541">xlate_lookup</a>(udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>, &amp;<a class="code" href="structflow.html">flow</a>, &amp;ofproto, NULL, NULL,</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                                 &amp;netflow, &amp;ofp_in_port);</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;            <span class="keywordflow">if</span> (!error) {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                <span class="keyword">struct </span><a class="code" href="structxlate__in.html">xlate_in</a> xin;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                <a class="code" href="ofproto-dpif-xlate_8c.html#a5dcbc7380716bd7f7e7bb868d435e8f8">xlate_in_init</a>(&amp;xin, ofproto, &amp;<a class="code" href="structflow.html">flow</a>, ofp_in_port, NULL,</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;                              push-&gt;<a class="code" href="structdpif__flow__stats.html#a7e0695c06fb54b18d047f0819360b23b">tcp_flags</a>, NULL, NULL, NULL);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                xin.resubmit_stats = push-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> ? push : NULL;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                xin.may_learn = push-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> &gt; 0;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;                <a class="code" href="ofproto-dpif-xlate_8c.html#af78ba12274733d60520002aca80855e6">xlate_actions_for_side_effects</a>(&amp;xin);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                <span class="keywordflow">if</span> (netflow) {</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                    <a class="code" href="netflow_8c.html#a7ac427b2d19c2c81c45d5857eb88e6e5">netflow_flow_clear</a>(netflow, &amp;<a class="code" href="structflow.html">flow</a>);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            }</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        }</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    }</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;}</div>
<div class="ttc" id="structdpif__flow__del_html_a5067ab8565982f2069ee283cd2ae1c7c"><div class="ttname"><a href="structdpif__flow__del.html#a5067ab8565982f2069ee283cd2ae1c7c">dpif_flow_del::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:669</div></div>
<div class="ttc" id="netflow_8c_html_a65c7ca4d306099feaabf8cf2ddc53c05"><div class="ttname"><a href="netflow_8c.html#a65c7ca4d306099feaabf8cf2ddc53c05">netflow_exists</a></div><div class="ttdeci">bool netflow_exists(void)</div><div class="ttdef"><b>Definition:</b> netflow.c:425</div></div>
<div class="ttc" id="netflow_8c_html_a7ac427b2d19c2c81c45d5857eb88e6e5"><div class="ttname"><a href="netflow_8c.html#a7ac427b2d19c2c81c45d5857eb88e6e5">netflow_flow_clear</a></div><div class="ttdeci">void netflow_flow_clear(struct netflow *nf, const struct flow *flow) OVS_EXCLUDED(mutex)</div><div class="ttdef"><b>Definition:</b> netflow.c:279</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a7e0695c06fb54b18d047f0819360b23b"><div class="ttname"><a href="structdpif__flow__stats.html#a7e0695c06fb54b18d047f0819360b23b">dpif_flow_stats::tcp_flags</a></div><div class="ttdeci">uint16_t tcp_flags</div><div class="ttdef"><b>Definition:</b> dpif.h:505</div></div>
<div class="ttc" id="lib_2util_8h_html_ac236d3d8f33428ab822cc4e277a451c8"><div class="ttname"><a href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a></div><div class="ttdeci">#define ovs_assert(CONDITION)</div><div class="ttdef"><b>Definition:</b> util.h:73</div></div>
<div class="ttc" id="structdpif__op_html_a1f28a4c3b15af3921b18f42c848049fb"><div class="ttname"><a href="structdpif__op.html#a1f28a4c3b15af3921b18f42c848049fb">dpif_op::u</a></div><div class="ttdeci">union dpif_op::@99 u</div></div>
<div class="ttc" id="odp-util_8h_html_a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb"><div class="ttname"><a href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:218</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="structxlate__in_html"><div class="ttname"><a href="structxlate__in.html">xlate_in</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:106</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a19b5bba4e1644dda0f5634d6226222e1"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a19b5bba4e1644dda0f5634d6226222e1">xlate_push_stats</a></div><div class="ttdeci">void xlate_push_stats(struct xlate_cache *xcache, const struct dpif_flow_stats *stats)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:5171</div></div>
<div class="ttc" id="structdpif__op_html_ad4ffe15c490384b80f92cf9a9c6d280b"><div class="ttname"><a href="structdpif__op.html#ad4ffe15c490384b80f92cf9a9c6d280b">dpif_op::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> dpif.h:746</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_ab2a55b7a406eb7048dc4d1b80b92c541"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#ab2a55b7a406eb7048dc4d1b80b92c541">xlate_lookup</a></div><div class="ttdeci">int xlate_lookup(const struct dpif_backer *backer, const struct flow *flow, struct ofproto_dpif **ofprotop, struct dpif_ipfix **ipfix, struct dpif_sflow **sflow, struct netflow **netflow, ofp_port_t *ofp_in_port)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:1136</div></div>
<div class="ttc" id="structdpif__op_html_ac37751a7f95ea0f2266bd2d78109de8e"><div class="ttname"><a href="structdpif__op.html#ac37751a7f95ea0f2266bd2d78109de8e">dpif_op::flow_del</a></div><div class="ttdeci">struct dpif_flow_del flow_del</div><div class="ttdef"><b>Definition:</b> dpif.h:749</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a251191e613f179c0b6a4f7f8c051c5c7"><div class="ttname"><a href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">dpif_flow_stats::n_packets</a></div><div class="ttdeci">uint64_t n_packets</div><div class="ttdef"><b>Definition:</b> dpif.h:502</div></div>
<div class="ttc" id="structdpif__op_html_a713b9732e8ee6c7cd4663ac0a2b90acd"><div class="ttname"><a href="structdpif__op.html#a713b9732e8ee6c7cd4663ac0a2b90acd">dpif_op::type</a></div><div class="ttdeci">enum dpif_op_type type</div><div class="ttdef"><b>Definition:</b> dpif.h:745</div></div>
<div class="ttc" id="structdpif__op_html"><div class="ttname"><a href="structdpif__op.html">dpif_op</a></div><div class="ttdef"><b>Definition:</b> dpif.h:744</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="include_2openvswitch_2types_8h_html_aff832934c497b6039908104989c8c9f2"><div class="ttname"><a href="include_2openvswitch_2types_8h.html#aff832934c497b6039908104989c8c9f2">ofp_port_t</a></div><div class="ttdeci">uint16_t OVS_BITWISE ofp_port_t</div><div class="ttdef"><b>Definition:</b> types.h:100</div></div>
<div class="ttc" id="structukey__op_html"><div class="ttname"><a href="structukey__op.html">ukey_op</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:268</div></div>
<div class="ttc" id="dpif_8c_html_aef8b5f75c227bfe9d2c2189e3e0e286d"><div class="ttname"><a href="dpif_8c.html#aef8b5f75c227bfe9d2c2189e3e0e286d">dpif_operate</a></div><div class="ttdeci">void dpif_operate(struct dpif *dpif, struct dpif_op **ops, size_t n_ops)</div><div class="ttdef"><b>Definition:</b> dpif.c:1202</div></div>
<div class="ttc" id="structdpif__flow__del_html_a89424325c39c4f6443be9630f698de61"><div class="ttname"><a href="structdpif__flow__del.html#a89424325c39c4f6443be9630f698de61">dpif_flow_del::stats</a></div><div class="ttdeci">struct dpif_flow_stats * stats</div><div class="ttdef"><b>Definition:</b> dpif.h:677</div></div>
<div class="ttc" id="structofproto_html"><div class="ttname"><a href="structofproto.html">ofproto</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:65</div></div>
<div class="ttc" id="structukey__op_html_a374668b27e9b185835731213f474891f"><div class="ttname"><a href="structukey__op.html#a374668b27e9b185835731213f474891f">ukey_op::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:269</div></div>
<div class="ttc" id="structnlattr_html"><div class="ttname"><a href="structnlattr.html">nlattr</a></div><div class="ttdef"><b>Definition:</b> netlink-protocol.h:95</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_af78ba12274733d60520002aca80855e6"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#af78ba12274733d60520002aca80855e6">xlate_actions_for_side_effects</a></div><div class="ttdeci">void xlate_actions_for_side_effects(struct xlate_in *xin)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4554</div></div>
<div class="ttc" id="odp-util_8c_html_af43cd3f85a9fe1536daf84f1c4356473"><div class="ttname"><a href="odp-util_8c.html#af43cd3f85a9fe1536daf84f1c4356473">odp_flow_key_to_flow</a></div><div class="ttdeci">enum odp_key_fitness odp_flow_key_to_flow(const struct nlattr *key, size_t key_len, struct flow *flow)</div><div class="ttdef"><b>Definition:</b> odp-util.c:4222</div></div>
<div class="ttc" id="dpif_8h_html_a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524"><div class="ttname"><a href="dpif_8h.html#a40554385cdbb16d70fa82ba602664377aba2cc06799f57cd1586f0eaafc872524">DPIF_OP_FLOW_DEL</a></div><div class="ttdef"><b>Definition:</b> dpif.h:602</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6deb9dcf66414a28e87ba85974b63701"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a></div><div class="ttdeci">#define REVALIDATE_MAX_BATCH</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:45</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a06f9cd7ff557672ae46c9d0b7d0c888f"><div class="ttname"><a href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">dpif_flow_stats::used</a></div><div class="ttdeci">long long int used</div><div class="ttdef"><b>Definition:</b> dpif.h:504</div></div>
<div class="ttc" id="structukey__op_html_ae466eacb078c9a82cc52204ad4168d95"><div class="ttname"><a href="structukey__op.html#ae466eacb078c9a82cc52204ad4168d95">ukey_op::dop</a></div><div class="ttdeci">struct dpif_op dop</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:271</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a5dcbc7380716bd7f7e7bb868d435e8f8"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a5dcbc7380716bd7f7e7bb868d435e8f8">xlate_in_init</a></div><div class="ttdeci">void xlate_in_init(struct xlate_in *xin, struct ofproto_dpif *ofproto, const struct flow *flow, ofp_port_t in_port, struct rule_dpif *rule, uint16_t tcp_flags, const struct dp_packet *packet, struct flow_wildcards *wc, struct ofpbuf *odp_actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4514</div></div>
<div class="ttc" id="structdpif__flow__stats_html"><div class="ttname"><a href="structdpif__flow__stats.html">dpif_flow_stats</a></div><div class="ttdef"><b>Definition:</b> dpif.h:501</div></div>
<div class="ttc" id="structnetflow_html"><div class="ttname"><a href="structnetflow.html">netflow</a></div><div class="ttdef"><b>Definition:</b> netflow.c:40</div></div>
<div class="ttc" id="structofproto__dpif_html"><div class="ttname"><a href="structofproto__dpif.html">ofproto_dpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:294</div></div>
<div class="ttc" id="structdpif__flow__stats_html_aa3c660293fec2a5dc18cb5933bdac0cb"><div class="ttname"><a href="structdpif__flow__stats.html#aa3c660293fec2a5dc18cb5933bdac0cb">dpif_flow_stats::n_bytes</a></div><div class="ttdeci">uint64_t n_bytes</div><div class="ttdef"><b>Definition:</b> dpif.h:503</div></div>
<div class="ttc" id="lib_2util_8h_html_aff9931d7524c88e07743af6535b20761"><div class="ttname"><a href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a></div><div class="ttdeci">#define MAX(X, Y)</div><div class="ttdef"><b>Definition:</b> util.h:173</div></div>
<div class="ttc" id="structflow_html"><div class="ttname"><a href="structflow.html">flow</a></div><div class="ttdef"><b>Definition:</b> flow.h:94</div></div>
<div class="ttc" id="structdpif__flow__del_html_a39b0e269419e6c6d3861068bd82d6203"><div class="ttname"><a href="structdpif__flow__del.html#a39b0e269419e6c6d3861068bd82d6203">dpif_flow_del::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:670</div></div>
<div class="ttc" id="uuid_8c_html_ac7bb0c346c8ea34e241d12fcba77c4bb"><div class="ttname"><a href="uuid_8c.html#ac7bb0c346c8ea34e241d12fcba77c4bb">key</a></div><div class="ttdeci">static struct aes128 key</div><div class="ttdef"><b>Definition:</b> uuid.c:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3914ac3789024eefed86caac43f6ebc0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t recv_upcalls </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhandler.html">handler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;{</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = handler-&gt;<a class="code" href="structhandler.html#a24c38ecdb7e3bd556792589661470683">udpif</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> recv_stubs[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>][512 / 8];</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> recv_bufs[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>];</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__upcall.html">dpif_upcall</a> dupcalls[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>];</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keyword">struct </span><a class="code" href="structupcall.html">upcall</a> upcalls[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>];</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keyword">struct </span><a class="code" href="structflow.html">flow</a> flows[<a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>];</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">size_t</span> n_upcalls, i;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    n_upcalls = 0;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">while</span> (n_upcalls &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a>) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *recv_buf = &amp;recv_bufs[n_upcalls];</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keyword">struct </span><a class="code" href="structdpif__upcall.html">dpif_upcall</a> *dupcall = &amp;dupcalls[n_upcalls];</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keyword">struct </span><a class="code" href="structupcall.html">upcall</a> *<a class="code" href="structupcall.html">upcall</a> = &amp;upcalls[n_upcalls];</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keyword">struct </span><a class="code" href="structflow.html">flow</a> *<a class="code" href="structflow.html">flow</a> = &amp;flows[n_upcalls];</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="ofpbuf_8c.html#abcfff4264feab742dd56a311ab18b5ca">ofpbuf_use_stub</a>(recv_buf, recv_stubs[n_upcalls],</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                        <span class="keyword">sizeof</span> recv_stubs[n_upcalls]);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="dpif_8c.html#ade200fd9ab33611f2dd625a247a29956">dpif_recv</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, handler-&gt;<a class="code" href="structhandler.html#af72bb0b11bcabf3b764e9c4d561b03da">handler_id</a>, dupcall, recv_buf)) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(recv_buf);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        }</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="odp-util_8c.html#af43cd3f85a9fe1536daf84f1c4356473">odp_flow_key_to_flow</a>(dupcall-&gt;<a class="code" href="structdpif__upcall.html#a6e3750e2e3918876a20539aa94648f69">key</a>, dupcall-&gt;<a class="code" href="structdpif__upcall.html#aa6236d97513b7598658874eaa7762661">key_len</a>, flow)</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            == <a class="code" href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">goto</span> free_dupcall;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        error = <a class="code" href="ofproto-dpif-upcall_8c.html#af16985a80cfbcf776a0eadc0a380af61">upcall_receive</a>(upcall, udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>, &amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a2ccb6c4cababb5b56bd64774e33d9041">packet</a>,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                               dupcall-&gt;<a class="code" href="structdpif__upcall.html#aaf53fa3a473e49c24de35f88f397e808">type</a>, dupcall-&gt;<a class="code" href="structdpif__upcall.html#a259d95d1921a0c34f6b689c8bb6eb2f1">userdata</a>, flow,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                               &amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a1ce13d6fec3d38ac9d4b2e69ac8e4d9b">ufid</a>, <a class="code" href="dpif_8h.html#a45c9ba50fe89c64e48e95a367602c61c">PMD_ID_NULL</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="keywordflow">if</span> (error == ENODEV) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                <span class="comment">/* Received packet on datapath port for which we couldn&#39;t</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">                 * associate an ofproto.  This can happen if a port is removed</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">                 * while traffic is being received.  Print a rate-limited</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">                 * message in case it happens frequently. */</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                <a class="code" href="dpif_8c.html#a98029717482a7da4631edd74220ac3bd">dpif_flow_put</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, <a class="code" href="dpif_8h.html#a97bc40b3a3c15975d24966944014d295af2c26802339593878a81af486591f0fb">DPIF_FP_CREATE</a>, dupcall-&gt;<a class="code" href="structdpif__upcall.html#a6e3750e2e3918876a20539aa94648f69">key</a>,</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                              dupcall-&gt;<a class="code" href="structdpif__upcall.html#aa6236d97513b7598658874eaa7762661">key_len</a>, NULL, 0, NULL, 0,</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                              &amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a1ce13d6fec3d38ac9d4b2e69ac8e4d9b">ufid</a>, <a class="code" href="dpif_8h.html#a45c9ba50fe89c64e48e95a367602c61c">PMD_ID_NULL</a>, NULL);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                <a class="code" href="vlog_8h.html#aadc063cb296e2ccbe99109fa331b19dc">VLOG_INFO_RL</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a>, <span class="stringliteral">&quot;received packet on unassociated datapath &quot;</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                             <span class="stringliteral">&quot;port %&quot;</span>PRIu32, flow-&gt;<a class="code" href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">in_port</a>.<a class="code" href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">odp_port</a>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">goto</span> free_dupcall;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        upcall-&gt;<a class="code" href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">key</a> = dupcall-&gt;<a class="code" href="structdpif__upcall.html#a6e3750e2e3918876a20539aa94648f69">key</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        upcall-&gt;<a class="code" href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">key_len</a> = dupcall-&gt;<a class="code" href="structdpif__upcall.html#aa6236d97513b7598658874eaa7762661">key_len</a>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        upcall-&gt;<a class="code" href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">ufid</a> = &amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a1ce13d6fec3d38ac9d4b2e69ac8e4d9b">ufid</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        upcall-&gt;<a class="code" href="structupcall.html#a8a6776770764e06c773691874f497545">out_tun_key</a> = dupcall-&gt;<a class="code" href="structdpif__upcall.html#af2781d1cba9777578f57ee280e3a18be">out_tun_key</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        upcall-&gt;<a class="code" href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">actions</a> = dupcall-&gt;<a class="code" href="structdpif__upcall.html#a1d10510bb286145384dcc6995d3d149f">actions</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ofproto-dpif_8c.html#abebbfa262adabe7f46fed0cf325dd2e1">vsp_adjust_flow</a>(upcall-&gt;<a class="code" href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">ofproto</a>, flow, &amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a2ccb6c4cababb5b56bd64774e33d9041">packet</a>)) {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            upcall-&gt;<a class="code" href="structupcall.html#a22c76efd22401afc7523116bf6caf1c6">vsp_adjusted</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <a class="code" href="lib_2flow_8h.html#aec58aaa90af24e109c3269487fc6e1ac">pkt_metadata_from_flow</a>(&amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a2ccb6c4cababb5b56bd64774e33d9041">packet</a>.<a class="code" href="structdp__packet.html#aae9fe2c57f12edf4a91e62990077af26">md</a>, flow);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="lib_2flow_8c.html#a2eb08853d5a9ba0a44b42332ad994b2a">flow_extract</a>(&amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a2ccb6c4cababb5b56bd64774e33d9041">packet</a>, flow);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        error = <a class="code" href="ofproto-dpif-upcall_8c.html#ab2ed439ca184252dd86a64e4f4775a63">process_upcall</a>(udpif, upcall,</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                               &amp;upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>, &amp;upcall-&gt;<a class="code" href="structupcall.html#abe4f17214e74b74a8532e3e6ab501ee5">wc</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="ovstest_8c.html#a5c6551bf9ea9cf51ae7f2076c4cbe8ef">cleanup</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        n_upcalls++;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<a class="code" href="ovstest_8c.html#a5c6551bf9ea9cf51ae7f2076c4cbe8ef">cleanup</a>:</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#ad0b09d8fba3d50cf3e90e9ca30efd76f">upcall_uninit</a>(upcall);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;free_dupcall:</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <a class="code" href="dp-packet_8c.html#af630d7bcb34d99fffce64ab5631b4344">dp_packet_uninit</a>(&amp;dupcall-&gt;<a class="code" href="structdpif__upcall.html#a2ccb6c4cababb5b56bd64774e33d9041">packet</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(recv_buf);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (n_upcalls) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a0ff5f45f0ab3792f7b2601aad689c8f9">handle_upcalls</a>(handler-&gt;<a class="code" href="structhandler.html#a24c38ecdb7e3bd556792589661470683">udpif</a>, upcalls, n_upcalls);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; n_upcalls; i++) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="dp-packet_8c.html#af630d7bcb34d99fffce64ab5631b4344">dp_packet_uninit</a>(&amp;dupcalls[i].<a class="code" href="structpacket.html">packet</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(&amp;recv_bufs[i]);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#ad0b09d8fba3d50cf3e90e9ca30efd76f">upcall_uninit</a>(&amp;upcalls[i]);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">return</span> n_upcalls;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="ttc" id="ofpbuf_8c_html_abcfff4264feab742dd56a311ab18b5ca"><div class="ttname"><a href="ofpbuf_8c.html#abcfff4264feab742dd56a311ab18b5ca">ofpbuf_use_stub</a></div><div class="ttdeci">void ofpbuf_use_stub(struct ofpbuf *b, void *base, size_t allocated)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:101</div></div>
<div class="ttc" id="structdpif__upcall_html_a2ccb6c4cababb5b56bd64774e33d9041"><div class="ttname"><a href="structdpif__upcall.html#a2ccb6c4cababb5b56bd64774e33d9041">dpif_upcall::packet</a></div><div class="ttdeci">struct dp_packet packet</div><div class="ttdef"><b>Definition:</b> dpif.h:779</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaefef3f9352e50aeddf53d36bd71477c"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaefef3f9352e50aeddf53d36bd71477c">UPCALL_MAX_BATCH</a></div><div class="ttdeci">#define UPCALL_MAX_BATCH</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:44</div></div>
<div class="ttc" id="structupcall_html_a8b07b004e727e57198bc2e3fa9893db8"><div class="ttname"><a href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">upcall::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:211</div></div>
<div class="ttc" id="structupcall_html_a4aa95fcd7454add0d87603e613b5a049"><div class="ttname"><a href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">upcall::odp_actions</a></div><div class="ttdeci">struct ofpbuf odp_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:193</div></div>
<div class="ttc" id="structdpif__upcall_html_a259d95d1921a0c34f6b689c8bb6eb2f1"><div class="ttname"><a href="structdpif__upcall.html#a259d95d1921a0c34f6b689c8bb6eb2f1">dpif_upcall::userdata</a></div><div class="ttdeci">struct nlattr * userdata</div><div class="ttdef"><b>Definition:</b> dpif.h:785</div></div>
<div class="ttc" id="odp-util_8h_html_a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb"><div class="ttname"><a href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:218</div></div>
<div class="ttc" id="structdpif__upcall_html_af2781d1cba9777578f57ee280e3a18be"><div class="ttname"><a href="structdpif__upcall.html#af2781d1cba9777578f57ee280e3a18be">dpif_upcall::out_tun_key</a></div><div class="ttdeci">struct nlattr * out_tun_key</div><div class="ttdef"><b>Definition:</b> dpif.h:786</div></div>
<div class="ttc" id="structupcall_html_a22c76efd22401afc7523116bf6caf1c6"><div class="ttname"><a href="structupcall.html#a22c76efd22401afc7523116bf6caf1c6">upcall::vsp_adjusted</a></div><div class="ttdeci">bool vsp_adjusted</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:200</div></div>
<div class="ttc" id="structupcall_html_a5c0d32dbe2efd0058ea36e207e51edee"><div class="ttname"><a href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">upcall::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:212</div></div>
<div class="ttc" id="dp-packet_8c_html_af630d7bcb34d99fffce64ab5631b4344"><div class="ttname"><a href="dp-packet_8c.html#af630d7bcb34d99fffce64ab5631b4344">dp_packet_uninit</a></div><div class="ttdeci">void dp_packet_uninit(struct dp_packet *b)</div><div class="ttdef"><b>Definition:</b> dp-packet.c:112</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ad0b09d8fba3d50cf3e90e9ca30efd76f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ad0b09d8fba3d50cf3e90e9ca30efd76f">upcall_uninit</a></div><div class="ttdeci">static void upcall_uninit(struct upcall *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1100</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="structupcall_html_a8a6776770764e06c773691874f497545"><div class="ttname"><a href="structupcall.html#a8a6776770764e06c773691874f497545">upcall::out_tun_key</a></div><div class="ttdeci">const struct nlattr * out_tun_key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:213</div></div>
<div class="ttc" id="structupcall_html_a50175cd39491e43d4b3a833e46be9efc"><div class="ttname"><a href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">upcall::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:182</div></div>
<div class="ttc" id="structdpif__upcall_html_a1d10510bb286145384dcc6995d3d149f"><div class="ttname"><a href="structdpif__upcall.html#a1d10510bb286145384dcc6995d3d149f">dpif_upcall::actions</a></div><div class="ttdeci">struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> dpif.h:787</div></div>
<div class="ttc" id="structpacket_html"><div class="ttname"><a href="structpacket.html">packet</a></div><div class="ttdef"><b>Definition:</b> pktbuf.c:50</div></div>
<div class="ttc" id="unionflow__in__port_html_abfaef88e731beec19f75dd6114ed9a6c"><div class="ttname"><a href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">flow_in_port::odp_port</a></div><div class="ttdeci">odp_port_t odp_port</div><div class="ttdef"><b>Definition:</b> packets.h:115</div></div>
<div class="ttc" id="structdpif__upcall_html"><div class="ttname"><a href="structdpif__upcall.html">dpif_upcall</a></div><div class="ttdef"><b>Definition:</b> dpif.h:776</div></div>
<div class="ttc" id="dpif_8c_html_ade200fd9ab33611f2dd625a247a29956"><div class="ttname"><a href="dpif_8c.html#ade200fd9ab33611f2dd625a247a29956">dpif_recv</a></div><div class="ttdeci">int dpif_recv(struct dpif *dpif, uint32_t handler_id, struct dpif_upcall *upcall, struct ofpbuf *buf)</div><div class="ttdef"><b>Definition:</b> dpif.c:1439</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5c9348c27442ef5e4a96246373ad6c6b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a></div><div class="ttdeci">static struct vlog_rate_limit rl</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:274</div></div>
<div class="ttc" id="structdp__packet_html_aae9fe2c57f12edf4a91e62990077af26"><div class="ttname"><a href="structdp__packet.html#aae9fe2c57f12edf4a91e62990077af26">dp_packet::md</a></div><div class="ttdeci">struct pkt_metadata md</div><div class="ttdef"><b>Definition:</b> dp-packet.h:60</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a0ff5f45f0ab3792f7b2601aad689c8f9"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a0ff5f45f0ab3792f7b2601aad689c8f9">handle_upcalls</a></div><div class="ttdeci">static void handle_upcalls(struct udpif *, struct upcall *, size_t n_upcalls)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1272</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab2ed439ca184252dd86a64e4f4775a63"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab2ed439ca184252dd86a64e4f4775a63">process_upcall</a></div><div class="ttdeci">static int process_upcall(struct udpif *, struct upcall *, struct ofpbuf *odp_actions, struct flow_wildcards *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1182</div></div>
<div class="ttc" id="dpif_8h_html_a45c9ba50fe89c64e48e95a367602c61c"><div class="ttname"><a href="dpif_8h.html#a45c9ba50fe89c64e48e95a367602c61c">PMD_ID_NULL</a></div><div class="ttdeci">#define PMD_ID_NULL</div><div class="ttdef"><b>Definition:</b> dpif.h:574</div></div>
<div class="ttc" id="structhandler_html_af72bb0b11bcabf3b764e9c4d561b03da"><div class="ttname"><a href="structhandler.html#af72bb0b11bcabf3b764e9c4d561b03da">handler::handler_id</a></div><div class="ttdeci">uint32_t handler_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:60</div></div>
<div class="ttc" id="ofpbuf_8c_html_a62dd653f401f851b82827648e7d28759"><div class="ttname"><a href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a></div><div class="ttdeci">void ofpbuf_uninit(struct ofpbuf *b)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:129</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structhandler_html_a24c38ecdb7e3bd556792589661470683"><div class="ttname"><a href="structhandler.html#a24c38ecdb7e3bd556792589661470683">handler::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:58</div></div>
<div class="ttc" id="ofproto-dpif_8c_html_abebbfa262adabe7f46fed0cf325dd2e1"><div class="ttname"><a href="ofproto-dpif_8c.html#abebbfa262adabe7f46fed0cf325dd2e1">vsp_adjust_flow</a></div><div class="ttdeci">bool vsp_adjust_flow(const struct ofproto_dpif *ofproto, struct flow *flow, struct dp_packet *packet) OVS_EXCLUDED(ofproto-&gt; vsp_mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:5345</div></div>
<div class="ttc" id="structupcall_html"><div class="ttname"><a href="structupcall.html">upcall</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:173</div></div>
<div class="ttc" id="structdpif__upcall_html_aaf53fa3a473e49c24de35f88f397e808"><div class="ttname"><a href="structdpif__upcall.html#aaf53fa3a473e49c24de35f88f397e808">dpif_upcall::type</a></div><div class="ttdeci">enum dpif_upcall_type type</div><div class="ttdef"><b>Definition:</b> dpif.h:778</div></div>
<div class="ttc" id="odp-util_8c_html_af43cd3f85a9fe1536daf84f1c4356473"><div class="ttname"><a href="odp-util_8c.html#af43cd3f85a9fe1536daf84f1c4356473">odp_flow_key_to_flow</a></div><div class="ttdeci">enum odp_key_fitness odp_flow_key_to_flow(const struct nlattr *key, size_t key_len, struct flow *flow)</div><div class="ttdef"><b>Definition:</b> odp-util.c:4222</div></div>
<div class="ttc" id="structdpif__upcall_html_a6e3750e2e3918876a20539aa94648f69"><div class="ttname"><a href="structdpif__upcall.html#a6e3750e2e3918876a20539aa94648f69">dpif_upcall::key</a></div><div class="ttdeci">struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:780</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="structdpif__upcall_html_aa6236d97513b7598658874eaa7762661"><div class="ttname"><a href="structdpif__upcall.html#aa6236d97513b7598658874eaa7762661">dpif_upcall::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:781</div></div>
<div class="ttc" id="lib_2flow_8c_html_a2eb08853d5a9ba0a44b42332ad994b2a"><div class="ttname"><a href="lib_2flow_8c.html#a2eb08853d5a9ba0a44b42332ad994b2a">flow_extract</a></div><div class="ttdeci">void flow_extract(struct dp_packet *packet, struct flow *flow)</div><div class="ttdef"><b>Definition:</b> flow.c:423</div></div>
<div class="ttc" id="dpif_8c_html_a98029717482a7da4631edd74220ac3bd"><div class="ttname"><a href="dpif_8c.html#a98029717482a7da4631edd74220ac3bd">dpif_flow_put</a></div><div class="ttdeci">int dpif_flow_put(struct dpif *dpif, enum dpif_flow_put_flags flags, const struct nlattr *key, size_t key_len, const struct nlattr *mask, size_t mask_len, const struct nlattr *actions, size_t actions_len, const ovs_u128 *ufid, const unsigned pmd_id, struct dpif_flow_stats *stats)</div><div class="ttdef"><b>Definition:</b> dpif.c:949</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="vlog_8h_html_aadc063cb296e2ccbe99109fa331b19dc"><div class="ttname"><a href="vlog_8h.html#aadc063cb296e2ccbe99109fa331b19dc">VLOG_INFO_RL</a></div><div class="ttdeci">#define VLOG_INFO_RL(RL,...)</div><div class="ttdef"><b>Definition:</b> vlog.h:214</div></div>
<div class="ttc" id="lib_2flow_8h_html_aec58aaa90af24e109c3269487fc6e1ac"><div class="ttname"><a href="lib_2flow_8h.html#aec58aaa90af24e109c3269487fc6e1ac">pkt_metadata_from_flow</a></div><div class="ttdeci">static void pkt_metadata_from_flow(struct pkt_metadata *md, const struct flow *flow)</div><div class="ttdef"><b>Definition:</b> flow.h:975</div></div>
<div class="ttc" id="structupcall_html_abe4f17214e74b74a8532e3e6ab501ee5"><div class="ttname"><a href="structupcall.html#abe4f17214e74b74a8532e3e6ab501ee5">upcall::wc</a></div><div class="ttdeci">struct flow_wildcards wc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:194</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_af16985a80cfbcf776a0eadc0a380af61"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#af16985a80cfbcf776a0eadc0a380af61">upcall_receive</a></div><div class="ttdeci">static int upcall_receive(struct upcall *, const struct dpif_backer *, const struct dp_packet *packet, enum dpif_upcall_type, const struct nlattr *userdata, const struct flow *, const ovs_u128 *ufid, const unsigned pmd_id)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:977</div></div>
<div class="ttc" id="structdpif__upcall_html_a1ce13d6fec3d38ac9d4b2e69ac8e4d9b"><div class="ttname"><a href="structdpif__upcall.html#a1ce13d6fec3d38ac9d4b2e69ac8e4d9b">dpif_upcall::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:782</div></div>
<div class="ttc" id="ovstest_8c_html_a5c6551bf9ea9cf51ae7f2076c4cbe8ef"><div class="ttname"><a href="ovstest_8c.html#a5c6551bf9ea9cf51ae7f2076c4cbe8ef">cleanup</a></div><div class="ttdeci">static void cleanup(void)</div><div class="ttdef"><b>Definition:</b> ovstest.c:109</div></div>
<div class="ttc" id="structflow_html"><div class="ttname"><a href="structflow.html">flow</a></div><div class="ttdef"><b>Definition:</b> flow.h:94</div></div>
<div class="ttc" id="dpif_8h_html_a97bc40b3a3c15975d24966944014d295af2c26802339593878a81af486591f0fb"><div class="ttname"><a href="dpif_8h.html#a97bc40b3a3c15975d24966944014d295af2c26802339593878a81af486591f0fb">DPIF_FP_CREATE</a></div><div class="ttdef"><b>Definition:</b> dpif.h:513</div></div>
<div class="ttc" id="structupcall_html_ae5eb35b7e5675708a42b59f3794312ea"><div class="ttname"><a href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">upcall::ofproto</a></div><div class="ttdeci">struct ofproto_dpif * ofproto</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:174</div></div>
<div class="ttc" id="structflow_html_a534e413e5a768896ec0bd3771ab99b67"><div class="ttname"><a href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">flow::in_port</a></div><div class="ttdeci">union flow_in_port in_port</div><div class="ttdef"><b>Definition:</b> flow.h:103</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
<div class="ttc" id="structupcall_html_ac84ac0a57387cb3e16db2027717cb6e7"><div class="ttname"><a href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">upcall::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:189</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3901476e9d5bd1dd29749b491a01467a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void revalidate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrevalidator.html">revalidator</a> *&#160;</td>
          <td class="paramname"><em>revalidator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;{</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> odp_actions_stub[1024 / 8];</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> odp_actions = <a class="code" href="ofpbuf_8h.html#a299e31ff893ff3fa138a94114519783b">OFPBUF_STUB_INITIALIZER</a>(odp_actions_stub);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = revalidator-&gt;<a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a>;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__flow__dump__thread.html">dpif_flow_dump_thread</a> *dump_thread;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> dump_seq, reval_seq;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flow_limit;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    dump_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    reval_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, &amp;flow_limit);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    dump_thread = <a class="code" href="dpif_8c.html#acc3bb746fa4003be96eb9f351f986c4c">dpif_flow_dump_thread_create</a>(udpif-&gt;<a class="code" href="structudpif.html#ace27cd870bae2f7081e26d61397a5aea">dump</a>);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keyword">struct </span><a class="code" href="structukey__op.html">ukey_op</a> ops[<a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>];</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;        <span class="keywordtype">int</span> n_ops = 0;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;        <span class="keyword">struct </span><a class="code" href="structdpif__flow.html">dpif_flow</a> flows[<a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>];</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structdpif__flow.html">dpif_flow</a> *f;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="keywordtype">int</span> n_dumped;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="ovs-testcontroller_8c.html#add1aa66c1abc2fcafa6e1de46cbbd812">max_idle</a>;</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <span class="keywordtype">size_t</span> n_dp_flows;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        <span class="keywordtype">bool</span> kill_them_all;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        n_dumped = <a class="code" href="dpif_8c.html#af810b3d0feec6cb2c8b1cef05f1cf774">dpif_flow_dump_next</a>(dump_thread, flows, <a class="code" href="Util_8h.html#af4761d64884360f7fb99d05371fc53f0">ARRAY_SIZE</a>(flows));</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="keywordflow">if</span> (!n_dumped) {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        }</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        now = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        <span class="comment">/* In normal operation we want to keep flows around until they have</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="comment">         * been idle for &#39;ofproto_max_idle&#39; milliseconds.  However:</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="comment">         *     - If the number of datapath flows climbs above &#39;flow_limit&#39;,</span></div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="comment">         *       drop that down to 100 ms to try to bring the flows down to</span></div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="comment">         *       the limit.</span></div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="comment">         *     - If the number of datapath flows climbs above twice</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="comment">         *       &#39;flow_limit&#39;, delete all the datapath flows as an emergency</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;<span class="comment">         *       measure.  (We reassess this condition for the next batch of</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;<span class="comment">         *       datapath flows, so we will recover before all the flows are</span></div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;<span class="comment">         *       gone.) */</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;        n_dp_flows = <a class="code" href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a>(udpif);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        kill_them_all = n_dp_flows &gt; flow_limit * 2;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        max_idle = n_dp_flows &gt; flow_limit ? 100 : <a class="code" href="ofproto-provider_8h.html#a0988c1885f852f1b22bebd5196924c3c">ofproto_max_idle</a>;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        <span class="keywordflow">for</span> (f = flows; f &lt; &amp;flows[n_dumped]; f++) {</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> used = f-&gt;<a class="code" href="structdpif__flow.html#a446df840cbd19483d6a86d3f9f327708">stats</a>.<a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a>;</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            <span class="keyword">enum</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a> result;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;            <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey;</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            <span class="keywordtype">bool</span> already_dumped;</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ofproto-dpif-upcall_8c.html#a77d416780bbff335b0e0cc5ddde92602">ukey_acquire</a>(udpif, f, &amp;ukey, &amp;error)) {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                <span class="keywordflow">if</span> (error == EBUSY) {</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                    <span class="comment">/* Another thread is processing this flow, so don&#39;t bother</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="comment">                     * processing it.*/</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                    <a class="code" href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a>(upcall_ukey_contention);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                    <a class="code" href="ofproto-dpif-upcall_8c.html#aefe58d7bd09d4f273e889062370491aa">log_unexpected_flow</a>(f, error);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                    <span class="keywordflow">if</span> (error != ENOENT) {</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                        <a class="code" href="ofproto-dpif-upcall_8c.html#abf499bfbba83ffe331fd5a42c2370867">delete_op_init__</a>(udpif, &amp;ops[n_ops++], f);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                    }</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                }</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            }</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            already_dumped = ukey-&gt;dump_seq == dump_seq;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            <span class="keywordflow">if</span> (already_dumped) {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                <span class="comment">/* The flow has already been handled during this flow dump</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;<span class="comment">                 * operation. Skip it. */</span></div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                <span class="keywordflow">if</span> (ukey-&gt;xcache) {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                    <a class="code" href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a>(dumped_duplicate_flow);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                    <a class="code" href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a>(dumped_new_flow);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                }</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            }</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;            <span class="keywordflow">if</span> (!used) {</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                used = ukey-&gt;created;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;            }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;            <span class="keywordflow">if</span> (kill_them_all || (used &amp;&amp; used &lt; now - max_idle)) {</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                result = <a class="code" href="ofproto-dpif-upcall_8c.html#aecbd0ccb0d6d8605ff2a9a5276839f97">revalidate_ukey</a>(udpif, ukey, &amp;f-&gt;<a class="code" href="structdpif__flow.html#a446df840cbd19483d6a86d3f9f327708">stats</a>, &amp;odp_actions,</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                                         reval_seq);</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            ukey-&gt;dump_seq = dump_seq;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;            ukey-&gt;flow_exists = result != <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;            <span class="keywordflow">if</span> (result == <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a>(udpif, &amp;ops[n_ops++], ukey);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a>) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a>(ukey, &amp;odp_actions);</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a8778258277bfb3f4c4f79286ede85b8d">modify_op_init</a>(&amp;ops[n_ops++], ukey);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        <span class="keywordflow">if</span> (n_ops) {</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#a71f3f1abeb1b276981a5e52793340dbb">push_ukey_ops__</a>(udpif, ops, n_ops);</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <a class="code" href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a>();</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <a class="code" href="dpif_8c.html#a814fae44f725d5954b8a5070a29de921">dpif_flow_dump_thread_destroy</a>(dump_thread);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(&amp;odp_actions);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;}</div>
<div class="ttc" id="ofproto-provider_8h_html_a0988c1885f852f1b22bebd5196924c3c"><div class="ttname"><a href="ofproto-provider_8h.html#a0988c1885f852f1b22bebd5196924c3c">ofproto_max_idle</a></div><div class="ttdeci">unsigned ofproto_max_idle</div></div>
<div class="ttc" id="ovs-testcontroller_8c_html_add1aa66c1abc2fcafa6e1de46cbbd812"><div class="ttname"><a href="ovs-testcontroller_8c.html#add1aa66c1abc2fcafa6e1de46cbbd812">max_idle</a></div><div class="ttdeci">static int max_idle</div><div class="ttdef"><b>Definition:</b> ovs-testcontroller.c:72</div></div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_abf499bfbba83ffe331fd5a42c2370867"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#abf499bfbba83ffe331fd5a42c2370867">delete_op_init__</a></div><div class="ttdeci">static void delete_op_init__(struct udpif *udpif, struct ukey_op *op, const struct dpif_flow *flow)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1896</div></div>
<div class="ttc" id="dpif_8c_html_af810b3d0feec6cb2c8b1cef05f1cf774"><div class="ttname"><a href="dpif_8c.html#af810b3d0feec6cb2c8b1cef05f1cf774">dpif_flow_dump_next</a></div><div class="ttdeci">int dpif_flow_dump_next(struct dpif_flow_dump_thread *thread, struct dpif_flow *flows, int max_flows)</div><div class="ttdef"><b>Definition:</b> dpif.c:1060</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a></div><div class="ttdeci">reval_result</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:167</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a71f3f1abeb1b276981a5e52793340dbb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a71f3f1abeb1b276981a5e52793340dbb">push_ukey_ops__</a></div><div class="ttdeci">static void push_ukey_ops__(struct udpif *udpif, struct ukey_op *ops, size_t n_ops)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1940</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="structdpif__flow__dump__thread_html"><div class="ttname"><a href="structdpif__flow__dump__thread.html">dpif_flow_dump_thread</a></div><div class="ttdef"><b>Definition:</b> dpif-provider.h:65</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:170</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a852d4dd2fdd70e891a655e15e9246f2d"><div class="ttname"><a href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a></div><div class="ttdeci">void ovsrcu_quiesce(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:140</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aecbd0ccb0d6d8605ff2a9a5276839f97"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aecbd0ccb0d6d8605ff2a9a5276839f97">revalidate_ukey</a></div><div class="ttdeci">static enum reval_result revalidate_ukey(struct udpif *udpif, struct udpif_key *ukey, const struct dpif_flow_stats *stats, struct ofpbuf *odp_actions, uint64_t reval_seq) OVS_REQUIRES(ukey-&gt; mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1763</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a8778258277bfb3f4c4f79286ede85b8d"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a8778258277bfb3f4c4f79286ede85b8d">modify_op_init</a></div><div class="ttdeci">static void modify_op_init(struct ukey_op *op, struct udpif_key *ukey)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1923</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="structdpif__flow_html"><div class="ttname"><a href="structdpif__flow.html">dpif_flow</a></div><div class="ttdef"><b>Definition:</b> dpif.h:577</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aefe58d7bd09d4f273e889062370491aa"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aefe58d7bd09d4f273e889062370491aa">log_unexpected_flow</a></div><div class="ttdeci">static void log_unexpected_flow(const struct dpif_flow *flow, int error)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2039</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a841bdc0c5d808e8657b25c33203ac6c0"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a></div><div class="ttdeci">static void delete_op_init(struct udpif *udpif, struct ukey_op *op, struct udpif_key *ukey)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1910</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="structukey__op_html"><div class="ttname"><a href="structukey__op.html">ukey_op</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:268</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="ofpbuf_8c_html_a62dd653f401f851b82827648e7d28759"><div class="ttname"><a href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a></div><div class="ttdeci">void ofpbuf_uninit(struct ofpbuf *b)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:129</div></div>
<div class="ttc" id="structudpif_html_ace27cd870bae2f7081e26d61397a5aea"><div class="ttname"><a href="structudpif.html#ace27cd870bae2f7081e26d61397a5aea">udpif::dump</a></div><div class="ttdeci">struct dpif_flow_dump * dump</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:114</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a77d416780bbff335b0e0cc5ddde92602"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a77d416780bbff335b0e0cc5ddde92602">ukey_acquire</a></div><div class="ttdeci">static int ukey_acquire(struct udpif *, const struct dpif_flow *, struct udpif_key **result, int *error)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1655</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="Util_8h_html_af4761d64884360f7fb99d05371fc53f0"><div class="ttname"><a href="Util_8h.html#af4761d64884360f7fb99d05371fc53f0">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:69</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6deb9dcf66414a28e87ba85974b63701"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a></div><div class="ttdeci">#define REVALIDATE_MAX_BATCH</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:45</div></div>
<div class="ttc" id="dpif_8c_html_a814fae44f725d5954b8a5070a29de921"><div class="ttname"><a href="dpif_8c.html#a814fae44f725d5954b8a5070a29de921">dpif_flow_dump_thread_destroy</a></div><div class="ttdeci">void dpif_flow_dump_thread_destroy(struct dpif_flow_dump_thread *thread)</div><div class="ttdef"><b>Definition:</b> dpif.c:1036</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a06f9cd7ff557672ae46c9d0b7d0c888f"><div class="ttname"><a href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">dpif_flow_stats::used</a></div><div class="ttdeci">long long int used</div><div class="ttdef"><b>Definition:</b> dpif.h:504</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="dpif_8c_html_acc3bb746fa4003be96eb9f351f986c4c"><div class="ttname"><a href="dpif_8c.html#acc3bb746fa4003be96eb9f351f986c4c">dpif_flow_dump_thread_create</a></div><div class="ttdeci">struct dpif_flow_dump_thread * dpif_flow_dump_thread_create(struct dpif_flow_dump *dump)</div><div class="ttdef"><b>Definition:</b> dpif.c:1029</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:169</div></div>
<div class="ttc" id="ofpbuf_8h_html_a299e31ff893ff3fa138a94114519783b"><div class="ttname"><a href="ofpbuf_8h.html#a299e31ff893ff3fa138a94114519783b">OFPBUF_STUB_INITIALIZER</a></div><div class="ttdeci">#define OFPBUF_STUB_INITIALIZER(STUB)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:75</div></div>
<div class="ttc" id="coverage_8h_html_a64de3ac21cbec99cb3c6d625ff01c0da"><div class="ttname"><a href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a></div><div class="ttdeci">#define COVERAGE_INC(COUNTER)</div><div class="ttdef"><b>Definition:</b> coverage.h:83</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7a52c113018932b24a5d87ff9becc04f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a></div><div class="ttdeci">static unsigned long udpif_get_n_flows(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:659</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a39b78021109c711538d601ef8e95de55"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a></div><div class="ttdeci">static void ukey_set_actions(struct udpif_key *ukey, const struct ofpbuf *actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1421</div></div>
<div class="ttc" id="structdpif__flow_html_a446df840cbd19483d6a86d3f9f327708"><div class="ttname"><a href="structdpif__flow.html#a446df840cbd19483d6a86d3f9f327708">dpif_flow::stats</a></div><div class="ttdeci">struct dpif_flow_stats stats</div><div class="ttdef"><b>Definition:</b> dpif.h:587</div></div>
<div class="ttc" id="structrevalidator_html_a9087e310653614a51b37816e2207a71e"><div class="ttname"><a href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">revalidator::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:75</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aecbd0ccb0d6d8605ff2a9a5276839f97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a> revalidate_ukey </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdpif__flow__stats.html">dpif_flow_stats</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>odp_actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td>
          <td class="paramname"><em>reval_seq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> -&gt; <a class="el" href="system-stats_8c.html#a135ec0fe74b73e8bf4c004455962809e">mutex</a>)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;{</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keyword">struct </span><a class="code" href="structxlate__out.html">xlate_out</a> xout, *xoutp;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="keyword">struct </span><a class="code" href="structnetflow.html">netflow</a> *<a class="code" href="structnetflow.html">netflow</a>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofproto__dpif.html">ofproto_dpif</a> *<a class="code" href="structofproto.html">ofproto</a>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__flow__stats.html">dpif_flow_stats</a> push;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keyword">struct </span><a class="code" href="structflow.html">flow</a> <a class="code" href="structflow.html">flow</a>, dp_mask;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <span class="keyword">struct </span><a class="code" href="structflow__wildcards.html">flow_wildcards</a> wc;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keyword">enum</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a> result;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *dp64, *xout64;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <a class="code" href="include_2openvswitch_2types_8h.html#aff832934c497b6039908104989c8c9f2">ofp_port_t</a> ofp_in_port;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    <span class="keyword">struct </span><a class="code" href="structxlate__in.html">xlate_in</a> xin;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> last_used;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;    <span class="keywordtype">bool</span> need_revalidate;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    xoutp = NULL;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    netflow = NULL;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <a class="code" href="ofpbuf_8h.html#adb6cbac2beb3a7d1c4c36b8b3f3b9c39">ofpbuf_clear</a>(odp_actions);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    need_revalidate = (ukey-&gt;reval_seq != reval_seq);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    last_used = ukey-&gt;stats.used;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    push.used = stats-&gt;<a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    push.tcp_flags = stats-&gt;<a class="code" href="structdpif__flow__stats.html#a7e0695c06fb54b18d047f0819360b23b">tcp_flags</a>;</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    push.n_packets = (stats-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> &gt; ukey-&gt;stats.n_packets</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                      ? stats-&gt;<a class="code" href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">n_packets</a> - ukey-&gt;stats.n_packets</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                      : 0);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    push.n_bytes = (stats-&gt;<a class="code" href="structdpif__flow__stats.html#aa3c660293fec2a5dc18cb5933bdac0cb">n_bytes</a> &gt; ukey-&gt;stats.n_bytes</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    ? stats-&gt;<a class="code" href="structdpif__flow__stats.html#aa3c660293fec2a5dc18cb5933bdac0cb">n_bytes</a> - ukey-&gt;stats.n_bytes</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                    : 0);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">if</span> (need_revalidate &amp;&amp; last_used</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        &amp;&amp; !<a class="code" href="ofproto-dpif-upcall_8c.html#a5c522b45f733b8516b365d9b8fc6fb0d">should_revalidate</a>(udpif, push.n_packets, last_used)) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="comment">/* We will push the stats, so update the ukey stats cache. */</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    ukey-&gt;stats = *stats;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">if</span> (!push.n_packets &amp;&amp; !need_revalidate) {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    }</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <span class="keywordflow">if</span> (ukey-&gt;xcache &amp;&amp; !need_revalidate) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <a class="code" href="ofproto-dpif-xlate_8c.html#a19b5bba4e1644dda0f5634d6226222e1">xlate_push_stats</a>(ukey-&gt;xcache, &amp;push);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="odp-util_8c.html#af43cd3f85a9fe1536daf84f1c4356473">odp_flow_key_to_flow</a>(ukey-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>, ukey-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>, &amp;<a class="code" href="structflow.html">flow</a>)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        == <a class="code" href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a>) {</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;    error = <a class="code" href="ofproto-dpif-xlate_8c.html#ab2a55b7a406eb7048dc4d1b80b92c541">xlate_lookup</a>(udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>, &amp;<a class="code" href="structflow.html">flow</a>, &amp;ofproto, NULL, NULL, &amp;netflow,</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                         &amp;ofp_in_port);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">if</span> (need_revalidate) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;        <a class="code" href="ofproto-dpif-xlate_8c.html#a5c446a152a80c7f6ea9cafe140a40d07">xlate_cache_clear</a>(ukey-&gt;xcache);</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    }</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (!ukey-&gt;xcache) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        ukey-&gt;xcache = <a class="code" href="ofproto-dpif-xlate_8c.html#ad36263c5e533c80f06ce21576614215a">xlate_cache_new</a>();</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    }</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <a class="code" href="ofproto-dpif-xlate_8c.html#a5dcbc7380716bd7f7e7bb868d435e8f8">xlate_in_init</a>(&amp;xin, ofproto, &amp;<a class="code" href="structflow.html">flow</a>, ofp_in_port, NULL, push.<a class="code" href="structflow.html#ac33a8db58b0103aedba4d4153c67bbb1">tcp_flags</a>,</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                  NULL, need_revalidate ? &amp;<a class="code" href="structxlate__in.html#aaa892a4b15b970ea671e1180b39f4c9e">wc</a> : NULL, odp_actions);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">if</span> (push.n_packets) {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        xin.resubmit_stats = &amp;push;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        xin.may_learn = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    xin.xcache = ukey-&gt;xcache;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <a class="code" href="ofproto-dpif-xlate_8c.html#addf7e5d6f07206c70d31c4b43a1d7007">xlate_actions</a>(&amp;xin, &amp;xout);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    xoutp = &amp;xout;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">if</span> (!need_revalidate) {</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>;</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordflow">if</span> (xout.slow) {</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <a class="code" href="ofpbuf_8h.html#adb6cbac2beb3a7d1c4c36b8b3f3b9c39">ofpbuf_clear</a>(odp_actions);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#abc645662d87fb92cf6ac6eeca4ccc2af">compose_slow_path</a>(udpif, &amp;xout, &amp;<a class="code" href="structflow.html">flow</a>, <a class="code" href="structflow.html">flow</a>.<a class="code" href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">in_port</a>.<a class="code" href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">odp_port</a>,</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                          odp_actions);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    }</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="odp-util_8c.html#a6b9254d3ee78eadf0d5816cad92d13db">odp_flow_key_to_mask</a>(ukey-&gt;<a class="code" href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">mask</a>, ukey-&gt;<a class="code" href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">mask_len</a>, ukey-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a>,</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                             ukey-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>, &amp;dp_mask, &amp;<a class="code" href="structflow.html">flow</a>) == <a class="code" href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a>) {</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    }</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="comment">/* Since the kernel is free to ignore wildcarded bits in the mask, we can&#39;t</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="comment">     * directly check that the masks are the same.  Instead we check that the</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">     * mask in the kernel is more specific i.e. less wildcarded, than what</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">     * we&#39;ve calculated here.  This guarantees we don&#39;t catch any packets we</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="comment">     * shouldn&#39;t with the megaflow. */</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    dp64 = (<a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *) &amp;dp_mask;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    xout64 = (<a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *) &amp;<a class="code" href="structxlate__in.html#aaa892a4b15b970ea671e1180b39f4c9e">wc</a>.<a class="code" href="structflow__wildcards.html#a7596ba66ac7f5966cdbf1955c31a7d11">masks</a>;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    for (i = 0; i &lt; <a class="code" href="lib_2flow_8h.html#a30d119d60a637562dd2fd9d4d257161b">FLOW_U64S</a>; i++) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;        <span class="keywordflow">if</span> ((dp64[i] | xout64[i]) != dp64[i]) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        }</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    }</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ofpbuf_8h.html#aa8c79e5c494cc809ff108715b9277389">ofpbuf_equal</a>(odp_actions,</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                      <a class="code" href="ovs-rcu_8h.html#aa55934b83a9774b1257f8bbd3a1d1b01">ovsrcu_get</a>(<span class="keyword">struct</span> <a class="code" href="structofpbuf.html">ofpbuf</a> *, &amp;ukey-&gt;actions))) {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <span class="comment">/* The datapath mask was OK, but the actions seem to have changed.</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">         * Let&#39;s modify it in place. */</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a>;</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    }</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>;</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;exit:</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (result != <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>) {</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        ukey-&gt;reval_seq = reval_seq;</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    }</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <span class="keywordflow">if</span> (netflow &amp;&amp; result == <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <a class="code" href="netflow_8c.html#a7ac427b2d19c2c81c45d5857eb88e6e5">netflow_flow_clear</a>(netflow, &amp;<a class="code" href="structflow.html">flow</a>);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="ofproto-dpif-xlate_8c.html#a9367e882ed3aa465b5132a4cca6b4786">xlate_out_uninit</a>(xoutp);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;}</div>
<div class="ttc" id="ofpbuf_8h_html_adb6cbac2beb3a7d1c4c36b8b3f3b9c39"><div class="ttname"><a href="ofpbuf_8h.html#adb6cbac2beb3a7d1c4c36b8b3f3b9c39">ofpbuf_clear</a></div><div class="ttdeci">static void ofpbuf_clear(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:197</div></div>
<div class="ttc" id="netflow_8c_html_a7ac427b2d19c2c81c45d5857eb88e6e5"><div class="ttname"><a href="netflow_8c.html#a7ac427b2d19c2c81c45d5857eb88e6e5">netflow_flow_clear</a></div><div class="ttdeci">void netflow_flow_clear(struct netflow *nf, const struct flow *flow) OVS_EXCLUDED(mutex)</div><div class="ttdef"><b>Definition:</b> netflow.c:279</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a7e0695c06fb54b18d047f0819360b23b"><div class="ttname"><a href="structdpif__flow__stats.html#a7e0695c06fb54b18d047f0819360b23b">dpif_flow_stats::tcp_flags</a></div><div class="ttdeci">uint16_t tcp_flags</div><div class="ttdef"><b>Definition:</b> dpif.h:505</div></div>
<div class="ttc" id="structudpif__key_html_a87e017704faa0f757c6c8e347aed9bb5"><div class="ttname"><a href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">udpif_key::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:236</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a></div><div class="ttdeci">reval_result</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:167</div></div>
<div class="ttc" id="odp-util_8h_html_a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb"><div class="ttname"><a href="odp-util_8h.html#a1f545defb39179da375941a4253d4ce9a8d9da37aaacc5a8175b038612bc883cb">ODP_FIT_ERROR</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:218</div></div>
<div class="ttc" id="structxlate__out_html"><div class="ttname"><a href="structxlate__out.html">xlate_out</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:40</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:170</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a5c446a152a80c7f6ea9cafe140a40d07"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a5c446a152a80c7f6ea9cafe140a40d07">xlate_cache_clear</a></div><div class="ttdeci">void xlate_cache_clear(struct xlate_cache *xcache)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:5252</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5c522b45f733b8516b365d9b8fc6fb0d"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5c522b45f733b8516b365d9b8fc6fb0d">should_revalidate</a></div><div class="ttdeci">static bool should_revalidate(const struct udpif *udpif, uint64_t packets, long long int used)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1721</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="structxlate__in_html"><div class="ttname"><a href="structxlate__in.html">xlate_in</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:106</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:168</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a19b5bba4e1644dda0f5634d6226222e1"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a19b5bba4e1644dda0f5634d6226222e1">xlate_push_stats</a></div><div class="ttdeci">void xlate_push_stats(struct xlate_cache *xcache, const struct dpif_flow_stats *stats)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:5171</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="lib_2flow_8h_html_a30d119d60a637562dd2fd9d4d257161b"><div class="ttname"><a href="lib_2flow_8h.html#a30d119d60a637562dd2fd9d4d257161b">FLOW_U64S</a></div><div class="ttdeci">#define FLOW_U64S</div><div class="ttdef"><b>Definition:</b> flow.h:141</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_ab2a55b7a406eb7048dc4d1b80b92c541"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#ab2a55b7a406eb7048dc4d1b80b92c541">xlate_lookup</a></div><div class="ttdeci">int xlate_lookup(const struct dpif_backer *backer, const struct flow *flow, struct ofproto_dpif **ofprotop, struct dpif_ipfix **ipfix, struct dpif_sflow **sflow, struct netflow **netflow, ofp_port_t *ofp_in_port)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:1136</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_ad36263c5e533c80f06ce21576614215a"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#ad36263c5e533c80f06ce21576614215a">xlate_cache_new</a></div><div class="ttdeci">struct xlate_cache * xlate_cache_new(void)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:5114</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a251191e613f179c0b6a4f7f8c051c5c7"><div class="ttname"><a href="structdpif__flow__stats.html#a251191e613f179c0b6a4f7f8c051c5c7">dpif_flow_stats::n_packets</a></div><div class="ttdeci">uint64_t n_packets</div><div class="ttdef"><b>Definition:</b> dpif.h:502</div></div>
<div class="ttc" id="structudpif__key_html_aac110f658c03533e0a7aeb53a3231ddd"><div class="ttname"><a href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">udpif_key::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:237</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a9367e882ed3aa465b5132a4cca6b4786"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a9367e882ed3aa465b5132a4cca6b4786">xlate_out_uninit</a></div><div class="ttdeci">void xlate_out_uninit(struct xlate_out *xout)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4544</div></div>
<div class="ttc" id="structflow__wildcards_html_a7596ba66ac7f5966cdbf1955c31a7d11"><div class="ttname"><a href="structflow__wildcards.html#a7596ba66ac7f5966cdbf1955c31a7d11">flow_wildcards::masks</a></div><div class="ttdeci">struct flow masks</div><div class="ttdef"><b>Definition:</b> flow.h:318</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="unionflow__in__port_html_abfaef88e731beec19f75dd6114ed9a6c"><div class="ttname"><a href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">flow_in_port::odp_port</a></div><div class="ttdeci">odp_port_t odp_port</div><div class="ttdef"><b>Definition:</b> packets.h:115</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_addf7e5d6f07206c70d31c4b43a1d7007"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#addf7e5d6f07206c70d31c4b43a1d7007">xlate_actions</a></div><div class="ttdeci">void xlate_actions(struct xlate_in *xin, struct xlate_out *xout)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4749</div></div>
<div class="ttc" id="include_2openvswitch_2types_8h_html_aff832934c497b6039908104989c8c9f2"><div class="ttname"><a href="include_2openvswitch_2types_8h.html#aff832934c497b6039908104989c8c9f2">ofp_port_t</a></div><div class="ttdeci">uint16_t OVS_BITWISE ofp_port_t</div><div class="ttdef"><b>Definition:</b> types.h:100</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="odp-util_8c_html_a6b9254d3ee78eadf0d5816cad92d13db"><div class="ttname"><a href="odp-util_8c.html#a6b9254d3ee78eadf0d5816cad92d13db">odp_flow_key_to_mask</a></div><div class="ttdeci">enum odp_key_fitness odp_flow_key_to_mask(const struct nlattr *mask_key, size_t mask_key_len, const struct nlattr *flow_key, size_t flow_key_len, struct flow *mask, const struct flow *flow)</div><div class="ttdef"><b>Definition:</b> odp-util.c:4234</div></div>
<div class="ttc" id="structflow__wildcards_html"><div class="ttname"><a href="structflow__wildcards.html">flow_wildcards</a></div><div class="ttdef"><b>Definition:</b> flow.h:317</div></div>
<div class="ttc" id="structofproto_html"><div class="ttname"><a href="structofproto.html">ofproto</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:65</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="ovs-rcu_8h_html_aa55934b83a9774b1257f8bbd3a1d1b01"><div class="ttname"><a href="ovs-rcu_8h.html#aa55934b83a9774b1257f8bbd3a1d1b01">ovsrcu_get</a></div><div class="ttdeci">#define ovsrcu_get(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:176</div></div>
<div class="ttc" id="odp-util_8c_html_af43cd3f85a9fe1536daf84f1c4356473"><div class="ttname"><a href="odp-util_8c.html#af43cd3f85a9fe1536daf84f1c4356473">odp_flow_key_to_flow</a></div><div class="ttdeci">enum odp_key_fitness odp_flow_key_to_flow(const struct nlattr *key, size_t key_len, struct flow *flow)</div><div class="ttdef"><b>Definition:</b> odp-util.c:4222</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_abc645662d87fb92cf6ac6eeca4ccc2af"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#abc645662d87fb92cf6ac6eeca4ccc2af">compose_slow_path</a></div><div class="ttdeci">static void compose_slow_path(struct udpif *udpif, struct xlate_out *xout, const struct flow *flow, odp_port_t odp_in_port, struct ofpbuf *buf)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:952</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a06f9cd7ff557672ae46c9d0b7d0c888f"><div class="ttname"><a href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">dpif_flow_stats::used</a></div><div class="ttdeci">long long int used</div><div class="ttdef"><b>Definition:</b> dpif.h:504</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a5dcbc7380716bd7f7e7bb868d435e8f8"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a5dcbc7380716bd7f7e7bb868d435e8f8">xlate_in_init</a></div><div class="ttdeci">void xlate_in_init(struct xlate_in *xin, struct ofproto_dpif *ofproto, const struct flow *flow, ofp_port_t in_port, struct rule_dpif *rule, uint16_t tcp_flags, const struct dp_packet *packet, struct flow_wildcards *wc, struct ofpbuf *odp_actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4514</div></div>
<div class="ttc" id="structdpif__flow__stats_html"><div class="ttname"><a href="structdpif__flow__stats.html">dpif_flow_stats</a></div><div class="ttdef"><b>Definition:</b> dpif.h:501</div></div>
<div class="ttc" id="structnetflow_html"><div class="ttname"><a href="structnetflow.html">netflow</a></div><div class="ttdef"><b>Definition:</b> netflow.c:40</div></div>
<div class="ttc" id="ofpbuf_8h_html_aa8c79e5c494cc809ff108715b9277389"><div class="ttname"><a href="ofpbuf_8h.html#aa8c79e5c494cc809ff108715b9277389">ofpbuf_equal</a></div><div class="ttdeci">static bool ofpbuf_equal(const struct ofpbuf *, const struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:226</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:169</div></div>
<div class="ttc" id="structofproto__dpif_html"><div class="ttname"><a href="structofproto__dpif.html">ofproto_dpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:294</div></div>
<div class="ttc" id="structdpif__flow__stats_html_aa3c660293fec2a5dc18cb5933bdac0cb"><div class="ttname"><a href="structdpif__flow__stats.html#aa3c660293fec2a5dc18cb5933bdac0cb">dpif_flow_stats::n_bytes</a></div><div class="ttdeci">uint64_t n_bytes</div><div class="ttdef"><b>Definition:</b> dpif.h:503</div></div>
<div class="ttc" id="structflow_html"><div class="ttname"><a href="structflow.html">flow</a></div><div class="ttdef"><b>Definition:</b> flow.h:94</div></div>
<div class="ttc" id="structflow_html_ac33a8db58b0103aedba4d4153c67bbb1"><div class="ttname"><a href="structflow.html#ac33a8db58b0103aedba4d4153c67bbb1">flow::tcp_flags</a></div><div class="ttdeci">ovs_be16 tcp_flags</div><div class="ttdef"><b>Definition:</b> flow.h:129</div></div>
<div class="ttc" id="structxlate__in_html_aaa892a4b15b970ea671e1180b39f4c9e"><div class="ttname"><a href="structxlate__in.html#aaa892a4b15b970ea671e1180b39f4c9e">xlate_in::wc</a></div><div class="ttdeci">struct flow_wildcards * wc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:186</div></div>
<div class="ttc" id="structflow_html_a534e413e5a768896ec0bd3771ab99b67"><div class="ttname"><a href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">flow::in_port</a></div><div class="ttdeci">union flow_in_port in_port</div><div class="ttdef"><b>Definition:</b> flow.h:103</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ee8fe970b1de29863e64bfcdc188e1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void revalidator_pause </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrevalidator.html">revalidator</a> *&#160;</td>
          <td class="paramname"><em>revalidator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;{</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <span class="comment">/* The first block is for sync&#39;ing the pause with main thread. */</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;revalidator-&gt;<a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a>-&gt;<a class="code" href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">pause_barrier</a>);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="comment">/* The second block is for pausing until main thread resumes. */</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;revalidator-&gt;<a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a>-&gt;<a class="code" href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">pause_barrier</a>);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;}</div>
<div class="ttc" id="structudpif_html_ac0517f8cba43054ab61c100db6f081b4"><div class="ttname"><a href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">udpif::pause_barrier</a></div><div class="ttdeci">struct ovs_barrier pause_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:130</div></div>
<div class="ttc" id="ovs-thread_8c_html_a8a760e9e3b2b3f85df806114294d3c93"><div class="ttname"><a href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a></div><div class="ttdeci">void ovs_barrier_block(struct ovs_barrier *barrier)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:289</div></div>
<div class="ttc" id="structrevalidator_html_a9087e310653614a51b37816e2207a71e"><div class="ttname"><a href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">revalidator::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:75</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0a3df173f9cffeb341ec6002e23616a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void revalidator_purge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrevalidator.html">revalidator</a> *&#160;</td>
          <td class="paramname"><em>revalidator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;{</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a4e04c9184b55df894baa86603aa1f555">revalidator_sweep__</a>(revalidator, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a4e04c9184b55df894baa86603aa1f555"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a4e04c9184b55df894baa86603aa1f555">revalidator_sweep__</a></div><div class="ttdeci">static void revalidator_sweep__(struct revalidator *revalidator, bool purge)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2177</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21cbdeadb892bc5412cd3ce594f468fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void revalidator_sweep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrevalidator.html">revalidator</a> *&#160;</td>
          <td class="paramname"><em>revalidator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;{</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a4e04c9184b55df894baa86603aa1f555">revalidator_sweep__</a>(revalidator, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a4e04c9184b55df894baa86603aa1f555"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a4e04c9184b55df894baa86603aa1f555">revalidator_sweep__</a></div><div class="ttdeci">static void revalidator_sweep__(struct revalidator *revalidator, bool purge)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2177</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e04c9184b55df894baa86603aa1f555"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void revalidator_sweep__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrevalidator.html">revalidator</a> *&#160;</td>
          <td class="paramname"><em>revalidator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td>
          <td class="paramname"><em>purge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;{</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a>;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> <a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>, <a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="keywordtype">int</span> slice;</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    udpif = revalidator-&gt;<a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    dump_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    reval_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    slice = revalidator - udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>;</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(slice &lt; udpif-&gt;<a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = slice; i &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>; i += udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>) {</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> odp_actions_stub[1024 / 8];</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;        <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> odp_actions = <a class="code" href="ofpbuf_8h.html#a299e31ff893ff3fa138a94114519783b">OFPBUF_STUB_INITIALIZER</a>(odp_actions_stub);</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        <span class="keyword">struct </span><a class="code" href="structukey__op.html">ukey_op</a> ops[<a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>];</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;        <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        <span class="keyword">struct </span><a class="code" href="structumap.html">umap</a> *<a class="code" href="structumap.html">umap</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i];</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;        <span class="keywordtype">size_t</span> n_ops = 0;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        <a class="code" href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a>(ukey, <a class="code" href="structcmap__node.html">cmap_node</a>, &amp;umap-&gt;<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>) {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;            <span class="keywordtype">bool</span> flow_exists, seq_mismatch;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            <span class="keyword">enum</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a> result;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            <span class="comment">/* Handler threads could be holding a ukey lock while it installs a</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;<span class="comment">             * new flow, so don&#39;t hang around waiting for access to it. */</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="thread_8h.html#a61950e1f6098f788e52b9fa86b2b69a8">ovs_mutex_trylock</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>)) {</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;            }</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;            flow_exists = ukey-&gt;flow_exists;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;            seq_mismatch = (ukey-&gt;dump_seq != dump_seq</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                            &amp;&amp; ukey-&gt;reval_seq != reval_seq);</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;            <span class="keywordflow">if</span> (purge) {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!seq_mismatch) {</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                result = <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                <span class="keyword">struct </span><a class="code" href="structdpif__flow__stats.html">dpif_flow_stats</a> stats;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                <a class="code" href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a>(revalidate_missed_dp_flow);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                memset(&amp;stats, 0, <span class="keyword">sizeof</span> stats);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                result = <a class="code" href="ofproto-dpif-upcall_8c.html#aecbd0ccb0d6d8605ff2a9a5276839f97">revalidate_ukey</a>(udpif, ukey, &amp;stats, &amp;odp_actions,</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                                         reval_seq);</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;            }</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;            <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;            <span class="keywordflow">if</span> (result == <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a>) {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a>(udpif, &amp;ops[n_ops++], ukey);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == <a class="code" href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a>) {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a>(ukey, &amp;odp_actions);</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a8778258277bfb3f4c4f79286ede85b8d">modify_op_init</a>(&amp;ops[n_ops++], ukey);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;            }</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;            <span class="keywordflow">if</span> (n_ops == <a class="code" href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a>) {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a>(udpif, umap, ops, n_ops);</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                n_ops = 0;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;            }</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            <span class="keywordflow">if</span> (!flow_exists) {</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;                <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;umap-&gt;<a class="code" href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">mutex</a>);</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#a142c73b7f70ef1adc2687af7d266d8b8">ukey_delete</a>(umap, ukey);</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;                <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;umap-&gt;<a class="code" href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">mutex</a>);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;            }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        }</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <span class="keywordflow">if</span> (n_ops) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a>(udpif, umap, ops, n_ops);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        }</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(&amp;odp_actions);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        <a class="code" href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a>();</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;}</div>
<div class="ttc" id="structcmap__node_html"><div class="ttname"><a href="structcmap__node.html">cmap_node</a></div><div class="ttdef"><b>Definition:</b> cmap.h:61</div></div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="structumap_html"><div class="ttname"><a href="structumap.html">umap</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:67</div></div>
<div class="ttc" id="lib_2util_8h_html_ac236d3d8f33428ab822cc4e277a451c8"><div class="ttname"><a href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a></div><div class="ttdeci">#define ovs_assert(CONDITION)</div><div class="ttdef"><b>Definition:</b> util.h:73</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70">reval_result</a></div><div class="ttdeci">reval_result</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:167</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ac922cb6069225f04441ec6ed5501a95b">UKEY_MODIFY</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:170</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70aa363e390e431b36a616f28abfbfd76cb">UKEY_KEEP</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:168</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a852d4dd2fdd70e891a655e15e9246f2d"><div class="ttname"><a href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a></div><div class="ttdeci">void ovsrcu_quiesce(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:140</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aecbd0ccb0d6d8605ff2a9a5276839f97"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aecbd0ccb0d6d8605ff2a9a5276839f97">revalidate_ukey</a></div><div class="ttdeci">static enum reval_result revalidate_ukey(struct udpif *udpif, struct udpif_key *ukey, const struct dpif_flow_stats *stats, struct ofpbuf *odp_actions, uint64_t reval_seq) OVS_REQUIRES(ukey-&gt; mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1763</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="structumap_html_a76baa46c56dec642a9e1fb033ec2a3f5"><div class="ttname"><a href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">umap::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:68</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a8778258277bfb3f4c4f79286ede85b8d"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a8778258277bfb3f4c4f79286ede85b8d">modify_op_init</a></div><div class="ttdeci">static void modify_op_init(struct ukey_op *op, struct udpif_key *ukey)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1923</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a1c6739cdb8286f25fcc43e18b7750e53"><div class="ttname"><a href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7ef0531b8c7f46e04dcec9bec6437607"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7ef0531b8c7f46e04dcec9bec6437607">push_ukey_ops</a></div><div class="ttdeci">static void push_ukey_ops(struct udpif *udpif, struct umap *umap, struct ukey_op *ops, size_t n_ops)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2025</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a841bdc0c5d808e8657b25c33203ac6c0"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a841bdc0c5d808e8657b25c33203ac6c0">delete_op_init</a></div><div class="ttdeci">static void delete_op_init(struct udpif *udpif, struct ukey_op *op, struct udpif_key *ukey)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1910</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="thread_8h_html_a61950e1f6098f788e52b9fa86b2b69a8"><div class="ttname"><a href="thread_8h.html#a61950e1f6098f788e52b9fa86b2b69a8">ovs_mutex_trylock</a></div><div class="ttdeci">#define ovs_mutex_trylock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:64</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="structukey__op_html"><div class="ttname"><a href="structukey__op.html">ukey_op</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:268</div></div>
<div class="ttc" id="ofpbuf_8c_html_a62dd653f401f851b82827648e7d28759"><div class="ttname"><a href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a></div><div class="ttdeci">void ofpbuf_uninit(struct ofpbuf *b)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:129</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6deb9dcf66414a28e87ba85974b63701"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6deb9dcf66414a28e87ba85974b63701">REVALIDATE_MAX_BATCH</a></div><div class="ttdeci">#define REVALIDATE_MAX_BATCH</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:45</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="structdpif__flow__stats_html"><div class="ttname"><a href="structdpif__flow__stats.html">dpif_flow_stats</a></div><div class="ttdef"><b>Definition:</b> dpif.h:501</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a11a157ae3ab3e75e04fb0a6e82563b70ae4d22a5c4d26becdadbd7a6da41227aa">UKEY_DELETE</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:169</div></div>
<div class="ttc" id="ofpbuf_8h_html_a299e31ff893ff3fa138a94114519783b"><div class="ttname"><a href="ofpbuf_8h.html#a299e31ff893ff3fa138a94114519783b">OFPBUF_STUB_INITIALIZER</a></div><div class="ttdeci">#define OFPBUF_STUB_INITIALIZER(STUB)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:75</div></div>
<div class="ttc" id="cmap_8h_html_aa9ed969abc5b04fb7ad29f82ce4eb5b9"><div class="ttname"><a href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a></div><div class="ttdeci">#define CMAP_FOR_EACH(NODE, MEMBER, CMAP)</div><div class="ttdef"><b>Definition:</b> cmap.h:225</div></div>
<div class="ttc" id="coverage_8h_html_a64de3ac21cbec99cb3c6d625ff01c0da"><div class="ttname"><a href="coverage_8h.html#a64de3ac21cbec99cb3c6d625ff01c0da">COVERAGE_INC</a></div><div class="ttdeci">#define COVERAGE_INC(COUNTER)</div><div class="ttdef"><b>Definition:</b> coverage.h:83</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a39b78021109c711538d601ef8e95de55"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a></div><div class="ttdeci">static void ukey_set_actions(struct udpif_key *ukey, const struct ofpbuf *actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1421</div></div>
<div class="ttc" id="structrevalidator_html_a9087e310653614a51b37816e2207a71e"><div class="ttname"><a href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">revalidator::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:75</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a142c73b7f70ef1adc2687af7d266d8b8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a142c73b7f70ef1adc2687af7d266d8b8">ukey_delete</a></div><div class="ttdeci">static void ukey_delete(struct umap *, struct udpif_key *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1713</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5c522b45f733b8516b365d9b8fc6fb0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> should_revalidate </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td>
          <td class="paramname"><em>packets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>used</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;{</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> metric, <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, duration;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">if</span> (udpif-&gt;<a class="code" href="structudpif.html#a27f2a1abcc6e597e118897d50cb970c4">dump_duration</a> &lt; 200) {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="comment">/* We are likely to handle full revalidation for the flows. */</span></div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="comment">/* Calculate the mean time between seeing these packets. If this</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">     * exceeds the threshold, then delete the flow rather than performing</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">     * costly revalidation for flows that aren&#39;t being hit frequently.</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment">     * This is targeted at situations where the dump_duration is high (~1s),</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment">     * and revalidation is triggered by a call to udpif_revalidate(). In</span></div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">     * these situations, revalidation of all flows causes fluctuations in the</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">     * flow_limit due to the interaction with the dump_duration and max_idle.</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">     * This tends to result in deletion of low-throughput flows anyway, so</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">     * skip the revalidation and just delete those flows. */</span></div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    packets = <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(packets, 1);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    now = <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(<a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a>, <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>());</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    duration = now - <a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    metric = duration / packets;</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">if</span> (metric &lt; 200) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <span class="comment">/* The flow is receiving more than ~5pps, so keep it. */</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    }</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a27f2a1abcc6e597e118897d50cb970c4"><div class="ttname"><a href="structudpif.html#a27f2a1abcc6e597e118897d50cb970c4">udpif::dump_duration</a></div><div class="ttdeci">long long int dump_duration</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:115</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a06f9cd7ff557672ae46c9d0b7d0c888f"><div class="ttname"><a href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">dpif_flow_stats::used</a></div><div class="ttdeci">long long int used</div><div class="ttdef"><b>Definition:</b> dpif.h:504</div></div>
<div class="ttc" id="lib_2util_8h_html_aff9931d7524c88e07743af6535b20761"><div class="ttname"><a href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a></div><div class="ttdeci">#define MAX(X, Y)</div><div class="ttdef"><b>Definition:</b> util.h:173</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab66cf0fd8918c544d2e3e1f2b5f048a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structudpif.html">udpif</a>* udpif_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdpif__backer.html">dpif_backer</a> *&#160;</td>
          <td class="paramname"><em>backer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdpif.html">dpif</a> *&#160;</td>
          <td class="paramname"><em>dpif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = <a class="code" href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a>(<span class="keyword">sizeof</span> *udpif);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a> = <a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a> = <a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, <a class="code" href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a>(<a class="code" href="ofproto-provider_8h.html#a60d060cc955bc5dada95db323eba442d">ofproto_flow_limit</a>, 10000));</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a> = <a class="code" href="seq_8h.html#ac5c222ed0a1154ae1d757a23c4c8d092">seq_create</a>();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a> = <a class="code" href="seq_8h.html#ac5c222ed0a1154ae1d757a23c4c8d092">seq_create</a>();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="latch-unix_8c.html#a2fc64bb972da498fb3f97eefc9a583af">latch_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="latch-unix_8c.html#a2fc64bb972da498fb3f97eefc9a583af">latch_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">pause_latch</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="lib_2list_8h.html#a25e409d28ae1560db7bcf6f08f12da8d">list_push_back</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>, &amp;udpif-&gt;<a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a1732efc31389f97cc04957f3b392dc55">enable_ufid</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4c765ff08da6616523d168ee7739211d">n_flows</a>, 0);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a53a8f6c00593d5c8a2c40267e1dabc12">n_flows_timestamp</a>, LLONG_MIN);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">n_flows_mutex</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a> = <a class="code" href="util_8c.html#a42ccfa6fc49cc4ce90cc44cd05052490">xmalloc</a>(<a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a> * <span class="keyword">sizeof</span> *udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>; i++) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="cmap_8c.html#a3629638de0cf2d390c7799afd0a15d40">cmap_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i].<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i].<a class="code" href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">mutex</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="dpif_8c.html#a148baa56eecf400ab5c3a8b9af400589">dpif_register_upcall_cb</a>(dpif, <a class="code" href="ofproto-dpif-upcall_8c.html#aa47539176cd7a319cc9da3cbcf8e0941">upcall_cb</a>, udpif);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="dpif_8c.html#ac80fa9fd07e3f12866c1c1fccffed96b">dpif_register_dp_purge_cb</a>(dpif, <a class="code" href="ofproto-dpif-upcall_8c.html#a3a8c33f4ee83b76dcf4f27b255e29374">dp_purge_cb</a>, udpif);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> udpif;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="structudpif_html_af64b897f2556ec1987f618f1248bfbe3"><div class="ttname"><a href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">udpif::n_flows_mutex</a></div><div class="ttdeci">struct ovs_mutex n_flows_mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:150</div></div>
<div class="ttc" id="ovs-atomic-clang_8h_html_a5df32309cb870138152b9cc430cf8571"><div class="ttname"><a href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a></div><div class="ttdeci">#define atomic_init(OBJECT, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic-clang.h:28</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="structudpif_html_a53a8f6c00593d5c8a2c40267e1dabc12"><div class="ttname"><a href="structudpif.html#a53a8f6c00593d5c8a2c40267e1dabc12">udpif::n_flows_timestamp</a></div><div class="ttdeci">atomic_llong n_flows_timestamp</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:149</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa47539176cd7a319cc9da3cbcf8e0941"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa47539176cd7a319cc9da3cbcf8e0941">upcall_cb</a></div><div class="ttdeci">static upcall_callback upcall_cb</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:335</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="seq_8h_html_ac5c222ed0a1154ae1d757a23c4c8d092"><div class="ttname"><a href="seq_8h.html#ac5c222ed0a1154ae1d757a23c4c8d092">seq_create</a></div><div class="ttdeci">struct seq * seq_create(void)</div></div>
<div class="ttc" id="cmap_8c_html_a3629638de0cf2d390c7799afd0a15d40"><div class="ttname"><a href="cmap_8c.html#a3629638de0cf2d390c7799afd0a15d40">cmap_init</a></div><div class="ttdeci">void cmap_init(struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:242</div></div>
<div class="ttc" id="util_8c_html_a42ccfa6fc49cc4ce90cc44cd05052490"><div class="ttname"><a href="util_8c.html#a42ccfa6fc49cc4ce90cc44cd05052490">xmalloc</a></div><div class="ttdeci">void * xmalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:110</div></div>
<div class="ttc" id="structudpif_html_a1732efc31389f97cc04957f3b392dc55"><div class="ttname"><a href="structudpif.html#a1732efc31389f97cc04957f3b392dc55">udpif::enable_ufid</a></div><div class="ttdeci">atomic_bool enable_ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:117</div></div>
<div class="ttc" id="thread_8h_html_aba7f4ad0b5b050ee701ff3b8ceb5ccb5"><div class="ttname"><a href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a></div><div class="ttdeci">void ovs_mutex_init(const struct ovs_mutex *)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:206</div></div>
<div class="ttc" id="structumap_html_a76baa46c56dec642a9e1fb033ec2a3f5"><div class="ttname"><a href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">umap::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:68</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="lib_2list_8h_html_a25e409d28ae1560db7bcf6f08f12da8d"><div class="ttname"><a href="lib_2list_8h.html#a25e409d28ae1560db7bcf6f08f12da8d">list_push_back</a></div><div class="ttdeci">static void list_push_back(struct ovs_list *, struct ovs_list *)</div><div class="ttdef"><b>Definition:</b> list.h:145</div></div>
<div class="ttc" id="latch-unix_8c_html_a2fc64bb972da498fb3f97eefc9a583af"><div class="ttname"><a href="latch-unix_8c.html#a2fc64bb972da498fb3f97eefc9a583af">latch_init</a></div><div class="ttdeci">void latch_init(struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:28</div></div>
<div class="ttc" id="structudpif_html_a4a6b0b6345fd24992ef88dda700c4c44"><div class="ttname"><a href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">udpif::exit_latch</a></div><div class="ttdeci">struct latch exit_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:108</div></div>
<div class="ttc" id="dpif_8c_html_ac80fa9fd07e3f12866c1c1fccffed96b"><div class="ttname"><a href="dpif_8c.html#ac80fa9fd07e3f12866c1c1fccffed96b">dpif_register_dp_purge_cb</a></div><div class="ttdeci">void dpif_register_dp_purge_cb(struct dpif *dpif, dp_purge_callback *cb, void *aux)</div><div class="ttdef"><b>Definition:</b> dpif.c:1349</div></div>
<div class="ttc" id="structudpif_html_ab36b4e379fcf792c5c79fb0592117aa4"><div class="ttname"><a href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">udpif::pause_latch</a></div><div class="ttdeci">struct latch pause_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:129</div></div>
<div class="ttc" id="dpif_8c_html_a148baa56eecf400ab5c3a8b9af400589"><div class="ttname"><a href="dpif_8c.html#a148baa56eecf400ab5c3a8b9af400589">dpif_register_upcall_cb</a></div><div class="ttdeci">void dpif_register_upcall_cb(struct dpif *dpif, upcall_callback *cb, void *aux)</div><div class="ttdef"><b>Definition:</b> dpif.c:1357</div></div>
<div class="ttc" id="util_8c_html_ad7ead2fc5daad78a7f124e173863b16e"><div class="ttname"><a href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a></div><div class="ttdeci">void * xzalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:104</div></div>
<div class="ttc" id="Util_8h_html_a926c1ab4f6ca8b244750377dcdea9ec1"><div class="ttname"><a href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a></div><div class="ttdeci">#define MIN(_a, _b)</div><div class="ttdef"><b>Definition:</b> Util.h:68</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a60d060cc955bc5dada95db323eba442d"><div class="ttname"><a href="ofproto-provider_8h.html#a60d060cc955bc5dada95db323eba442d">ofproto_flow_limit</a></div><div class="ttdeci">unsigned ofproto_flow_limit</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structudpif_html_a4c765ff08da6616523d168ee7739211d"><div class="ttname"><a href="structudpif.html#a4c765ff08da6616523d168ee7739211d">udpif::n_flows</a></div><div class="ttdeci">atomic_uint n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:148</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a085b30803ccb04a25fb842f8ef755619"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a></div><div class="ttdeci">static struct ovs_list all_udpifs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:275</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a3a8c33f4ee83b76dcf4f27b255e29374"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a3a8c33f4ee83b76dcf4f27b255e29374">dp_purge_cb</a></div><div class="ttdeci">static dp_purge_callback dp_purge_cb</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:336</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06e72370ea95f8b465ff10af4806a045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a>(udpif);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>; i++) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="cmap_8c.html#a48824c69a56295b55010890497c6e16b">cmap_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i].<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <a class="code" href="thread_8h.html#aa0a70de451ad2f0b2506a6196e5685c4">ovs_mutex_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i].<a class="code" href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">mutex</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    free(udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a> = NULL;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="lib_2list_8h.html#a3e5fceaa5b80a78241a276d3de38e732">list_remove</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <a class="code" href="latch-unix_8c.html#a8b15ed4ac25b8762e458b3ce3dff553d">latch_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="latch-unix_8c.html#a8b15ed4ac25b8762e458b3ce3dff553d">latch_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">pause_latch</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="seq_8c.html#a6413919f6dc906cab00c9aeb1c44d1c5">seq_destroy</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="seq_8c.html#a6413919f6dc906cab00c9aeb1c44d1c5">seq_destroy</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="thread_8h.html#aa0a70de451ad2f0b2506a6196e5685c4">ovs_mutex_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">n_flows_mutex</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    free(udpif);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="latch-unix_8c_html_a8b15ed4ac25b8762e458b3ce3dff553d"><div class="ttname"><a href="latch-unix_8c.html#a8b15ed4ac25b8762e458b3ce3dff553d">latch_destroy</a></div><div class="ttdeci">void latch_destroy(struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:35</div></div>
<div class="ttc" id="structudpif_html_af64b897f2556ec1987f618f1248bfbe3"><div class="ttname"><a href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">udpif::n_flows_mutex</a></div><div class="ttdeci">struct ovs_mutex n_flows_mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:150</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a51e09eb986da2c0342131a0801537aa8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a></div><div class="ttdeci">static void udpif_stop_threads(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:434</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="cmap_8c_html_a48824c69a56295b55010890497c6e16b"><div class="ttname"><a href="cmap_8c.html#a48824c69a56295b55010890497c6e16b">cmap_destroy</a></div><div class="ttdeci">void cmap_destroy(struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:252</div></div>
<div class="ttc" id="structumap_html_a76baa46c56dec642a9e1fb033ec2a3f5"><div class="ttname"><a href="structumap.html#a76baa46c56dec642a9e1fb033ec2a3f5">umap::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:68</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="structudpif_html_a4a6b0b6345fd24992ef88dda700c4c44"><div class="ttname"><a href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">udpif::exit_latch</a></div><div class="ttdeci">struct latch exit_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:108</div></div>
<div class="ttc" id="structudpif_html_ab36b4e379fcf792c5c79fb0592117aa4"><div class="ttname"><a href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">udpif::pause_latch</a></div><div class="ttdeci">struct latch pause_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:129</div></div>
<div class="ttc" id="seq_8c_html_a6413919f6dc906cab00c9aeb1c44d1c5"><div class="ttname"><a href="seq_8c.html#a6413919f6dc906cab00c9aeb1c44d1c5">seq_destroy</a></div><div class="ttdeci">void seq_destroy(struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:87</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="thread_8h_html_aa0a70de451ad2f0b2506a6196e5685c4"><div class="ttname"><a href="thread_8h.html#aa0a70de451ad2f0b2506a6196e5685c4">ovs_mutex_destroy</a></div><div class="ttdeci">void ovs_mutex_destroy(const struct ovs_mutex *)</div></div>
<div class="ttc" id="lib_2list_8h_html_a3e5fceaa5b80a78241a276d3de38e732"><div class="ttname"><a href="lib_2list_8h.html#a3e5fceaa5b80a78241a276d3de38e732">list_remove</a></div><div class="ttdeci">static struct ovs_list * list_remove(struct ovs_list *)</div><div class="ttdef"><b>Definition:</b> list.h:192</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79c2c76d559428f7bfd727e450a8c6e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structseq.html">seq</a>* udpif_dump_seq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;{</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span> udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8430825afcde1cb12199bf0d8da38eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_flush </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a>, <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    n_handlers = udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    n_revalidators = udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a>(udpif);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <a class="code" href="dpif_8c.html#a64a40e44ad8a1bd553d863da35d27b1a">dpif_flow_flush</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a>(udpif, n_handlers, n_revalidators);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a>();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a51e09eb986da2c0342131a0801537aa8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a></div><div class="ttdeci">static void udpif_stop_threads(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:434</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a4868431442c9de1191bc247e1f6fe551"><div class="ttname"><a href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a></div><div class="ttdeci">void ovsrcu_quiesce_start(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:120</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab5b7d948c5fb2996817e1ffb787a8721"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a></div><div class="ttdeci">static void udpif_start_threads(struct udpif *, size_t n_handlers, size_t n_revalidators)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:479</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a1c6739cdb8286f25fcc43e18b7750e53"><div class="ttname"><a href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div></div>
<div class="ttc" id="structudpif_html_a335f6b2f932223caff4f22ae8cff601c"><div class="ttname"><a href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">udpif::n_handlers</a></div><div class="ttdeci">size_t n_handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:103</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a854fdaf22698bdbfd2907256a51279a3"><div class="ttname"><a href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a></div><div class="ttdeci">void ovsrcu_quiesce_end(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:98</div></div>
<div class="ttc" id="dpif_8c_html_a64a40e44ad8a1bd553d863da35d27b1a"><div class="ttname"><a href="dpif_8c.html#a64a40e44ad8a1bd553d863da35d27b1a">dpif_flow_flush</a></div><div class="ttdeci">int dpif_flow_flush(struct dpif *dpif)</div><div class="ttdef"><b>Definition:</b> dpif.c:863</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a2c354a91ad67ea0e850a84ed4fe8795d"><div class="ttname"><a href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a></div><div class="ttdeci">size_t n_handlers</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adae85c4a34f3c8514aa4b174e3c7447e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udpif_flush_all_datapaths </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a> (udpif, <a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>, &amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>) {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#ab8430825afcde1cb12199bf0d8da38eb">udpif_flush</a>(udpif);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
<div class="ttc" id="lib_2list_8h_html_a6eb1d9c9e51112125ff78f6b11a95a68"><div class="ttname"><a href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a></div><div class="ttdeci">#define LIST_FOR_EACH(ITER, MEMBER, LIST)</div><div class="ttdef"><b>Definition:</b> list.h:60</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab8430825afcde1cb12199bf0d8da38eb"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab8430825afcde1cb12199bf0d8da38eb">udpif_flush</a></div><div class="ttdeci">void udpif_flush(struct udpif *udpif)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:621</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a085b30803ccb04a25fb842f8ef755619"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a></div><div class="ttdeci">static struct ovs_list all_udpifs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:275</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a285b0debb6de6387f958d984ee6c7544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_get_memory_usage </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsimap.html">simap</a> *&#160;</td>
          <td class="paramname"><em>usage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="simap_8c.html#a4e76f97d7a0b623c39b055fc59755e39">simap_increase</a>(usage, <span class="stringliteral">&quot;handlers&quot;</span>, udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="simap_8c.html#a4e76f97d7a0b623c39b055fc59755e39">simap_increase</a>(usage, <span class="stringliteral">&quot;revalidators&quot;</span>, udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>; i++) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <a class="code" href="simap_8c.html#a4e76f97d7a0b623c39b055fc59755e39">simap_increase</a>(usage, <span class="stringliteral">&quot;udpif keys&quot;</span>, <a class="code" href="cmap_8c.html#a924145bb572cf5c7156b39adbe5d6f95">cmap_count</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[i].<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div>
<div class="ttc" id="simap_8c_html_a4e76f97d7a0b623c39b055fc59755e39"><div class="ttname"><a href="simap_8c.html#a4e76f97d7a0b623c39b055fc59755e39">simap_increase</a></div><div class="ttdeci">unsigned int simap_increase(struct simap *simap, const char *name, unsigned int amt)</div><div class="ttdef"><b>Definition:</b> simap.c:121</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="structudpif_html_a335f6b2f932223caff4f22ae8cff601c"><div class="ttname"><a href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">udpif::n_handlers</a></div><div class="ttdeci">size_t n_handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:103</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="cmap_8c_html_a924145bb572cf5c7156b39adbe5d6f95"><div class="ttname"><a href="cmap_8c.html#a924145bb572cf5c7156b39adbe5d6f95">cmap_count</a></div><div class="ttdeci">size_t cmap_count(const struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:261</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a52c113018932b24a5d87ff9becc04f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long udpif_get_n_flows </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;{</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> time, <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flow_count;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    now = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a53a8f6c00593d5c8a2c40267e1dabc12">n_flows_timestamp</a>, &amp;time);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (time &lt; now - 100 &amp;&amp; !<a class="code" href="thread_8h.html#a61950e1f6098f788e52b9fa86b2b69a8">ovs_mutex_trylock</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">n_flows_mutex</a>)) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keyword">struct </span><a class="code" href="structdpif__dp__stats.html">dpif_dp_stats</a> stats;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a53a8f6c00593d5c8a2c40267e1dabc12">n_flows_timestamp</a>, now);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <a class="code" href="dpif_8c.html#ab694560e138b22b8c5776aa6124091ba">dpif_get_dp_stats</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, &amp;stats);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        flow_count = stats.n_flows;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4c765ff08da6616523d168ee7739211d">n_flows</a>, flow_count);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">n_flows_mutex</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4c765ff08da6616523d168ee7739211d">n_flows</a>, &amp;flow_count);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> flow_count;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div>
<div class="ttc" id="structudpif_html_af64b897f2556ec1987f618f1248bfbe3"><div class="ttname"><a href="structudpif.html#af64b897f2556ec1987f618f1248bfbe3">udpif::n_flows_mutex</a></div><div class="ttdeci">struct ovs_mutex n_flows_mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:150</div></div>
<div class="ttc" id="structudpif_html_a53a8f6c00593d5c8a2c40267e1dabc12"><div class="ttname"><a href="structudpif.html#a53a8f6c00593d5c8a2c40267e1dabc12">udpif::n_flows_timestamp</a></div><div class="ttdeci">atomic_llong n_flows_timestamp</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:149</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="dpif_8c_html_ab694560e138b22b8c5776aa6124091ba"><div class="ttname"><a href="dpif_8c.html#ab694560e138b22b8c5776aa6124091ba">dpif_get_dp_stats</a></div><div class="ttdeci">int dpif_get_dp_stats(const struct dpif *dpif, struct dpif_dp_stats *stats)</div><div class="ttdef"><b>Definition:</b> dpif.c:498</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="thread_8h_html_a61950e1f6098f788e52b9fa86b2b69a8"><div class="ttname"><a href="thread_8h.html#a61950e1f6098f788e52b9fa86b2b69a8">ovs_mutex_trylock</a></div><div class="ttdeci">#define ovs_mutex_trylock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:64</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structudpif_html_a4c765ff08da6616523d168ee7739211d"><div class="ttname"><a href="structudpif.html#a4c765ff08da6616523d168ee7739211d">udpif::n_flows</a></div><div class="ttdeci">atomic_uint n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:148</div></div>
<div class="ttc" id="structdpif__dp__stats_html"><div class="ttname"><a href="structdpif__dp__stats.html">dpif_dp_stats</a></div><div class="ttdef"><b>Definition:</b> dpif.h:435</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a465079e9f07a096641b107bc8099087f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structovsthread__once.html">ovsthread_once</a> once = <a class="code" href="thread_8h.html#aaaeb2533092a5ef2beff154ca4e41481">OVSTHREAD_ONCE_INITIALIZER</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="thread_8h.html#a8ecaf6e9b01815bb2406ab2a6a25c479">ovsthread_once_start</a>(&amp;once)) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;upcall/show&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0, <a class="code" href="ofproto-dpif-upcall_8c.html#ad6fd2f3139d0e274c5ed884329765d81">upcall_unixctl_show</a>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                 NULL);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;upcall/disable-megaflows&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0,</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#adf1877b9a01c1b3e1343237d3d28bb6a">upcall_unixctl_disable_megaflows</a>, NULL);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;upcall/enable-megaflows&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0,</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#a5bc80da5c571b63c5ac22845c323740e">upcall_unixctl_enable_megaflows</a>, NULL);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;upcall/disable-ufid&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#a67d58387ee947ca07b70cad5b0f5906f">upcall_unixctl_disable_ufid</a>, NULL);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;upcall/enable-ufid&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#a8a5653339416cecea196cda34a7720d6">upcall_unixctl_enable_ufid</a>, NULL);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;upcall/set-flow-limit&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 1, 1,</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#a675256e5853f88d44c9388e81a6f0404">upcall_unixctl_set_flow_limit</a>, NULL);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;revalidator/wait&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#a2b76583b1643d7a049b69059885be620">upcall_unixctl_dump_wait</a>, NULL);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;revalidator/purge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                 <a class="code" href="ofproto-dpif-upcall_8c.html#aaeeb28abdcbf07e1cfc1c00b30318e3f">upcall_unixctl_purge</a>, NULL);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="thread_8h.html#a994361b784f5acdbf18082492ab5239e">ovsthread_once_done</a>(&amp;once);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ad6fd2f3139d0e274c5ed884329765d81"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ad6fd2f3139d0e274c5ed884329765d81">upcall_unixctl_show</a></div><div class="ttdeci">static void upcall_unixctl_show(struct unixctl_conn *conn, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_adf1877b9a01c1b3e1343237d3d28bb6a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#adf1877b9a01c1b3e1343237d3d28bb6a">upcall_unixctl_disable_megaflows</a></div><div class="ttdeci">static void upcall_unixctl_disable_megaflows(struct unixctl_conn *, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="thread_8h_html_a994361b784f5acdbf18082492ab5239e"><div class="ttname"><a href="thread_8h.html#a994361b784f5acdbf18082492ab5239e">ovsthread_once_done</a></div><div class="ttdeci">void ovsthread_once_done(struct ovsthread_once *once) OVS_RELEASES(once-&gt; mutex)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:381</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a67d58387ee947ca07b70cad5b0f5906f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a67d58387ee947ca07b70cad5b0f5906f">upcall_unixctl_disable_ufid</a></div><div class="ttdeci">static void upcall_unixctl_disable_ufid(struct unixctl_conn *, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2b76583b1643d7a049b69059885be620"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2b76583b1643d7a049b69059885be620">upcall_unixctl_dump_wait</a></div><div class="ttdeci">static void upcall_unixctl_dump_wait(struct unixctl_conn *conn, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="thread_8h_html_a8ecaf6e9b01815bb2406ab2a6a25c479"><div class="ttname"><a href="thread_8h.html#a8ecaf6e9b01815bb2406ab2a6a25c479">ovsthread_once_start</a></div><div class="ttdeci">static bool ovsthread_once_start(struct ovsthread_once *once) OVS_TRY_LOCK(true</div><div class="ttdef"><b>Definition:</b> thread.h:128</div></div>
<div class="ttc" id="thread_8h_html_aaaeb2533092a5ef2beff154ca4e41481"><div class="ttname"><a href="thread_8h.html#aaaeb2533092a5ef2beff154ca4e41481">OVSTHREAD_ONCE_INITIALIZER</a></div><div class="ttdeci">#define OVSTHREAD_ONCE_INITIALIZER</div><div class="ttdef"><b>Definition:</b> thread.h:106</div></div>
<div class="ttc" id="unixctl_8c_html_a88337242bbc90240984cd6c145c2a4be"><div class="ttname"><a href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a></div><div class="ttdeci">void unixctl_command_register(const char *name, const char *usage, int min_args, int max_args, unixctl_cb_func *cb, void *aux)</div><div class="ttdef"><b>Definition:</b> unixctl.c:106</div></div>
<div class="ttc" id="structovsthread__once_html"><div class="ttname"><a href="structovsthread__once.html">ovsthread_once</a></div><div class="ttdef"><b>Definition:</b> thread.h:101</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aaeeb28abdcbf07e1cfc1c00b30318e3f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aaeeb28abdcbf07e1cfc1c00b30318e3f">upcall_unixctl_purge</a></div><div class="ttdeci">static void upcall_unixctl_purge(struct unixctl_conn *conn, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a675256e5853f88d44c9388e81a6f0404"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a675256e5853f88d44c9388e81a6f0404">upcall_unixctl_set_flow_limit</a></div><div class="ttdeci">static void upcall_unixctl_set_flow_limit(struct unixctl_conn *conn, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5bc80da5c571b63c5ac22845c323740e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5bc80da5c571b63c5ac22845c323740e">upcall_unixctl_enable_megaflows</a></div><div class="ttdeci">static void upcall_unixctl_enable_megaflows(struct unixctl_conn *, int argc, const char *argv[], void *aux)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a8a5653339416cecea196cda34a7720d6"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a8a5653339416cecea196cda34a7720d6">upcall_unixctl_enable_ufid</a></div><div class="ttdeci">static void upcall_unixctl_enable_ufid(struct unixctl_conn *, int argc, const char *argv[], void *aux)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5824f16d4d530399a8cd859cfa3da20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udpif_pause_revalidators </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="latch-unix_8c.html#a00ba26c8ba793271fb6764aead922117">latch_set</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">pause_latch</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">pause_barrier</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="ttc" id="structudpif_html_ac0517f8cba43054ab61c100db6f081b4"><div class="ttname"><a href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">udpif::pause_barrier</a></div><div class="ttdeci">struct ovs_barrier pause_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:130</div></div>
<div class="ttc" id="structudpif_html_ab36b4e379fcf792c5c79fb0592117aa4"><div class="ttname"><a href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">udpif::pause_latch</a></div><div class="ttdeci">struct latch pause_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:129</div></div>
<div class="ttc" id="ovs-thread_8c_html_a8a760e9e3b2b3f85df806114294d3c93"><div class="ttname"><a href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a></div><div class="ttdeci">void ovs_barrier_block(struct ovs_barrier *barrier)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:289</div></div>
<div class="ttc" id="latch-unix_8c_html_a00ba26c8ba793271fb6764aead922117"><div class="ttname"><a href="latch-unix_8c.html#a00ba26c8ba793271fb6764aead922117">latch_set</a></div><div class="ttdeci">void latch_set(struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:56</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac94c4ec0bd8b47739077a4f0d386eb97"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udpif_resume_revalidators </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;{</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="latch-unix_8c.html#a9f3bce90760bdc948603f8caf4603496">latch_poll</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">pause_latch</a>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">pause_barrier</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="ttc" id="structudpif_html_ac0517f8cba43054ab61c100db6f081b4"><div class="ttname"><a href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">udpif::pause_barrier</a></div><div class="ttdeci">struct ovs_barrier pause_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:130</div></div>
<div class="ttc" id="structudpif_html_ab36b4e379fcf792c5c79fb0592117aa4"><div class="ttname"><a href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">udpif::pause_latch</a></div><div class="ttdeci">struct latch pause_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:129</div></div>
<div class="ttc" id="ovs-thread_8c_html_a8a760e9e3b2b3f85df806114294d3c93"><div class="ttname"><a href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a></div><div class="ttdeci">void ovs_barrier_block(struct ovs_barrier *barrier)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:289</div></div>
<div class="ttc" id="latch-unix_8c_html_a9f3bce90760bdc948603f8caf4603496"><div class="ttname"><a href="latch-unix_8c.html#a9f3bce90760bdc948603f8caf4603496">latch_poll</a></div><div class="ttdeci">bool latch_poll(struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6590e2b109068dcb3cf79d1f1007a86d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_revalidate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;{</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="seq_8c.html#a74a066dd7f09238a11c8e511b843b911">seq_change</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="seq_8c_html_a74a066dd7f09238a11c8e511b843b911"><div class="ttname"><a href="seq_8c.html#a74a066dd7f09238a11c8e511b843b911">seq_change</a></div><div class="ttdeci">void seq_change(struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:100</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a714676477029eb7fe9aa93930fef64dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * udpif_revalidator </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;{</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">/* Used by all revalidators. */</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrevalidator.html">revalidator</a> *<a class="code" href="structrevalidator.html">revalidator</a> = arg;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = revalidator-&gt;<a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordtype">bool</span> leader = revalidator == &amp;udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>[0];</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">/* Used only by the leader. */</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> start_time = 0;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> last_reval_seq = 0;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structudpif.html#a4c765ff08da6616523d168ee7739211d">n_flows</a> = 0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    revalidator-&gt;<a class="code" href="structrevalidator.html#a4e8f8fcd6a2b95b5b53d83486a8d6da2">id</a> = <a class="code" href="ovs-thread_8h.html#a31f9d6ab46c96ccf3d140b8eccf777b8">ovsthread_id_self</a>();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">if</span> (leader) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> <a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <a class="code" href="ofproto-dpif-rid_8c.html#a8e3b66001b5fdc07064fff7694a0bde8">recirc_run</a>(); <span class="comment">/* Recirculation cleanup. */</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            reval_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            last_reval_seq = <a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;            n_flows = <a class="code" href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a>(udpif);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            udpif-&gt;<a class="code" href="structudpif.html#a8ff311bde57165b4348c5ed9a3e1b1a7">max_n_flows</a> = <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(n_flows, udpif-&gt;<a class="code" href="structudpif.html#a8ff311bde57165b4348c5ed9a3e1b1a7">max_n_flows</a>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            udpif-&gt;<a class="code" href="structudpif.html#a739470ac9fb0926a56e64506a92407c6">avg_n_flows</a> = (udpif-&gt;<a class="code" href="structudpif.html#a739470ac9fb0926a56e64506a92407c6">avg_n_flows</a> + <a class="code" href="structudpif.html#a4c765ff08da6616523d168ee7739211d">n_flows</a>) / 2;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="comment">/* Only the leader checks the pause latch to prevent a race where</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">             * some threads think it&#39;s false and proceed to block on</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">             * reval_barrier and others think it&#39;s true and block indefinitely</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">             * on the pause_barrier */</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            udpif-&gt;<a class="code" href="structudpif.html#ae5f44a27d3ae2b40640da8e641c83784">pause</a> = <a class="code" href="latch-unix_8c.html#a914dba127e099929e88ba3795728c441">latch_is_set</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">pause_latch</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="comment">/* Only the leader checks the exit latch to prevent a race where</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">             * some threads think it&#39;s true and exit and others think it&#39;s</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">             * false and block indefinitely on the reval_barrier */</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            udpif-&gt;<a class="code" href="structudpif.html#a46d59c658ee8a440fb0fbac5e72091cd">reval_exit</a> = <a class="code" href="latch-unix_8c.html#a914dba127e099929e88ba3795728c441">latch_is_set</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            start_time = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">if</span> (!udpif-&gt;<a class="code" href="structudpif.html#a46d59c658ee8a440fb0fbac5e72091cd">reval_exit</a>) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="keywordtype">bool</span> terse_dump;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                terse_dump = <a class="code" href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a>(udpif);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                udpif-&gt;<a class="code" href="structudpif.html#ace27cd870bae2f7081e26d61397a5aea">dump</a> = <a class="code" href="dpif_8c.html#aef0b3b457e25a6d9efef13f7f86a89fe">dpif_flow_dump_create</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, terse_dump);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="comment">/* Wait for the leader to start the flow dump. */</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">reval_barrier</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">if</span> (udpif-&gt;<a class="code" href="structudpif.html#ae5f44a27d3ae2b40640da8e641c83784">pause</a>) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#a8ee8fe970b1de29863e64bfcdc188e1a">revalidator_pause</a>(revalidator);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        }</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <span class="keywordflow">if</span> (udpif-&gt;<a class="code" href="structudpif.html#a46d59c658ee8a440fb0fbac5e72091cd">reval_exit</a>) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a3901476e9d5bd1dd29749b491a01467a">revalidate</a>(revalidator);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        <span class="comment">/* Wait for all flows to have been dumped before we garbage collect. */</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">reval_barrier</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a21cbdeadb892bc5412cd3ce594f468fa">revalidator_sweep</a>(revalidator);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="comment">/* Wait for all revalidators to finish garbage collection. */</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        <a class="code" href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">reval_barrier</a>);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="keywordflow">if</span> (leader) {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> duration;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, &amp;flow_limit);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;            <a class="code" href="dpif_8c.html#a277e2fa36d97d13e1864e61f3e20d8bd">dpif_flow_dump_destroy</a>(udpif-&gt;<a class="code" href="structudpif.html#ace27cd870bae2f7081e26d61397a5aea">dump</a>);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            <a class="code" href="seq_8c.html#a74a066dd7f09238a11c8e511b843b911">seq_change</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            duration = <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(<a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>() - start_time, 1);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            udpif-&gt;<a class="code" href="structudpif.html#a27f2a1abcc6e597e118897d50cb970c4">dump_duration</a> = duration;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">if</span> (duration &gt; 2000) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                flow_limit /= duration / 1000;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (duration &gt; 1300) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                flow_limit = flow_limit * 3 / 4;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (duration &lt; 1000 &amp;&amp; n_flows &gt; 2000</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                       &amp;&amp; flow_limit &lt; n_flows * 1000 / duration) {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                flow_limit += 1000;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            flow_limit = <a class="code" href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a>(<a class="code" href="ofproto-provider_8h.html#a60d060cc955bc5dada95db323eba442d">ofproto_flow_limit</a>, <a class="code" href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a>(flow_limit, 1000));</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, flow_limit);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            <span class="keywordflow">if</span> (duration &gt; 2000) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                <a class="code" href="vlog_8h.html#a7dd45388a8eae0a7ad23461ea1eb825c">VLOG_INFO</a>(<span class="stringliteral">&quot;Spent an unreasonably long %lldms dumping flows&quot;</span>,</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                          duration);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;            }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;            <a class="code" href="poll-loop_8h.html#ac7566dad4e2efe12edc121b74a5ab7b6">poll_timer_wait_until</a>(start_time + <a class="code" href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a>(<a class="code" href="ofproto-provider_8h.html#a0988c1885f852f1b22bebd5196924c3c">ofproto_max_idle</a>, 500));</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <a class="code" href="seq_8h.html#a8b59b6e589df65b24f88b732b0c5b00a">seq_wait</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>, last_reval_seq);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <a class="code" href="latch_8h.html#aed96a0ddbf49769962080f0dd9974dba">latch_wait</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <a class="code" href="latch_8h.html#aed96a0ddbf49769962080f0dd9974dba">latch_wait</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">pause_latch</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <a class="code" href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        }</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    }</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;}</div>
<div class="ttc" id="ofproto-provider_8h_html_a0988c1885f852f1b22bebd5196924c3c"><div class="ttname"><a href="ofproto-provider_8h.html#a0988c1885f852f1b22bebd5196924c3c">ofproto_max_idle</a></div><div class="ttdeci">unsigned ofproto_max_idle</div></div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="seq_8c_html_a74a066dd7f09238a11c8e511b843b911"><div class="ttname"><a href="seq_8c.html#a74a066dd7f09238a11c8e511b843b911">seq_change</a></div><div class="ttdeci">void seq_change(struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:100</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a8ee8fe970b1de29863e64bfcdc188e1a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a8ee8fe970b1de29863e64bfcdc188e1a">revalidator_pause</a></div><div class="ttdeci">static void revalidator_pause(struct revalidator *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2168</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="poll-loop_8c_html_a2645ec3e8c76cc443a500ae722901b50"><div class="ttname"><a href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a></div><div class="ttdeci">void poll_block(void)</div><div class="ttdef"><b>Definition:</b> poll-loop.c:313</div></div>
<div class="ttc" id="structudpif_html_a46d59c658ee8a440fb0fbac5e72091cd"><div class="ttname"><a href="structudpif.html#a46d59c658ee8a440fb0fbac5e72091cd">udpif::reval_exit</a></div><div class="ttdeci">bool reval_exit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:112</div></div>
<div class="ttc" id="structudpif_html_a27f2a1abcc6e597e118897d50cb970c4"><div class="ttname"><a href="structudpif.html#a27f2a1abcc6e597e118897d50cb970c4">udpif::dump_duration</a></div><div class="ttdeci">long long int dump_duration</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:115</div></div>
<div class="ttc" id="poll-loop_8h_html_ac7566dad4e2efe12edc121b74a5ab7b6"><div class="ttname"><a href="poll-loop_8h.html#ac7566dad4e2efe12edc121b74a5ab7b6">poll_timer_wait_until</a></div><div class="ttdeci">#define poll_timer_wait_until(msec)</div><div class="ttdef"><b>Definition:</b> poll-loop.h:64</div></div>
<div class="ttc" id="dpif_8c_html_a277e2fa36d97d13e1864e61f3e20d8bd"><div class="ttname"><a href="dpif_8c.html#a277e2fa36d97d13e1864e61f3e20d8bd">dpif_flow_dump_destroy</a></div><div class="ttdeci">int dpif_flow_dump_destroy(struct dpif_flow_dump *dump)</div><div class="ttdef"><b>Definition:</b> dpif.c:1019</div></div>
<div class="ttc" id="structudpif_html_a739470ac9fb0926a56e64506a92407c6"><div class="ttname"><a href="structudpif.html#a739470ac9fb0926a56e64506a92407c6">udpif::avg_n_flows</a></div><div class="ttdeci">unsigned int avg_n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:142</div></div>
<div class="ttc" id="structudpif_html_a4a6b0b6345fd24992ef88dda700c4c44"><div class="ttname"><a href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">udpif::exit_latch</a></div><div class="ttdeci">struct latch exit_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:108</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="structudpif_html_ab36b4e379fcf792c5c79fb0592117aa4"><div class="ttname"><a href="structudpif.html#ab36b4e379fcf792c5c79fb0592117aa4">udpif::pause_latch</a></div><div class="ttdeci">struct latch pause_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:129</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a3901476e9d5bd1dd29749b491a01467a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a3901476e9d5bd1dd29749b491a01467a">revalidate</a></div><div class="ttdeci">static void revalidate(struct revalidator *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2051</div></div>
<div class="ttc" id="seq_8h_html_a8b59b6e589df65b24f88b732b0c5b00a"><div class="ttname"><a href="seq_8h.html#a8b59b6e589df65b24f88b732b0c5b00a">seq_wait</a></div><div class="ttdeci">#define seq_wait(seq, value)</div><div class="ttdef"><b>Definition:</b> seq.h:129</div></div>
<div class="ttc" id="dpif_8c_html_aef0b3b457e25a6d9efef13f7f86a89fe"><div class="ttname"><a href="dpif_8c.html#aef0b3b457e25a6d9efef13f7f86a89fe">dpif_flow_dump_create</a></div><div class="ttdeci">struct dpif_flow_dump * dpif_flow_dump_create(const struct dpif *dpif, bool terse)</div><div class="ttdef"><b>Definition:</b> dpif.c:1007</div></div>
<div class="ttc" id="structrevalidator_html_a4e8f8fcd6a2b95b5b53d83486a8d6da2"><div class="ttname"><a href="structrevalidator.html#a4e8f8fcd6a2b95b5b53d83486a8d6da2">revalidator::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:77</div></div>
<div class="ttc" id="structudpif_html_ae5f44a27d3ae2b40640da8e641c83784"><div class="ttname"><a href="structudpif.html#ae5f44a27d3ae2b40640da8e641c83784">udpif::pause</a></div><div class="ttdeci">bool pause</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:128</div></div>
<div class="ttc" id="structrevalidator_html"><div class="ttname"><a href="structrevalidator.html">revalidator</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:74</div></div>
<div class="ttc" id="Util_8h_html_a926c1ab4f6ca8b244750377dcdea9ec1"><div class="ttname"><a href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a></div><div class="ttdeci">#define MIN(_a, _b)</div><div class="ttdef"><b>Definition:</b> Util.h:68</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a60d060cc955bc5dada95db323eba442d"><div class="ttname"><a href="ofproto-provider_8h.html#a60d060cc955bc5dada95db323eba442d">ofproto_flow_limit</a></div><div class="ttdeci">unsigned ofproto_flow_limit</div></div>
<div class="ttc" id="structudpif_html_ace27cd870bae2f7081e26d61397a5aea"><div class="ttname"><a href="structudpif.html#ace27cd870bae2f7081e26d61397a5aea">udpif::dump</a></div><div class="ttdeci">struct dpif_flow_dump * dump</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:114</div></div>
<div class="ttc" id="latch_8h_html_aed96a0ddbf49769962080f0dd9974dba"><div class="ttname"><a href="latch_8h.html#aed96a0ddbf49769962080f0dd9974dba">latch_wait</a></div><div class="ttdeci">#define latch_wait(latch)</div><div class="ttdef"><b>Definition:</b> latch.h:45</div></div>
<div class="ttc" id="latch-unix_8c_html_a914dba127e099929e88ba3795728c441"><div class="ttname"><a href="latch-unix_8c.html#a914dba127e099929e88ba3795728c441">latch_is_set</a></div><div class="ttdeci">bool latch_is_set(const struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:64</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="ovs-thread_8h_html_a31f9d6ab46c96ccf3d140b8eccf777b8"><div class="ttname"><a href="ovs-thread_8h.html#a31f9d6ab46c96ccf3d140b8eccf777b8">ovsthread_id_self</a></div><div class="ttdeci">static unsigned int ovsthread_id_self(void)</div><div class="ttdef"><b>Definition:</b> ovs-thread.h:473</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structudpif_html_a4c765ff08da6616523d168ee7739211d"><div class="ttname"><a href="structudpif.html#a4c765ff08da6616523d168ee7739211d">udpif::n_flows</a></div><div class="ttdeci">atomic_uint n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:148</div></div>
<div class="ttc" id="structudpif_html_a8ff311bde57165b4348c5ed9a3e1b1a7"><div class="ttname"><a href="structudpif.html#a8ff311bde57165b4348c5ed9a3e1b1a7">udpif::max_n_flows</a></div><div class="ttdeci">unsigned int max_n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:141</div></div>
<div class="ttc" id="structudpif_html_ab4ef1894452cb0b302d091d31c2d8c39"><div class="ttname"><a href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">udpif::reval_barrier</a></div><div class="ttdeci">struct ovs_barrier reval_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:113</div></div>
<div class="ttc" id="vlog_8h_html_a7dd45388a8eae0a7ad23461ea1eb825c"><div class="ttname"><a href="vlog_8h.html#a7dd45388a8eae0a7ad23461ea1eb825c">VLOG_INFO</a></div><div class="ttdeci">#define VLOG_INFO(...)</div><div class="ttdef"><b>Definition:</b> vlog.h:198</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a21cbdeadb892bc5412cd3ce594f468fa"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a21cbdeadb892bc5412cd3ce594f468fa">revalidator_sweep</a></div><div class="ttdeci">static void revalidator_sweep(struct revalidator *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2253</div></div>
<div class="ttc" id="ovs-thread_8c_html_a8a760e9e3b2b3f85df806114294d3c93"><div class="ttname"><a href="ovs-thread_8c.html#a8a760e9e3b2b3f85df806114294d3c93">ovs_barrier_block</a></div><div class="ttdeci">void ovs_barrier_block(struct ovs_barrier *barrier)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:289</div></div>
<div class="ttc" id="ofproto-dpif-rid_8c_html_a8e3b66001b5fdc07064fff7694a0bde8"><div class="ttname"><a href="ofproto-dpif-rid_8c.html#a8e3b66001b5fdc07064fff7694a0bde8">recirc_run</a></div><div class="ttdeci">void recirc_run(void)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-rid.c:62</div></div>
<div class="ttc" id="lib_2util_8h_html_aff9931d7524c88e07743af6535b20761"><div class="ttname"><a href="lib_2util_8h.html#aff9931d7524c88e07743af6535b20761">MAX</a></div><div class="ttdeci">#define MAX(X, Y)</div><div class="ttdef"><b>Definition:</b> util.h:173</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7a52c113018932b24a5d87ff9becc04f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a></div><div class="ttdeci">static unsigned long udpif_get_n_flows(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:659</div></div>
<div class="ttc" id="structrevalidator_html_a9087e310653614a51b37816e2207a71e"><div class="ttname"><a href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">revalidator::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:75</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae58404e5162804b6a562800c477cd990"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a></div><div class="ttdeci">static bool udpif_use_ufid(struct udpif *udpif)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:649</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba876b4f0ecdab2c7963e54bc5335e8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_run </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a> &amp;&amp; udpif-&gt;<a class="code" href="structudpif.html#acf297554af07c3207ccb054f40669393">conn_seq</a> != <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>)) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; udpif-&gt;<a class="code" href="structudpif.html#a7ff07a22859797e80789d8bcbac9b7a1">n_conns</a>; i++) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a>[i], NULL);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        free(udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a> = NULL;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a7ff07a22859797e80789d8bcbac9b7a1">n_conns</a> = 0;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a7ff07a22859797e80789d8bcbac9b7a1"><div class="ttname"><a href="structudpif.html#a7ff07a22859797e80789d8bcbac9b7a1">udpif::n_conns</a></div><div class="ttdeci">size_t n_conns</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:156</div></div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="structudpif_html_acf297554af07c3207ccb054f40669393"><div class="ttname"><a href="structudpif.html#acf297554af07c3207ccb054f40669393">udpif::conn_seq</a></div><div class="ttdeci">uint64_t conn_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:154</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="structudpif_html_ad30ae1293fcf4281777eff5e2a1f5431"><div class="ttname"><a href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">udpif::conns</a></div><div class="ttdeci">struct unixctl_conn ** conns</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:153</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7c76285a546fc69b4910eeebde8805fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_set_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_handlers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_revalidators</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(udpif);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(<a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a> &amp;&amp; <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a>();</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">if</span> (udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a> != <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        || udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a> != <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a>(udpif);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">if</span> (!udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a> &amp;&amp; !udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        error = <a class="code" href="dpif_8c.html#ab3d2fab82f1c71ed3e908a41316d08df">dpif_handlers_set</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <a class="code" href="vlog_8h.html#aa21b5bf44db11689721bd2d0a6934c54">VLOG_ERR</a>(<span class="stringliteral">&quot;failed to configure handlers in dpif %s: %s&quot;</span>,</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                     <a class="code" href="dpif_8c.html#a9e16ea17790f54e9b156d460a82d3ddc">dpif_name</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>), <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(error));</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a>(udpif, <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a>, <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a>();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a51e09eb986da2c0342131a0801537aa8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a></div><div class="ttdeci">static void udpif_stop_threads(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:434</div></div>
<div class="ttc" id="lib_2util_8h_html_ac236d3d8f33428ab822cc4e277a451c8"><div class="ttname"><a href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a></div><div class="ttdeci">#define ovs_assert(CONDITION)</div><div class="ttdef"><b>Definition:</b> util.h:73</div></div>
<div class="ttc" id="structudpif_html_a67334fc4a107d3bd50f872e48c643c61"><div class="ttname"><a href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">udpif::handlers</a></div><div class="ttdeci">struct handler * handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:102</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a4868431442c9de1191bc247e1f6fe551"><div class="ttname"><a href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a></div><div class="ttdeci">void ovsrcu_quiesce_start(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:120</div></div>
<div class="ttc" id="dpif_8c_html_ab3d2fab82f1c71ed3e908a41316d08df"><div class="ttname"><a href="dpif_8c.html#ab3d2fab82f1c71ed3e908a41316d08df">dpif_handlers_set</a></div><div class="ttdeci">int dpif_handlers_set(struct dpif *dpif, uint32_t n_handlers)</div><div class="ttdef"><b>Definition:</b> dpif.c:1337</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab5b7d948c5fb2996817e1ffb787a8721"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a></div><div class="ttdeci">static void udpif_start_threads(struct udpif *, size_t n_handlers, size_t n_revalidators)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:479</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a1c6739cdb8286f25fcc43e18b7750e53"><div class="ttname"><a href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div></div>
<div class="ttc" id="dpif_8c_html_a9e16ea17790f54e9b156d460a82d3ddc"><div class="ttname"><a href="dpif_8c.html#a9e16ea17790f54e9b156d460a82d3ddc">dpif_name</a></div><div class="ttdeci">const char * dpif_name(const struct dpif *dpif)</div><div class="ttdef"><b>Definition:</b> dpif.c:450</div></div>
<div class="ttc" id="structudpif_html_a335f6b2f932223caff4f22ae8cff601c"><div class="ttname"><a href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">udpif::n_handlers</a></div><div class="ttdeci">size_t n_handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:103</div></div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="vlog_8h_html_aa21b5bf44db11689721bd2d0a6934c54"><div class="ttname"><a href="vlog_8h.html#aa21b5bf44db11689721bd2d0a6934c54">VLOG_ERR</a></div><div class="ttdeci">#define VLOG_ERR(...)</div><div class="ttdef"><b>Definition:</b> vlog.h:196</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a854fdaf22698bdbfd2907256a51279a3"><div class="ttname"><a href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a></div><div class="ttdeci">void ovsrcu_quiesce_end(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:98</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a2c354a91ad67ea0e850a84ed4fe8795d"><div class="ttname"><a href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a></div><div class="ttdeci">size_t n_handlers</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5b7d948c5fb2996817e1ffb787a8721"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udpif_start_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_handlers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_revalidators</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (udpif &amp;&amp; <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a> &amp;&amp; <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a> = <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a> = <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a> = <a class="code" href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a>(udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a> * <span class="keyword">sizeof</span> *udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a>; i++) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keyword">struct </span><a class="code" href="structhandler.html">handler</a> *<a class="code" href="structhandler.html">handler</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a>[i];</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            handler-&gt;<a class="code" href="structhandler.html#a24c38ecdb7e3bd556792589661470683">udpif</a> = <a class="code" href="structhandler.html#a24c38ecdb7e3bd556792589661470683">udpif</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            handler-&gt;<a class="code" href="structhandler.html#af72bb0b11bcabf3b764e9c4d561b03da">handler_id</a> = i;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            handler-&gt;<a class="code" href="structhandler.html#a0e0e4bb199ee8335023f89f225062af7">thread</a> = <a class="code" href="ovs-thread_8c.html#a161fbbf4cb0c3c95a44083787822a648">ovs_thread_create</a>(</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <span class="stringliteral">&quot;handler&quot;</span>, <a class="code" href="ofproto-dpif-upcall_8c.html#ae605fd7c6a217759ee4cd6aa31b23daf">udpif_upcall_handler</a>, handler);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        enable_ufid = <a class="code" href="ofproto-dpif_8c.html#acdf48e6d46505d21f6e32df29f251978">ofproto_dpif_get_enable_ufid</a>(udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a1732efc31389f97cc04957f3b392dc55">enable_ufid</a>, enable_ufid);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="dpif_8c.html#aa4522153131b9f1afa3f1ad2357bd8bd">dpif_enable_upcall</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="ovs-thread_8c.html#aa66919bdb42afc981f538fa3979cf6eb">ovs_barrier_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">reval_barrier</a>, udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="ovs-thread_8c.html#aa66919bdb42afc981f538fa3979cf6eb">ovs_barrier_init</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">pause_barrier</a>, udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a> + 1);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a46d59c658ee8a440fb0fbac5e72091cd">reval_exit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#ae5f44a27d3ae2b40640da8e641c83784">pause</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a> = <a class="code" href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a>(udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                      * <span class="keyword">sizeof</span> *udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>; i++) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            <span class="keyword">struct </span><a class="code" href="structrevalidator.html">revalidator</a> *<a class="code" href="structrevalidator.html">revalidator</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>[i];</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            revalidator-&gt;<a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a> = <a class="code" href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">udpif</a>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            revalidator-&gt;<a class="code" href="structrevalidator.html#a1057e27ea6ae7cce6783455aae73c214">thread</a> = <a class="code" href="ovs-thread_8c.html#a161fbbf4cb0c3c95a44083787822a648">ovs_thread_create</a>(</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                <span class="stringliteral">&quot;revalidator&quot;</span>, <a class="code" href="ofproto-dpif-upcall_8c.html#a714676477029eb7fe9aa93930fef64dd">udpif_revalidator</a>, revalidator);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        }</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a67334fc4a107d3bd50f872e48c643c61"><div class="ttname"><a href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">udpif::handlers</a></div><div class="ttdeci">struct handler * handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:102</div></div>
<div class="ttc" id="ovs-atomic-clang_8h_html_a5df32309cb870138152b9cc430cf8571"><div class="ttname"><a href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a></div><div class="ttdeci">#define atomic_init(OBJECT, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic-clang.h:28</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6ce8ceb8e30822d8ee1b977964b44cca"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a></div><div class="ttdeci">static atomic_bool enable_ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:339</div></div>
<div class="ttc" id="structhandler_html"><div class="ttname"><a href="structhandler.html">handler</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:57</div></div>
<div class="ttc" id="structudpif_html_ac0517f8cba43054ab61c100db6f081b4"><div class="ttname"><a href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">udpif::pause_barrier</a></div><div class="ttdeci">struct ovs_barrier pause_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:130</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="structudpif_html_a46d59c658ee8a440fb0fbac5e72091cd"><div class="ttname"><a href="structudpif.html#a46d59c658ee8a440fb0fbac5e72091cd">udpif::reval_exit</a></div><div class="ttdeci">bool reval_exit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:112</div></div>
<div class="ttc" id="structudpif_html_a1732efc31389f97cc04957f3b392dc55"><div class="ttname"><a href="structudpif.html#a1732efc31389f97cc04957f3b392dc55">udpif::enable_ufid</a></div><div class="ttdeci">atomic_bool enable_ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:117</div></div>
<div class="ttc" id="ovs-thread_8c_html_a161fbbf4cb0c3c95a44083787822a648"><div class="ttname"><a href="ovs-thread_8c.html#a161fbbf4cb0c3c95a44083787822a648">ovs_thread_create</a></div><div class="ttdeci">pthread_t ovs_thread_create(const char *name, void *(*start)(void *), void *arg)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:346</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a714676477029eb7fe9aa93930fef64dd"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a714676477029eb7fe9aa93930fef64dd">udpif_revalidator</a></div><div class="ttdeci">static void * udpif_revalidator(void *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:794</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a1c6739cdb8286f25fcc43e18b7750e53"><div class="ttname"><a href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div></div>
<div class="ttc" id="structudpif_html_a335f6b2f932223caff4f22ae8cff601c"><div class="ttname"><a href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">udpif::n_handlers</a></div><div class="ttdeci">size_t n_handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:103</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae605fd7c6a217759ee4cd6aa31b23daf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae605fd7c6a217759ee4cd6aa31b23daf">udpif_upcall_handler</a></div><div class="ttdeci">static void * udpif_upcall_handler(void *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:684</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="util_8c_html_ad7ead2fc5daad78a7f124e173863b16e"><div class="ttname"><a href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a></div><div class="ttdeci">void * xzalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:104</div></div>
<div class="ttc" id="ofproto-dpif_8c_html_acdf48e6d46505d21f6e32df29f251978"><div class="ttname"><a href="ofproto-dpif_8c.html#acdf48e6d46505d21f6e32df29f251978">ofproto_dpif_get_enable_ufid</a></div><div class="ttdeci">bool ofproto_dpif_get_enable_ufid(const struct dpif_backer *backer)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:363</div></div>
<div class="ttc" id="structudpif_html_ae5f44a27d3ae2b40640da8e641c83784"><div class="ttname"><a href="structudpif.html#ae5f44a27d3ae2b40640da8e641c83784">udpif::pause</a></div><div class="ttdeci">bool pause</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:128</div></div>
<div class="ttc" id="structrevalidator_html"><div class="ttname"><a href="structrevalidator.html">revalidator</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:74</div></div>
<div class="ttc" id="structhandler_html_af72bb0b11bcabf3b764e9c4d561b03da"><div class="ttname"><a href="structhandler.html#af72bb0b11bcabf3b764e9c4d561b03da">handler::handler_id</a></div><div class="ttdeci">uint32_t handler_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:60</div></div>
<div class="ttc" id="structhandler_html_a24c38ecdb7e3bd556792589661470683"><div class="ttname"><a href="structhandler.html#a24c38ecdb7e3bd556792589661470683">handler::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:58</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structudpif_html_ab4ef1894452cb0b302d091d31c2d8c39"><div class="ttname"><a href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">udpif::reval_barrier</a></div><div class="ttdeci">struct ovs_barrier reval_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:113</div></div>
<div class="ttc" id="structrevalidator_html_a1057e27ea6ae7cce6783455aae73c214"><div class="ttname"><a href="structrevalidator.html#a1057e27ea6ae7cce6783455aae73c214">revalidator::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:76</div></div>
<div class="ttc" id="structhandler_html_a0e0e4bb199ee8335023f89f225062af7"><div class="ttname"><a href="structhandler.html#a0e0e4bb199ee8335023f89f225062af7">handler::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:59</div></div>
<div class="ttc" id="structrevalidator_html_a9087e310653614a51b37816e2207a71e"><div class="ttname"><a href="structrevalidator.html#a9087e310653614a51b37816e2207a71e">revalidator::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:75</div></div>
<div class="ttc" id="ovs-thread_8c_html_aa66919bdb42afc981f538fa3979cf6eb"><div class="ttname"><a href="ovs-thread_8c.html#aa66919bdb42afc981f538fa3979cf6eb">ovs_barrier_init</a></div><div class="ttdeci">void ovs_barrier_init(struct ovs_barrier *barrier, uint32_t size)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:268</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a2c354a91ad67ea0e850a84ed4fe8795d"><div class="ttname"><a href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a></div><div class="ttdeci">size_t n_handlers</div></div>
<div class="ttc" id="dpif_8c_html_aa4522153131b9f1afa3f1ad2357bd8bd"><div class="ttname"><a href="dpif_8c.html#aa4522153131b9f1afa3f1ad2357bd8bd">dpif_enable_upcall</a></div><div class="ttdeci">void dpif_enable_upcall(struct dpif *dpif)</div><div class="ttdef"><b>Definition:</b> dpif.c:1365</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51e09eb986da2c0342131a0801537aa8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void udpif_stop_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (udpif &amp;&amp; (udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a> != 0 || udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a> != 0)) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="latch-unix_8c.html#a00ba26c8ba793271fb6764aead922117">latch_set</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a>; i++) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keyword">struct </span><a class="code" href="structhandler.html">handler</a> *<a class="code" href="structhandler.html">handler</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a>[i];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <a class="code" href="ovs-thread_8h.html#ad6fdcbe774a601f28e74610cab993d24">xpthread_join</a>(handler-&gt;<a class="code" href="structhandler.html#a0e0e4bb199ee8335023f89f225062af7">thread</a>, NULL);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>; i++) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="ovs-thread_8h.html#ad6fdcbe774a601f28e74610cab993d24">xpthread_join</a>(udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>[i].<a class="code" href="structrevalidator.html#a1057e27ea6ae7cce6783455aae73c214">thread</a>, NULL);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="dpif_8c.html#a83b91fe98e8669578dff4594abbf1763">dpif_disable_upcall</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>; i++) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keyword">struct </span><a class="code" href="structrevalidator.html">revalidator</a> *<a class="code" href="structrevalidator.html">revalidator</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>[i];</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="comment">/* Delete ukeys, and delete all flows from the datapath to prevent</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">             * double-counting stats. */</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#ab0a3df173f9cffeb341ec6002e23616a">revalidator_purge</a>(revalidator);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="latch-unix_8c.html#a9f3bce90760bdc948603f8caf4603496">latch_poll</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="ovs-thread_8c.html#a8a7b002a8008bdfc715244748faa3611">ovs_barrier_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">reval_barrier</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="ovs-thread_8c.html#a8a7b002a8008bdfc715244748faa3611">ovs_barrier_destroy</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">pause_barrier</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        free(udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a> = NULL;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a> = 0;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        free(udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">handlers</a> = NULL;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a> = 0;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a67334fc4a107d3bd50f872e48c643c61"><div class="ttname"><a href="structudpif.html#a67334fc4a107d3bd50f872e48c643c61">udpif::handlers</a></div><div class="ttdeci">struct handler * handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:102</div></div>
<div class="ttc" id="structhandler_html"><div class="ttname"><a href="structhandler.html">handler</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:57</div></div>
<div class="ttc" id="ovs-thread_8h_html_ad6fdcbe774a601f28e74610cab993d24"><div class="ttname"><a href="ovs-thread_8h.html#ad6fdcbe774a601f28e74610cab993d24">xpthread_join</a></div><div class="ttdeci">void xpthread_join(pthread_t, void **)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab0a3df173f9cffeb341ec6002e23616a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab0a3df173f9cffeb341ec6002e23616a">revalidator_purge</a></div><div class="ttdeci">static void revalidator_purge(struct revalidator *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2259</div></div>
<div class="ttc" id="structudpif_html_ac0517f8cba43054ab61c100db6f081b4"><div class="ttname"><a href="structudpif.html#ac0517f8cba43054ab61c100db6f081b4">udpif::pause_barrier</a></div><div class="ttdeci">struct ovs_barrier pause_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:130</div></div>
<div class="ttc" id="structudpif_html_a4a6b0b6345fd24992ef88dda700c4c44"><div class="ttname"><a href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">udpif::exit_latch</a></div><div class="ttdeci">struct latch exit_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:108</div></div>
<div class="ttc" id="structudpif_html_a335f6b2f932223caff4f22ae8cff601c"><div class="ttname"><a href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">udpif::n_handlers</a></div><div class="ttdeci">size_t n_handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:103</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="structrevalidator_html"><div class="ttname"><a href="structrevalidator.html">revalidator</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:74</div></div>
<div class="ttc" id="dpif_8c_html_a83b91fe98e8669578dff4594abbf1763"><div class="ttname"><a href="dpif_8c.html#a83b91fe98e8669578dff4594abbf1763">dpif_disable_upcall</a></div><div class="ttdeci">void dpif_disable_upcall(struct dpif *dpif)</div><div class="ttdef"><b>Definition:</b> dpif.c:1373</div></div>
<div class="ttc" id="ovs-thread_8c_html_a8a7b002a8008bdfc715244748faa3611"><div class="ttname"><a href="ovs-thread_8c.html#a8a7b002a8008bdfc715244748faa3611">ovs_barrier_destroy</a></div><div class="ttdeci">void ovs_barrier_destroy(struct ovs_barrier *barrier)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:277</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structudpif_html_ab4ef1894452cb0b302d091d31c2d8c39"><div class="ttname"><a href="structudpif.html#ab4ef1894452cb0b302d091d31c2d8c39">udpif::reval_barrier</a></div><div class="ttdeci">struct ovs_barrier reval_barrier</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:113</div></div>
<div class="ttc" id="structrevalidator_html_a1057e27ea6ae7cce6783455aae73c214"><div class="ttname"><a href="structrevalidator.html#a1057e27ea6ae7cce6783455aae73c214">revalidator::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:76</div></div>
<div class="ttc" id="structhandler_html_a0e0e4bb199ee8335023f89f225062af7"><div class="ttname"><a href="structhandler.html#a0e0e4bb199ee8335023f89f225062af7">handler::thread</a></div><div class="ttdeci">pthread_t thread</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:59</div></div>
<div class="ttc" id="latch-unix_8c_html_a00ba26c8ba793271fb6764aead922117"><div class="ttname"><a href="latch-unix_8c.html#a00ba26c8ba793271fb6764aead922117">latch_set</a></div><div class="ttdeci">void latch_set(struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:56</div></div>
<div class="ttc" id="latch-unix_8c_html_a9f3bce90760bdc948603f8caf4603496"><div class="ttname"><a href="latch-unix_8c.html#a9f3bce90760bdc948603f8caf4603496">latch_poll</a></div><div class="ttdeci">bool latch_poll(struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae73b65d0cd7ca81bbd88a313f4c39dbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void udpif_synchronize </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">/* This is stronger than necessary.  It would be sufficient to ensure</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">     * (somehow) that each handler and revalidator thread had passed through</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">     * its main loop once. */</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a> = udpif-&gt;<a class="code" href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">n_handlers</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a> = udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a>();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a>(udpif);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a>(udpif, n_handlers, n_revalidators);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a>();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a51e09eb986da2c0342131a0801537aa8"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a51e09eb986da2c0342131a0801537aa8">udpif_stop_threads</a></div><div class="ttdeci">static void udpif_stop_threads(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:434</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a4868431442c9de1191bc247e1f6fe551"><div class="ttname"><a href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a></div><div class="ttdeci">void ovsrcu_quiesce_start(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:120</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab5b7d948c5fb2996817e1ffb787a8721"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab5b7d948c5fb2996817e1ffb787a8721">udpif_start_threads</a></div><div class="ttdeci">static void udpif_start_threads(struct udpif *, size_t n_handlers, size_t n_revalidators)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:479</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a1c6739cdb8286f25fcc43e18b7750e53"><div class="ttname"><a href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div></div>
<div class="ttc" id="structudpif_html_a335f6b2f932223caff4f22ae8cff601c"><div class="ttname"><a href="structudpif.html#a335f6b2f932223caff4f22ae8cff601c">udpif::n_handlers</a></div><div class="ttdeci">size_t n_handlers</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:103</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a854fdaf22698bdbfd2907256a51279a3"><div class="ttname"><a href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a></div><div class="ttdeci">void ovsrcu_quiesce_end(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:98</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a2c354a91ad67ea0e850a84ed4fe8795d"><div class="ttname"><a href="ofproto-provider_8h.html#a2c354a91ad67ea0e850a84ed4fe8795d">n_handlers</a></div><div class="ttdeci">size_t n_handlers</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae605fd7c6a217759ee4cd6aa31b23daf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * udpif_upcall_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keyword">struct </span><a class="code" href="structhandler.html">handler</a> *<a class="code" href="structhandler.html">handler</a> = arg;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = handler-&gt;<a class="code" href="structhandler.html#a24c38ecdb7e3bd556792589661470683">udpif</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">while</span> (!<a class="code" href="latch-unix_8c.html#a914dba127e099929e88ba3795728c441">latch_is_set</a>(&amp;handler-&gt;<a class="code" href="structhandler.html#a24c38ecdb7e3bd556792589661470683">udpif</a>-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>)) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ofproto-dpif-upcall_8c.html#a3914ac3789024eefed86caac43f6ebc0">recv_upcalls</a>(handler)) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <a class="code" href="poll-loop_8h.html#a1f16c41cccc94511467b07fb8ea2fc33">poll_immediate_wake</a>();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <a class="code" href="dpif_8c.html#ac8c922ddd220e045c2d542158e93df5e">dpif_recv_wait</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, handler-&gt;<a class="code" href="structhandler.html#af72bb0b11bcabf3b764e9c4d561b03da">handler_id</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <a class="code" href="latch_8h.html#aed96a0ddbf49769962080f0dd9974dba">latch_wait</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">exit_latch</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a>();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="ttc" id="structhandler_html"><div class="ttname"><a href="structhandler.html">handler</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:57</div></div>
<div class="ttc" id="poll-loop_8c_html_a2645ec3e8c76cc443a500ae722901b50"><div class="ttname"><a href="poll-loop_8c.html#a2645ec3e8c76cc443a500ae722901b50">poll_block</a></div><div class="ttdeci">void poll_block(void)</div><div class="ttdef"><b>Definition:</b> poll-loop.c:313</div></div>
<div class="ttc" id="structudpif_html_a4a6b0b6345fd24992ef88dda700c4c44"><div class="ttname"><a href="structudpif.html#a4a6b0b6345fd24992ef88dda700c4c44">udpif::exit_latch</a></div><div class="ttdeci">struct latch exit_latch</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:108</div></div>
<div class="ttc" id="structhandler_html_af72bb0b11bcabf3b764e9c4d561b03da"><div class="ttname"><a href="structhandler.html#af72bb0b11bcabf3b764e9c4d561b03da">handler::handler_id</a></div><div class="ttdeci">uint32_t handler_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:60</div></div>
<div class="ttc" id="latch_8h_html_aed96a0ddbf49769962080f0dd9974dba"><div class="ttname"><a href="latch_8h.html#aed96a0ddbf49769962080f0dd9974dba">latch_wait</a></div><div class="ttdeci">#define latch_wait(latch)</div><div class="ttdef"><b>Definition:</b> latch.h:45</div></div>
<div class="ttc" id="structhandler_html_a24c38ecdb7e3bd556792589661470683"><div class="ttname"><a href="structhandler.html#a24c38ecdb7e3bd556792589661470683">handler::udpif</a></div><div class="ttdeci">struct udpif * udpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:58</div></div>
<div class="ttc" id="latch-unix_8c_html_a914dba127e099929e88ba3795728c441"><div class="ttname"><a href="latch-unix_8c.html#a914dba127e099929e88ba3795728c441">latch_is_set</a></div><div class="ttdeci">bool latch_is_set(const struct latch *latch)</div><div class="ttdef"><b>Definition:</b> latch-unix.c:64</div></div>
<div class="ttc" id="dpif_8c_html_ac8c922ddd220e045c2d542158e93df5e"><div class="ttname"><a href="dpif_8c.html#ac8c922ddd220e045c2d542158e93df5e">dpif_recv_wait</a></div><div class="ttdeci">void dpif_recv_wait(struct dpif *dpif, uint32_t handler_id)</div><div class="ttdef"><b>Definition:</b> dpif.c:1471</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="poll-loop_8h_html_a1f16c41cccc94511467b07fb8ea2fc33"><div class="ttname"><a href="poll-loop_8h.html#a1f16c41cccc94511467b07fb8ea2fc33">poll_immediate_wake</a></div><div class="ttdeci">#define poll_immediate_wake()</div><div class="ttdef"><b>Definition:</b> poll-loop.h:68</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a3914ac3789024eefed86caac43f6ebc0"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a3914ac3789024eefed86caac43f6ebc0">recv_upcalls</a></div><div class="ttdeci">static size_t recv_upcalls(struct handler *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:703</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae58404e5162804b6a562800c477cd990"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> udpif_use_ufid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">bool</span> enable;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a>, &amp;enable);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="keywordflow">return</span> enable &amp;&amp; <a class="code" href="ofproto-dpif_8c.html#acdf48e6d46505d21f6e32df29f251978">ofproto_dpif_get_enable_ufid</a>(udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6ce8ceb8e30822d8ee1b977964b44cca"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a></div><div class="ttdeci">static atomic_bool enable_ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:339</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="ofproto-dpif_8c_html_acdf48e6d46505d21f6e32df29f251978"><div class="ttname"><a href="ofproto-dpif_8c.html#acdf48e6d46505d21f6e32df29f251978">ofproto_dpif_get_enable_ufid</a></div><div class="ttdeci">bool ofproto_dpif_get_enable_ufid(const struct dpif_backer *backer)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:363</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77d416780bbff335b0e0cc5ddde92602"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ukey_acquire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;{</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordtype">int</span> retval;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    ukey = <a class="code" href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a>(udpif, &amp;flow-&gt;<a class="code" href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">ufid</a>);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">if</span> (ukey) {</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        retval = <a class="code" href="thread_8h.html#a61950e1f6098f788e52b9fa86b2b69a8">ovs_mutex_trylock</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="comment">/* Usually we try to avoid installing flows from revalidator threads,</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">         * because locking on a umap may cause handler threads to block.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">         * However there are certain cases, like when ovs-vswitchd is</span></div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment">         * restarted, where it is desirable to handle flows that exist in the</span></div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment">         * datapath gracefully (ie, don&#39;t just clear the datapath). */</span></div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordtype">bool</span> install;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        retval = <a class="code" href="ofproto-dpif-upcall_8c.html#a7eb6d78a5fc22b5fab4b69b9fa5b1a8d">ukey_create_from_dpif_flow</a>(udpif, flow, &amp;ukey);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">if</span> (retval) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;            <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        install = <a class="code" href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a>(udpif, ukey);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <span class="keywordflow">if</span> (install) {</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#a26dd90ae8c17be2e89ac4fe2baea9173">ukey_install_finish__</a>(ukey);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            retval = 0;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a>(ukey);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            retval = EBUSY;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;done:</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    *<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a> = retval;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span> (retval) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        *result = NULL;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        *result = ukey;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa56ea9de515c982b2bfd9ba9fbcd86bc"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a></div><div class="ttdeci">static struct udpif_key * ukey_lookup(struct udpif *udpif, const ovs_u128 *ufid)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1396</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7eb6d78a5fc22b5fab4b69b9fa5b1a8d"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7eb6d78a5fc22b5fab4b69b9fa5b1a8d">ukey_create_from_dpif_flow</a></div><div class="ttdeci">static int ukey_create_from_dpif_flow(const struct udpif *, const struct dpif_flow *, struct udpif_key **)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1518</div></div>
<div class="ttc" id="thread_8h_html_a61950e1f6098f788e52b9fa86b2b69a8"><div class="ttname"><a href="thread_8h.html#a61950e1f6098f788e52b9fa86b2b69a8">ovs_mutex_trylock</a></div><div class="ttdeci">#define ovs_mutex_trylock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:64</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a656fa5f1daf3f8a4fb6c17e147503b04"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a></div><div class="ttdeci">static bool ukey_install_start(struct udpif *, struct udpif_key *ukey)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa81a6f662506ffa9a27374a3fd37f12e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a></div><div class="ttdeci">static void ukey_delete__(struct udpif_key *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1698</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structdpif__flow_html_ae67b8908458328a8876dff35b72c12e8"><div class="ttname"><a href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">dpif_flow::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:584</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a26dd90ae8c17be2e89ac4fe2baea9173"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a26dd90ae8c17be2e89ac4fe2baea9173">ukey_install_finish__</a></div><div class="ttdeci">static void ukey_install_finish__(struct udpif_key *ukey) OVS_REQUIRES(ukey-&gt; mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1611</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74fe5663db2d1cdde69c6102eab10f30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structudpif__key.html">udpif_key</a>* ukey_create__ </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structnlattr.html">nlattr</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>key_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnlattr.html">nlattr</a> *&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>mask_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td>
          <td class="paramname"><em>ufid_present</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionovs__u128.html">ovs_u128</a> *&#160;</td>
          <td class="paramname"><em>ufid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>pmd_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td>
          <td class="paramname"><em>dump_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td>
          <td class="paramname"><em>reval_seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>used</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrecirc__id__node.html">recirc_id_node</a> *&#160;</td>
          <td class="paramname"><em>key_recirc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxlate__out.html">xlate_out</a> *&#160;</td>
          <td class="paramname"><em>xout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;{</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structudpif__key.html#a77597994f1e486545e713d65de798c90">n_recircs</a> = (key_recirc ? 1 : 0) + (xout ? xout-&gt;<a class="code" href="structxlate__out.html#af2cdd531da8272f1c8a3e243476fc71b">n_recircs</a> : 0);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey = <a class="code" href="util_8c.html#a42ccfa6fc49cc4ce90cc44cd05052490">xmalloc</a>(<span class="keyword">sizeof</span> *ukey +</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                                     n_recircs * <span class="keyword">sizeof</span> *ukey-&gt;<a class="code" href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">recircs</a>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    memcpy(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a0758313b8b319b3a3ee307c1c5760ca0">keybuf</a>, key, <a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">key</a> = &amp;ukey-&gt;<a class="code" href="structudpif__key.html#a0758313b8b319b3a3ee307c1c5760ca0">keybuf</a>.nla;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a> = <a class="code" href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">key_len</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    memcpy(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#ac6c43fda9cf4af80eb53db372b1b3cf5">maskbuf</a>, mask, <a class="code" href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">mask_len</a>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">mask</a> = &amp;ukey-&gt;<a class="code" href="structudpif__key.html#ac6c43fda9cf4af80eb53db372b1b3cf5">maskbuf</a>.nla;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">mask_len</a> = <a class="code" href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">mask_len</a>;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#a3fc884fbc10ad75ef11ecdd885a5388d">ufid_present</a> = <a class="code" href="structudpif__key.html#a3fc884fbc10ad75ef11ecdd885a5388d">ufid_present</a>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a> = *<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">pmd_id</a> = <a class="code" href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">pmd_id</a>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#ac029beebf1b356ba4de54e54dc975969">hash</a> = <a class="code" href="ofproto-dpif-upcall_8c.html#abf61d3aedf7fd5a5c82c0e77a579249e">get_ufid_hash</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a>);</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="ovs-rcu_8h.html#a2e9080c4d0d3a14a830d81d03f734ce1">ovsrcu_init</a>(&amp;ukey-&gt;actions, NULL);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a>(ukey, actions);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <a class="code" href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    ukey-&gt;dump_seq = dump_seq;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    ukey-&gt;reval_seq = reval_seq;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    ukey-&gt;flow_exists = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    ukey-&gt;created = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    memset(&amp;ukey-&gt;stats, 0, <span class="keyword">sizeof</span> ukey-&gt;stats);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    ukey-&gt;stats.used = used;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    ukey-&gt;xcache = NULL;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    ukey-&gt;<a class="code" href="structudpif__key.html#a77597994f1e486545e713d65de798c90">n_recircs</a> = <a class="code" href="structudpif__key.html#a77597994f1e486545e713d65de798c90">n_recircs</a>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> (key_recirc) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        ukey-&gt;<a class="code" href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">recircs</a>[0] = key_recirc-&gt;<a class="code" href="structrecirc__id__node.html#a527379615e31d1508b10512f1b6d76fb">id</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">if</span> (xout &amp;&amp; xout-&gt;<a class="code" href="structxlate__out.html#af2cdd531da8272f1c8a3e243476fc71b">n_recircs</a>) {</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;        <span class="keyword">const</span> <a class="code" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *act_recircs = <a class="code" href="ofproto-dpif-xlate_8h.html#a8609fc4ac2e7bd006cfa2640c7d22027">xlate_out_get_recircs</a>(xout);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        memcpy(ukey-&gt;<a class="code" href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">recircs</a> + (key_recirc ? 1 : 0), act_recircs,</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;               xout-&gt;<a class="code" href="structxlate__out.html#af2cdd531da8272f1c8a3e243476fc71b">n_recircs</a> * <span class="keyword">sizeof</span> *ukey-&gt;<a class="code" href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">recircs</a>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <a class="code" href="ofproto-dpif-xlate_8h.html#a30fb93d23055b89930d83fe9a60c9072">xlate_out_take_recircs</a>(xout);</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    }</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">return</span> ukey;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div>
<div class="ttc" id="ovs-rcu_8h_html_a2e9080c4d0d3a14a830d81d03f734ce1"><div class="ttname"><a href="ovs-rcu_8h.html#a2e9080c4d0d3a14a830d81d03f734ce1">ovsrcu_init</a></div><div class="ttdeci">#define ovsrcu_init(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:204</div></div>
<div class="ttc" id="structudpif__key_html_a44b4a366644a7bc3a1e79cc3f5916278"><div class="ttname"><a href="structudpif__key.html#a44b4a366644a7bc3a1e79cc3f5916278">udpif_key::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:241</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8h_html_a8609fc4ac2e7bd006cfa2640c7d22027"><div class="ttname"><a href="ofproto-dpif-xlate_8h.html#a8609fc4ac2e7bd006cfa2640c7d22027">xlate_out_get_recircs</a></div><div class="ttdeci">static const uint32_t * xlate_out_get_recircs(const struct xlate_out *xout)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:73</div></div>
<div class="ttc" id="structxlate__out_html_af2cdd531da8272f1c8a3e243476fc71b"><div class="ttname"><a href="structxlate__out.html#af2cdd531da8272f1c8a3e243476fc71b">xlate_out::n_recircs</a></div><div class="ttdeci">unsigned n_recircs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:45</div></div>
<div class="ttc" id="structudpif__key_html_a87e017704faa0f757c6c8e347aed9bb5"><div class="ttname"><a href="structudpif__key.html#a87e017704faa0f757c6c8e347aed9bb5">udpif_key::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:236</div></div>
<div class="ttc" id="structudpif__key_html_a3fc884fbc10ad75ef11ecdd885a5388d"><div class="ttname"><a href="structudpif__key.html#a3fc884fbc10ad75ef11ecdd885a5388d">udpif_key::ufid_present</a></div><div class="ttdeci">bool ufid_present</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:239</div></div>
<div class="ttc" id="structudpif__key_html_a0758313b8b319b3a3ee307c1c5760ca0"><div class="ttname"><a href="structudpif__key.html#a0758313b8b319b3a3ee307c1c5760ca0">udpif_key::keybuf</a></div><div class="ttdeci">keybuf</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:260</div></div>
<div class="ttc" id="structudpif__key_html_ad5c00e97dc6c9f30474a9c412ce055ef"><div class="ttname"><a href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">udpif_key::recircs</a></div><div class="ttdeci">uint32_t recircs[]</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:264</div></div>
<div class="ttc" id="structudpif__key_html_af05d45a18078e037f6778a370ee1a344"><div class="ttname"><a href="structudpif__key.html#af05d45a18078e037f6778a370ee1a344">udpif_key::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:234</div></div>
<div class="ttc" id="util_8c_html_a42ccfa6fc49cc4ce90cc44cd05052490"><div class="ttname"><a href="util_8c.html#a42ccfa6fc49cc4ce90cc44cd05052490">xmalloc</a></div><div class="ttdeci">void * xmalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:110</div></div>
<div class="ttc" id="structudpif__key_html_a77597994f1e486545e713d65de798c90"><div class="ttname"><a href="structudpif__key.html#a77597994f1e486545e713d65de798c90">udpif_key::n_recircs</a></div><div class="ttdeci">unsigned n_recircs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:263</div></div>
<div class="ttc" id="thread_8h_html_aba7f4ad0b5b050ee701ff3b8ceb5ccb5"><div class="ttname"><a href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a></div><div class="ttdeci">void ovs_mutex_init(const struct ovs_mutex *)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:206</div></div>
<div class="ttc" id="structudpif__key_html_aac110f658c03533e0a7aeb53a3231ddd"><div class="ttname"><a href="structudpif__key.html#aac110f658c03533e0a7aeb53a3231ddd">udpif_key::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:237</div></div>
<div class="ttc" id="structudpif__key_html_a4201d57fc349acff34249c8f86ea464a"><div class="ttname"><a href="structudpif__key.html#a4201d57fc349acff34249c8f86ea464a">udpif_key::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:235</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="structrecirc__id__node_html_a527379615e31d1508b10512f1b6d76fb"><div class="ttname"><a href="structrecirc__id__node.html#a527379615e31d1508b10512f1b6d76fb">recirc_id_node::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-rid.h:160</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_abf61d3aedf7fd5a5c82c0e77a579249e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#abf61d3aedf7fd5a5c82c0e77a579249e">get_ufid_hash</a></div><div class="ttdeci">static uint32_t get_ufid_hash(const ovs_u128 *ufid)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1390</div></div>
<div class="ttc" id="structudpif__key_html_ac029beebf1b356ba4de54e54dc975969"><div class="ttname"><a href="structudpif__key.html#ac029beebf1b356ba4de54e54dc975969">udpif_key::hash</a></div><div class="ttdeci">uint32_t hash</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:240</div></div>
<div class="ttc" id="structudpif__key_html_ac6c43fda9cf4af80eb53db372b1b3cf5"><div class="ttname"><a href="structudpif__key.html#ac6c43fda9cf4af80eb53db372b1b3cf5">udpif_key::maskbuf</a></div><div class="ttdeci">maskbuf</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:260</div></div>
<div class="ttc" id="Types_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="structudpif__key_html_af5c13cc3a588f1bd45dd79900e30bdcd"><div class="ttname"><a href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">udpif_key::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:238</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a39b78021109c711538d601ef8e95de55"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a39b78021109c711538d601ef8e95de55">ukey_set_actions</a></div><div class="ttdeci">static void ukey_set_actions(struct udpif_key *ukey, const struct ofpbuf *actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1421</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8h_html_a30fb93d23055b89930d83fe9a60c9072"><div class="ttname"><a href="ofproto-dpif-xlate_8h.html#a30fb93d23055b89930d83fe9a60c9072">xlate_out_take_recircs</a></div><div class="ttdeci">static void xlate_out_take_recircs(struct xlate_out *xout)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:83</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eb6d78a5fc22b5fab4b69b9fa5b1a8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ukey_create_from_dpif_flow </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdpif__flow.html">dpif_flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> **&#160;</td>
          <td class="paramname"><em>ukey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;{</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__flow.html">dpif_flow</a> full_flow;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> actions;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> dump_seq, reval_seq;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> stub[<a class="code" href="dpif_8h.html#ad42eb90999e69319497a0c9af89cdefc">DPIF_FLOW_BUFSIZE</a> / 8];</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structnlattr.html">nlattr</a> *<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> left;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">if</span> (!flow-&gt;<a class="code" href="structdpif__flow.html#a17e5ff0b347382f28235288deba70ef6">key_len</a> || !flow-&gt;<a class="code" href="structdpif__flow.html#a6d7320957dc3327b043aac76947ae0dd">actions_len</a>) {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> buf;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        <span class="comment">/* If the key or actions were not provided by the datapath, fetch the</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment">         * full flow. */</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <a class="code" href="ofpbuf_8c.html#a84f6837a8a60ade73cc9b91330bbd551">ofpbuf_use_stack</a>(&amp;buf, &amp;stub, <span class="keyword">sizeof</span> stub);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        err = <a class="code" href="dpif_8c.html#abdb6a436b294ed3e288acc5f1b089f67">dpif_flow_get</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>, NULL, 0, &amp;flow-&gt;<a class="code" href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">ufid</a>,</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                            flow-&gt;<a class="code" href="structdpif__flow.html#aaa4adf24b05be72bff2ffaf2df681329">pmd_id</a>, &amp;buf, &amp;full_flow);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <span class="keywordflow">if</span> (err) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        flow = &amp;full_flow;</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="comment">/* Check the flow actions for recirculation action.  As recirculation</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">     * relies on OVS userspace internal state, we need to delete all old</span></div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment">     * datapath flows with recirculation upon OVS restart. */</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="Netlink_8h.html#a3de57addcaf61f7b6f6f2bc93eda0d83">NL_ATTR_FOR_EACH_UNSAFE</a> (a, left, flow-&gt;<a class="code" href="structdpif__flow.html#a8829aff31f932dbbe121ddfd1192d0ba">actions</a>, flow-&gt;<a class="code" href="structdpif__flow.html#a6d7320957dc3327b043aac76947ae0dd">actions_len</a>) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2netlink_8h.html#a3344e63a1c23132a3ea1d82a7fee7e59">nl_attr_type</a>(a) == <a class="code" href="openvswitch_8h.html#affc4a4d29437ad03a23444243e2db26ea2cad0b08a7809d6e7cb1a9e86d73a47c">OVS_ACTION_ATTR_RECIRC</a>) {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="keywordflow">return</span> EINVAL;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    }</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    dump_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    reval_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="ofpbuf_8c.html#a5f7fcd8e899f80b2aa6def36faf63c36">ofpbuf_use_const</a>(&amp;actions, &amp;flow-&gt;<a class="code" href="structdpif__flow.html#a8829aff31f932dbbe121ddfd1192d0ba">actions</a>, flow-&gt;<a class="code" href="structdpif__flow.html#a6d7320957dc3327b043aac76947ae0dd">actions_len</a>);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    *ukey = <a class="code" href="ofproto-dpif-upcall_8c.html#a74fe5663db2d1cdde69c6102eab10f30">ukey_create__</a>(flow-&gt;<a class="code" href="structdpif__flow.html#ae8ae7f8a7ef9e76d95e7245f323b290d">key</a>, flow-&gt;<a class="code" href="structdpif__flow.html#a17e5ff0b347382f28235288deba70ef6">key_len</a>,</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                          flow-&gt;<a class="code" href="structdpif__flow.html#a9795a72dcf97bdfbeed632b0fa018642">mask</a>, flow-&gt;<a class="code" href="structdpif__flow.html#a7c31f3879acaa3638e74fdffe8a2b6f3">mask_len</a>, flow-&gt;<a class="code" href="structdpif__flow.html#a62ef512689c6301f74eeb0b2f7b75f4c">ufid_present</a>,</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                          &amp;flow-&gt;<a class="code" href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">ufid</a>, flow-&gt;<a class="code" href="structdpif__flow.html#aaa4adf24b05be72bff2ffaf2df681329">pmd_id</a>, &amp;actions, dump_seq,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                          reval_seq, flow-&gt;<a class="code" href="structdpif__flow.html#a446df840cbd19483d6a86d3f9f327708">stats</a>.<a class="code" href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">used</a>, NULL, NULL);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;}</div>
<div class="ttc" id="lib_2netlink_8h_html_a3344e63a1c23132a3ea1d82a7fee7e59"><div class="ttname"><a href="lib_2netlink_8h.html#a3344e63a1c23132a3ea1d82a7fee7e59">nl_attr_type</a></div><div class="ttdeci">nl_attr_type</div><div class="ttdef"><b>Definition:</b> netlink.h:118</div></div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="ofpbuf_8c_html_a5f7fcd8e899f80b2aa6def36faf63c36"><div class="ttname"><a href="ofpbuf_8c.html#a5f7fcd8e899f80b2aa6def36faf63c36">ofpbuf_use_const</a></div><div class="ttdeci">void ofpbuf_use_const(struct ofpbuf *b, const void *data, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:114</div></div>
<div class="ttc" id="structdpif__flow_html_a7c31f3879acaa3638e74fdffe8a2b6f3"><div class="ttname"><a href="structdpif__flow.html#a7c31f3879acaa3638e74fdffe8a2b6f3">dpif_flow::mask_len</a></div><div class="ttdeci">size_t mask_len</div><div class="ttdef"><b>Definition:</b> dpif.h:581</div></div>
<div class="ttc" id="structdpif__flow_html_a17e5ff0b347382f28235288deba70ef6"><div class="ttname"><a href="structdpif__flow.html#a17e5ff0b347382f28235288deba70ef6">dpif_flow::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> dpif.h:579</div></div>
<div class="ttc" id="structdpif__flow_html_a8829aff31f932dbbe121ddfd1192d0ba"><div class="ttname"><a href="structdpif__flow.html#a8829aff31f932dbbe121ddfd1192d0ba">dpif_flow::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> dpif.h:582</div></div>
<div class="ttc" id="structdpif__flow_html_aaa4adf24b05be72bff2ffaf2df681329"><div class="ttname"><a href="structdpif__flow.html#aaa4adf24b05be72bff2ffaf2df681329">dpif_flow::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> dpif.h:586</div></div>
<div class="ttc" id="ofpbuf_8c_html_a84f6837a8a60ade73cc9b91330bbd551"><div class="ttname"><a href="ofpbuf_8c.html#a84f6837a8a60ade73cc9b91330bbd551">ofpbuf_use_stack</a></div><div class="ttdeci">void ofpbuf_use_stack(struct ofpbuf *b, void *base, size_t allocated)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:81</div></div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="structdpif__flow_html"><div class="ttname"><a href="structdpif__flow.html">dpif_flow</a></div><div class="ttdef"><b>Definition:</b> dpif.h:577</div></div>
<div class="ttc" id="structdpif__flow_html_ae8ae7f8a7ef9e76d95e7245f323b290d"><div class="ttname"><a href="structdpif__flow.html#ae8ae7f8a7ef9e76d95e7245f323b290d">dpif_flow::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> dpif.h:578</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="dpif_8c_html_abdb6a436b294ed3e288acc5f1b089f67"><div class="ttname"><a href="dpif_8c.html#abdb6a436b294ed3e288acc5f1b089f67">dpif_flow_get</a></div><div class="ttdeci">int dpif_flow_get(struct dpif *dpif, const struct nlattr *key, size_t key_len, const ovs_u128 *ufid, const unsigned pmd_id, struct ofpbuf *buf, struct dpif_flow *flow)</div><div class="ttdef"><b>Definition:</b> dpif.c:922</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a74fe5663db2d1cdde69c6102eab10f30"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a74fe5663db2d1cdde69c6102eab10f30">ukey_create__</a></div><div class="ttdeci">static struct udpif_key * ukey_create__(const struct nlattr *key, size_t key_len, const struct nlattr *mask, size_t mask_len, bool ufid_present, const ovs_u128 *ufid, const unsigned pmd_id, const struct ofpbuf *actions, uint64_t dump_seq, uint64_t reval_seq, long long int used, const struct recirc_id_node *key_recirc, struct xlate_out *xout) OVS_NO_THREAD_SAFETY_ANALYSIS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1429</div></div>
<div class="ttc" id="structdpif__flow_html_a62ef512689c6301f74eeb0b2f7b75f4c"><div class="ttname"><a href="structdpif__flow.html#a62ef512689c6301f74eeb0b2f7b75f4c">dpif_flow::ufid_present</a></div><div class="ttdeci">bool ufid_present</div><div class="ttdef"><b>Definition:</b> dpif.h:585</div></div>
<div class="ttc" id="structnlattr_html"><div class="ttname"><a href="structnlattr.html">nlattr</a></div><div class="ttdef"><b>Definition:</b> netlink-protocol.h:95</div></div>
<div class="ttc" id="structdpif__flow_html_ae67b8908458328a8876dff35b72c12e8"><div class="ttname"><a href="structdpif__flow.html#ae67b8908458328a8876dff35b72c12e8">dpif_flow::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> dpif.h:584</div></div>
<div class="ttc" id="test-rstp_8c_html_aeaf1410528b66f4fd6991826e49eabc2"><div class="ttname"><a href="test-rstp_8c.html#aeaf1410528b66f4fd6991826e49eabc2">err</a></div><div class="ttdeci">static OVS_NO_RETURN void err(const char *message,...) OVS_PRINTF_FORMAT(1</div><div class="ttdef"><b>Definition:</b> test-rstp.c:344</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structdpif__flow__stats_html_a06f9cd7ff557672ae46c9d0b7d0c888f"><div class="ttname"><a href="structdpif__flow__stats.html#a06f9cd7ff557672ae46c9d0b7d0c888f">dpif_flow_stats::used</a></div><div class="ttdeci">long long int used</div><div class="ttdef"><b>Definition:</b> dpif.h:504</div></div>
<div class="ttc" id="openvswitch_8h_html_affc4a4d29437ad03a23444243e2db26ea2cad0b08a7809d6e7cb1a9e86d73a47c"><div class="ttname"><a href="openvswitch_8h.html#affc4a4d29437ad03a23444243e2db26ea2cad0b08a7809d6e7cb1a9e86d73a47c">OVS_ACTION_ATTR_RECIRC</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:697</div></div>
<div class="ttc" id="structdpif__flow_html_a9795a72dcf97bdfbeed632b0fa018642"><div class="ttname"><a href="structdpif__flow.html#a9795a72dcf97bdfbeed632b0fa018642">dpif_flow::mask</a></div><div class="ttdeci">const struct nlattr * mask</div><div class="ttdef"><b>Definition:</b> dpif.h:580</div></div>
<div class="ttc" id="Netlink_8h_html_a3de57addcaf61f7b6f6f2bc93eda0d83"><div class="ttname"><a href="Netlink_8h.html#a3de57addcaf61f7b6f6f2bc93eda0d83">NL_ATTR_FOR_EACH_UNSAFE</a></div><div class="ttdeci">#define NL_ATTR_FOR_EACH_UNSAFE(ITER, LEFT, ATTRS, ATTRS_LEN)</div><div class="ttdef"><b>Definition:</b> Netlink.h:81</div></div>
<div class="ttc" id="dpif_8h_html_ad42eb90999e69319497a0c9af89cdefc"><div class="ttname"><a href="dpif_8h.html#ad42eb90999e69319497a0c9af89cdefc">DPIF_FLOW_BUFSIZE</a></div><div class="ttdeci">#define DPIF_FLOW_BUFSIZE</div><div class="ttdef"><b>Definition:</b> dpif.h:592</div></div>
<div class="ttc" id="structdpif__flow_html_a446df840cbd19483d6a86d3f9f327708"><div class="ttname"><a href="structdpif__flow.html#a446df840cbd19483d6a86d3f9f327708">dpif_flow::stats</a></div><div class="ttdeci">struct dpif_flow_stats stats</div><div class="ttdef"><b>Definition:</b> dpif.h:587</div></div>
<div class="ttc" id="structdpif__flow_html_a6d7320957dc3327b043aac76947ae0dd"><div class="ttname"><a href="structdpif__flow.html#a6d7320957dc3327b043aac76947ae0dd">dpif_flow::actions_len</a></div><div class="ttdeci">size_t actions_len</div><div class="ttdef"><b>Definition:</b> dpif.h:583</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5acf3ed7c69e2644fc3cfed6afc74c1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structudpif__key.html">udpif_key</a> * ukey_create_from_upcall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall.html">upcall</a> *&#160;</td>
          <td class="paramname"><em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *&#160;</td>
          <td class="paramname"><em>wc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;{</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="keyword">struct </span><a class="code" href="structodputil__keybuf.html">odputil_keybuf</a> keystub, maskstub;</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> keybuf, maskbuf;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordtype">bool</span> megaflow;</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keyword">struct </span><a class="code" href="structodp__flow__key__parms.html">odp_flow_key_parms</a> odp_parms = {</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        .<a class="code" href="structodp__flow__key__parms.html#a0ab9f05e382c65a3599b4b212e371f1c">flow</a> = upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>,</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        .mask = &amp;wc-&gt;<a class="code" href="structflow__wildcards.html#a7596ba66ac7f5966cdbf1955c31a7d11">masks</a>,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    };</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    odp_parms.<a class="code" href="structodp__flow__key__parms.html#a21bf0e9670509f1d8142a79039a9be59">support</a> = <a class="code" href="ofproto-dpif_8c.html#afc7d10923470772090e96dc149b41866">ofproto_dpif_get_support</a>(upcall-&gt;<a class="code" href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">ofproto</a>)-&gt;<a class="code" href="structdpif__backer__support.html#af786f86151a5f26f33146d7b883bb764">odp</a>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">key_len</a>) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        <a class="code" href="ofpbuf_8c.html#a5f7fcd8e899f80b2aa6def36faf63c36">ofpbuf_use_const</a>(&amp;keybuf, upcall-&gt;<a class="code" href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">key</a>, upcall-&gt;<a class="code" href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">key_len</a>);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;        <span class="comment">/* dpif-netdev doesn&#39;t provide a netlink-formatted flow key in the</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment">         * upcall, so convert the upcall&#39;s flow here. */</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <a class="code" href="ofpbuf_8c.html#a84f6837a8a60ade73cc9b91330bbd551">ofpbuf_use_stack</a>(&amp;keybuf, &amp;keystub, <span class="keyword">sizeof</span> keystub);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        odp_parms.<a class="code" href="structodp__flow__key__parms.html#a085857b26f849035beb64e64aab9d530">odp_in_port</a> = upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>-&gt;<a class="code" href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">in_port</a>.<a class="code" href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">odp_port</a>;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <a class="code" href="odp-util_8c.html#a030e5ddfb010ca8039378d85d9cc7908">odp_flow_key_from_flow</a>(&amp;odp_parms, &amp;keybuf);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    }</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a>, &amp;megaflow);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="code" href="ofpbuf_8c.html#a84f6837a8a60ade73cc9b91330bbd551">ofpbuf_use_stack</a>(&amp;maskbuf, &amp;maskstub, <span class="keyword">sizeof</span> maskstub);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span> (megaflow) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        odp_parms.<a class="code" href="structodp__flow__key__parms.html#a085857b26f849035beb64e64aab9d530">odp_in_port</a> = <a class="code" href="odp-util_8h.html#abcc0498b3ff6aab5c8b56dcfdb55707c">ODPP_NONE</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        odp_parms.<a class="code" href="structodp__flow__key__parms.html#afbfafc6cdea9438a066ad8a348d4606c">key_buf</a> = &amp;keybuf;</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <a class="code" href="odp-util_8c.html#a4613c0d2cfdfa820d5ab8717e89b4361">odp_flow_key_from_mask</a>(&amp;odp_parms, &amp;maskbuf);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a74fe5663db2d1cdde69c6102eab10f30">ukey_create__</a>(keybuf.data, keybuf.size, maskbuf.data, maskbuf.size,</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;                         <span class="keyword">true</span>, upcall-&gt;<a class="code" href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">ufid</a>, upcall-&gt;<a class="code" href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">pmd_id</a>,</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                         &amp;upcall-&gt;<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>, upcall-&gt;<a class="code" href="structupcall.html#a68c85b5f428ea1be79a183711779b5c3">dump_seq</a>,</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                         upcall-&gt;<a class="code" href="structupcall.html#a31e6a2ba034a7bb5e48a04e23b5d8e09">reval_seq</a>, 0,</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                         upcall-&gt;<a class="code" href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">have_recirc_ref</a> ? upcall-&gt;<a class="code" href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">recirc</a> : NULL,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                         &amp;upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>);</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;}</div>
<div class="ttc" id="structodputil__keybuf_html"><div class="ttname"><a href="structodputil__keybuf.html">odputil_keybuf</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:143</div></div>
<div class="ttc" id="structodp__flow__key__parms_html"><div class="ttname"><a href="structodp__flow__key__parms.html">odp_flow_key_parms</a></div><div class="ttdef"><b>Definition:</b> odp-util.h:171</div></div>
<div class="ttc" id="structupcall_html_a8b07b004e727e57198bc2e3fa9893db8"><div class="ttname"><a href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">upcall::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:211</div></div>
<div class="ttc" id="ofproto-dpif_8c_html_afc7d10923470772090e96dc149b41866"><div class="ttname"><a href="ofproto-dpif_8c.html#afc7d10923470772090e96dc149b41866">ofproto_dpif_get_support</a></div><div class="ttdeci">struct dpif_backer_support * ofproto_dpif_get_support(const struct ofproto_dpif *ofproto)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:369</div></div>
<div class="ttc" id="structupcall_html_a5c0d32dbe2efd0058ea36e207e51edee"><div class="ttname"><a href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">upcall::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:212</div></div>
<div class="ttc" id="ofpbuf_8c_html_a5f7fcd8e899f80b2aa6def36faf63c36"><div class="ttname"><a href="ofpbuf_8c.html#a5f7fcd8e899f80b2aa6def36faf63c36">ofpbuf_use_const</a></div><div class="ttdeci">void ofpbuf_use_const(struct ofpbuf *b, const void *data, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:114</div></div>
<div class="ttc" id="odp-util_8h_html_abcc0498b3ff6aab5c8b56dcfdb55707c"><div class="ttname"><a href="odp-util_8h.html#abcc0498b3ff6aab5c8b56dcfdb55707c">ODPP_NONE</a></div><div class="ttdeci">#define ODPP_NONE</div><div class="ttdef"><b>Definition:</b> odp-util.h:77</div></div>
<div class="ttc" id="structodp__flow__key__parms_html_a0ab9f05e382c65a3599b4b212e371f1c"><div class="ttname"><a href="structodp__flow__key__parms.html#a0ab9f05e382c65a3599b4b212e371f1c">odp_flow_key_parms::flow</a></div><div class="ttdeci">const struct flow * flow</div><div class="ttdef"><b>Definition:</b> odp-util.h:177</div></div>
<div class="ttc" id="structupcall_html_a68c85b5f428ea1be79a183711779b5c3"><div class="ttname"><a href="structupcall.html#a68c85b5f428ea1be79a183711779b5c3">upcall::dump_seq</a></div><div class="ttdeci">uint64_t dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:207</div></div>
<div class="ttc" id="structupcall_html_a50175cd39491e43d4b3a833e46be9efc"><div class="ttname"><a href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">upcall::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:182</div></div>
<div class="ttc" id="structupcall_html_a842c362fe022c48f378a9ba866ee69e0"><div class="ttname"><a href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">upcall::recirc</a></div><div class="ttdeci">const struct recirc_id_node * recirc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:175</div></div>
<div class="ttc" id="structodp__flow__key__parms_html_a085857b26f849035beb64e64aab9d530"><div class="ttname"><a href="structodp__flow__key__parms.html#a085857b26f849035beb64e64aab9d530">odp_flow_key_parms::odp_in_port</a></div><div class="ttdeci">odp_port_t odp_in_port</div><div class="ttdef"><b>Definition:</b> odp-util.h:184</div></div>
<div class="ttc" id="structupcall_html_ae8083eb5ded20bf1544db253e1ad0c8b"><div class="ttname"><a href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">upcall::flow</a></div><div class="ttdeci">const struct flow * flow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:181</div></div>
<div class="ttc" id="structflow__wildcards_html_a7596ba66ac7f5966cdbf1955c31a7d11"><div class="ttname"><a href="structflow__wildcards.html#a7596ba66ac7f5966cdbf1955c31a7d11">flow_wildcards::masks</a></div><div class="ttdeci">struct flow masks</div><div class="ttdef"><b>Definition:</b> flow.h:318</div></div>
<div class="ttc" id="ofpbuf_8c_html_a84f6837a8a60ade73cc9b91330bbd551"><div class="ttname"><a href="ofpbuf_8c.html#a84f6837a8a60ade73cc9b91330bbd551">ofpbuf_use_stack</a></div><div class="ttdeci">void ofpbuf_use_stack(struct ofpbuf *b, void *base, size_t allocated)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:81</div></div>
<div class="ttc" id="unionflow__in__port_html_abfaef88e731beec19f75dd6114ed9a6c"><div class="ttname"><a href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">flow_in_port::odp_port</a></div><div class="ttdeci">odp_port_t odp_port</div><div class="ttdef"><b>Definition:</b> packets.h:115</div></div>
<div class="ttc" id="odp-util_8c_html_a4613c0d2cfdfa820d5ab8717e89b4361"><div class="ttname"><a href="odp-util_8c.html#a4613c0d2cfdfa820d5ab8717e89b4361">odp_flow_key_from_mask</a></div><div class="ttdeci">void odp_flow_key_from_mask(const struct odp_flow_key_parms *parms, struct ofpbuf *buf)</div><div class="ttdef"><b>Definition:</b> odp-util.c:3528</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac4837f22870b85206e09be4e1371c2cf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a></div><div class="ttdeci">static atomic_bool enable_megaflows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:338</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="structodp__flow__key__parms_html_afbfafc6cdea9438a066ad8a348d4606c"><div class="ttname"><a href="structodp__flow__key__parms.html#afbfafc6cdea9438a066ad8a348d4606c">odp_flow_key_parms::key_buf</a></div><div class="ttdeci">const struct ofpbuf * key_buf</div><div class="ttdef"><b>Definition:</b> odp-util.h:193</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a74fe5663db2d1cdde69c6102eab10f30"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a74fe5663db2d1cdde69c6102eab10f30">ukey_create__</a></div><div class="ttdeci">static struct udpif_key * ukey_create__(const struct nlattr *key, size_t key_len, const struct nlattr *mask, size_t mask_len, bool ufid_present, const ovs_u128 *ufid, const unsigned pmd_id, const struct ofpbuf *actions, uint64_t dump_seq, uint64_t reval_seq, long long int used, const struct recirc_id_node *key_recirc, struct xlate_out *xout) OVS_NO_THREAD_SAFETY_ANALYSIS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1429</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="odp-util_8c_html_a030e5ddfb010ca8039378d85d9cc7908"><div class="ttname"><a href="odp-util_8c.html#a030e5ddfb010ca8039378d85d9cc7908">odp_flow_key_from_flow</a></div><div class="ttdeci">void odp_flow_key_from_flow(const struct odp_flow_key_parms *parms, struct ofpbuf *buf)</div><div class="ttdef"><b>Definition:</b> odp-util.c:3516</div></div>
<div class="ttc" id="structupcall_html_a42991360913a8905d15dfc420548ff04"><div class="ttname"><a href="structupcall.html#a42991360913a8905d15dfc420548ff04">upcall::xout</a></div><div class="ttdeci">struct xlate_out xout</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:192</div></div>
<div class="ttc" id="structdpif__backer__support_html_af786f86151a5f26f33146d7b883bb764"><div class="ttname"><a href="structdpif__backer__support.html#af786f86151a5f26f33146d7b883bb764">dpif_backer_support::odp</a></div><div class="ttdeci">struct odp_support odp</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.h:94</div></div>
<div class="ttc" id="structupcall_html_a3a2e607ca3267fca8ab7eacaa794f9f9"><div class="ttname"><a href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">upcall::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:183</div></div>
<div class="ttc" id="structupcall_html_a4638c1e8228df5d6f361e04aef598d85"><div class="ttname"><a href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">upcall::put_actions</a></div><div class="ttdeci">struct ofpbuf put_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:195</div></div>
<div class="ttc" id="structupcall_html_ae616749296f4166749b6d0f5497ac5ee"><div class="ttname"><a href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">upcall::have_recirc_ref</a></div><div class="ttdeci">bool have_recirc_ref</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:176</div></div>
<div class="ttc" id="structupcall_html_a31e6a2ba034a7bb5e48a04e23b5d8e09"><div class="ttname"><a href="structupcall.html#a31e6a2ba034a7bb5e48a04e23b5d8e09">upcall::reval_seq</a></div><div class="ttdeci">uint64_t reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:208</div></div>
<div class="ttc" id="structodp__flow__key__parms_html_a21bf0e9670509f1d8142a79039a9be59"><div class="ttname"><a href="structodp__flow__key__parms.html#a21bf0e9670509f1d8142a79039a9be59">odp_flow_key_parms::support</a></div><div class="ttdeci">struct odp_support support</div><div class="ttdef"><b>Definition:</b> odp-util.h:188</div></div>
<div class="ttc" id="structupcall_html_ae5eb35b7e5675708a42b59f3794312ea"><div class="ttname"><a href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">upcall::ofproto</a></div><div class="ttdeci">struct ofproto_dpif * ofproto</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:174</div></div>
<div class="ttc" id="structflow_html_a534e413e5a768896ec0bd3771ab99b67"><div class="ttname"><a href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">flow::in_port</a></div><div class="ttdeci">union flow_in_port in_port</div><div class="ttdef"><b>Definition:</b> flow.h:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a142c73b7f70ef1adc2687af7d266d8b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ukey_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structumap.html">umap</a> *&#160;</td>
          <td class="paramname"><em>umap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;{</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="cmap_8h.html#a441ab12d89e8a9956416e5ae73539466">cmap_remove</a>(&amp;umap-&gt;<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>, &amp;ukey-&gt;<a class="code" href="structudpif__key.html#a45b5b0bea52d5f31335bdde272707d36">cmap_node</a>, ukey-&gt;<a class="code" href="structudpif__key.html#ac029beebf1b356ba4de54e54dc975969">hash</a>);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(<a class="code" href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a>, ukey);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div>
<div class="ttc" id="cmap_8h_html_a441ab12d89e8a9956416e5ae73539466"><div class="ttname"><a href="cmap_8h.html#a441ab12d89e8a9956416e5ae73539466">cmap_remove</a></div><div class="ttdeci">static size_t cmap_remove(struct cmap *, struct cmap_node *, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> cmap.h:263</div></div>
<div class="ttc" id="structudpif__key_html_ac029beebf1b356ba4de54e54dc975969"><div class="ttname"><a href="structudpif__key.html#ac029beebf1b356ba4de54e54dc975969">udpif_key::hash</a></div><div class="ttdeci">uint32_t hash</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:240</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a1b7f87ff376b63796578cfdc6505925a"><div class="ttname"><a href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a></div><div class="ttdeci">#define ovsrcu_postpone(FUNCTION, ARG)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:209</div></div>
<div class="ttc" id="structudpif__key_html_a45b5b0bea52d5f31335bdde272707d36"><div class="ttname"><a href="structudpif__key.html#a45b5b0bea52d5f31335bdde272707d36">udpif_key::cmap_node</a></div><div class="ttdeci">struct cmap_node cmap_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:230</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa81a6f662506ffa9a27374a3fd37f12e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a></div><div class="ttdeci">static void ukey_delete__(struct udpif_key *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1698</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa81a6f662506ffa9a27374a3fd37f12e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ukey_delete__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;{</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span> (ukey) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ukey-&gt;<a class="code" href="structudpif__key.html#a77597994f1e486545e713d65de798c90">n_recircs</a>; i++) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <a class="code" href="ofproto-dpif-rid_8c.html#a09a8fbd3df30c0b4c95fc56a37ec7493">recirc_free_id</a>(ukey-&gt;<a class="code" href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">recircs</a>[i]);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <a class="code" href="ofproto-dpif-xlate_8c.html#a793b84dd4673c28422aa2bbad06a05b5">xlate_cache_delete</a>(ukey-&gt;xcache);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;        <a class="code" href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a>(<a class="code" href="ovs-rcu_8h.html#aa55934b83a9774b1257f8bbd3a1d1b01">ovsrcu_get</a>(<span class="keyword">struct</span> <a class="code" href="structofpbuf.html">ofpbuf</a> *, &amp;ukey-&gt;actions));</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="thread_8h.html#aa0a70de451ad2f0b2506a6196e5685c4">ovs_mutex_destroy</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        free(ukey);</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    }</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;}</div>
<div class="ttc" id="structudpif__key_html_ad5c00e97dc6c9f30474a9c412ce055ef"><div class="ttname"><a href="structudpif__key.html#ad5c00e97dc6c9f30474a9c412ce055ef">udpif_key::recircs</a></div><div class="ttdeci">uint32_t recircs[]</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:264</div></div>
<div class="ttc" id="structudpif__key_html_a77597994f1e486545e713d65de798c90"><div class="ttname"><a href="structudpif__key.html#a77597994f1e486545e713d65de798c90">udpif_key::n_recircs</a></div><div class="ttdeci">unsigned n_recircs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:263</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a793b84dd4673c28422aa2bbad06a05b5"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a793b84dd4673c28422aa2bbad06a05b5">xlate_cache_delete</a></div><div class="ttdeci">void xlate_cache_delete(struct xlate_cache *xcache)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:5304</div></div>
<div class="ttc" id="ofpbuf_8h_html_a0fb2b6472401a169d3e48d20a74fbf33"><div class="ttname"><a href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a></div><div class="ttdeci">static void ofpbuf_delete(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:142</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="ovs-rcu_8h_html_aa55934b83a9774b1257f8bbd3a1d1b01"><div class="ttname"><a href="ovs-rcu_8h.html#aa55934b83a9774b1257f8bbd3a1d1b01">ovsrcu_get</a></div><div class="ttdeci">#define ovsrcu_get(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:176</div></div>
<div class="ttc" id="ofproto-dpif-rid_8c_html_a09a8fbd3df30c0b4c95fc56a37ec7493"><div class="ttname"><a href="ofproto-dpif-rid_8c.html#a09a8fbd3df30c0b4c95fc56a37ec7493">recirc_free_id</a></div><div class="ttdeci">void recirc_free_id(uint32_t id)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-rid.c:317</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="thread_8h_html_aa0a70de451ad2f0b2506a6196e5685c4"><div class="ttname"><a href="thread_8h.html#aa0a70de451ad2f0b2506a6196e5685c4">ovs_mutex_destroy</a></div><div class="ttdeci">void ovs_mutex_destroy(const struct ovs_mutex *)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0755bff0105fdf5ffc57c0cfbb7cf2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ukey_get_actions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnlattr.html">nlattr</a> **&#160;</td>
          <td class="paramname"><em>actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;{</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structofpbuf.html">ofpbuf</a> *buf = <a class="code" href="ovs-rcu_8h.html#aa55934b83a9774b1257f8bbd3a1d1b01">ovsrcu_get</a>(<span class="keyword">struct</span> <a class="code" href="structofpbuf.html">ofpbuf</a> *, &amp;ukey-&gt;actions);</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    *actions = buf-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    *<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a> = buf-&gt;<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="ovs-rcu_8h_html_aa55934b83a9774b1257f8bbd3a1d1b01"><div class="ttname"><a href="ovs-rcu_8h.html#aa55934b83a9774b1257f8bbd3a1d1b01">ovsrcu_get</a></div><div class="ttdeci">#define ovsrcu_get(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:176</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afab6acc7e50df153d3c3d02145284537"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> ukey_install </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;{</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="comment">/* The usual way to keep &#39;ukey-&gt;flow_exists&#39; in sync with the datapath is</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">     * to call ukey_install_start(), install the corresponding datapath flow,</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment">     * then call ukey_install_finish(). The netdev interface using upcall_cb()</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">     * doesn&#39;t provide a function to separately finish the flow installation,</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">     * so we perform the operations together here.</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">     * This is fine currently, as revalidator threads will only delete this</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">     * ukey during revalidator_sweep() and only if the dump_seq is mismatched.</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">     * It is unlikely for a revalidator thread to advance dump_seq and reach</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">     * the next GC phase between ukey creation and flow installation. */</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a>(udpif, ukey) &amp;&amp; <a class="code" href="ofproto-dpif-upcall_8c.html#ad74bf4468d0d2552bb94aef623c1727c">ukey_install_finish</a>(ukey, 0);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a656fa5f1daf3f8a4fb6c17e147503b04"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a656fa5f1daf3f8a4fb6c17e147503b04">ukey_install_start</a></div><div class="ttdeci">static bool ukey_install_start(struct udpif *, struct udpif_key *ukey)</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ad74bf4468d0d2552bb94aef623c1727c"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ad74bf4468d0d2552bb94aef623c1727c">ukey_install_finish</a></div><div class="ttdeci">static bool ukey_install_finish(struct udpif_key *ukey, int error)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1617</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad74bf4468d0d2552bb94aef623c1727c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> ukey_install_finish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;{</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>) {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#a26dd90ae8c17be2e89ac4fe2baea9173">ukey_install_finish__</a>(ukey);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">mutex</a>);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;}</div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structudpif__key_html_a94906a4aac4d3d5850e57e85e353a15b"><div class="ttname"><a href="structudpif__key.html#a94906a4aac4d3d5850e57e85e353a15b">udpif_key::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:243</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a26dd90ae8c17be2e89ac4fe2baea9173"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a26dd90ae8c17be2e89ac4fe2baea9173">ukey_install_finish__</a></div><div class="ttdeci">static void ukey_install_finish__(struct udpif_key *ukey) OVS_REQUIRES(ukey-&gt; mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1611</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26dd90ae8c17be2e89ac4fe2baea9173"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ukey_install_finish__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em></td><td>)</td>
          <td> -&gt; <a class="el" href="system-stats_8c.html#a135ec0fe74b73e8bf4c004455962809e">mutex</a>)
</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;{</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    ukey-&gt;flow_exists = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a656fa5f1daf3f8a4fb6c17e147503b04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> ukey_install_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa56ea9de515c982b2bfd9ba9fbcd86bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structudpif__key.html">udpif_key</a> * ukey_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionovs__u128.html">ovs_u128</a> *&#160;</td>
          <td class="paramname"><em>ufid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;{</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif__key.html">udpif_key</a> *ukey;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ofproto-dpif-upcall_8c.html#a49654e4709f40aecccada266daa32fc6">idx</a> = <a class="code" href="ofproto-dpif-upcall_8c.html#abf61d3aedf7fd5a5c82c0e77a579249e">get_ufid_hash</a>(ufid) % <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>;</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcmap.html">cmap</a> *<a class="code" href="structcmap.html">cmap</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[<a class="code" href="ofproto-dpif-upcall_8c.html#a49654e4709f40aecccada266daa32fc6">idx</a>].<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <a class="code" href="cmap_8h.html#aad5f2116d87a10cc40afa47433f15622">CMAP_FOR_EACH_WITH_HASH</a> (ukey, <a class="code" href="structcmap__node.html">cmap_node</a>, <a class="code" href="ofproto-dpif-upcall_8c.html#abf61d3aedf7fd5a5c82c0e77a579249e">get_ufid_hash</a>(ufid), cmap) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_2util_8h.html#a47975fb3b0155cb1749536c9d33516d5">ovs_u128_equals</a>(&amp;ukey-&gt;<a class="code" href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">ufid</a>, ufid)) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            <span class="keywordflow">return</span> ukey;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="ttc" id="structcmap__node_html"><div class="ttname"><a href="structcmap__node.html">cmap_node</a></div><div class="ttdef"><b>Definition:</b> cmap.h:61</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_abf61d3aedf7fd5a5c82c0e77a579249e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#abf61d3aedf7fd5a5c82c0e77a579249e">get_ufid_hash</a></div><div class="ttdeci">static uint32_t get_ufid_hash(const ovs_u128 *ufid)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1390</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a49654e4709f40aecccada266daa32fc6"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a49654e4709f40aecccada266daa32fc6">idx</a></div><div class="ttdeci">uint32_t idx</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1574</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="structcmap_html"><div class="ttname"><a href="structcmap.html">cmap</a></div><div class="ttdef"><b>Definition:</b> cmap.h:78</div></div>
<div class="ttc" id="structudpif__key_html_af5c13cc3a588f1bd45dd79900e30bdcd"><div class="ttname"><a href="structudpif__key.html#af5c13cc3a588f1bd45dd79900e30bdcd">udpif_key::ufid</a></div><div class="ttdeci">ovs_u128 ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:238</div></div>
<div class="ttc" id="cmap_8h_html_aad5f2116d87a10cc40afa47433f15622"><div class="ttname"><a href="cmap_8h.html#aad5f2116d87a10cc40afa47433f15622">CMAP_FOR_EACH_WITH_HASH</a></div><div class="ttdeci">#define CMAP_FOR_EACH_WITH_HASH(NODE, MEMBER, HASH, CMAP)</div><div class="ttdef"><b>Definition:</b> cmap.h:134</div></div>
<div class="ttc" id="structudpif__key_html"><div class="ttname"><a href="structudpif__key.html">udpif_key</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:229</div></div>
<div class="ttc" id="lib_2util_8h_html_a47975fb3b0155cb1749536c9d33516d5"><div class="ttname"><a href="lib_2util_8h.html#a47975fb3b0155cb1749536c9d33516d5">ovs_u128_equals</a></div><div class="ttdeci">static int ovs_u128_equals(const ovs_u128 *a, const ovs_u128 *b)</div><div class="ttdef"><b>Definition:</b> util.h:566</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39b78021109c711538d601ef8e95de55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ukey_set_actions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif__key.html">udpif_key</a> *&#160;</td>
          <td class="paramname"><em>ukey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>actions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;{</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(<a class="code" href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a>,</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                    <a class="code" href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a>(<span class="keyword">struct</span> <a class="code" href="structofpbuf.html">ofpbuf</a> *, &amp;ukey-&gt;actions));</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="ovs-rcu_8h.html#ac66d454933b79d211d13eaedba461fe9">ovsrcu_set</a>(&amp;ukey-&gt;actions, <a class="code" href="ofpbuf_8c.html#a678591e516993e427ec0acd3ac3e88f7">ofpbuf_clone</a>(actions));</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div>
<div class="ttc" id="ovs-rcu_8h_html_ac66d454933b79d211d13eaedba461fe9"><div class="ttname"><a href="ovs-rcu_8h.html#ac66d454933b79d211d13eaedba461fe9">ovsrcu_set</a></div><div class="ttdeci">#define ovsrcu_set(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:193</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a51d7fd9d7daaac25bac13bb577778e57"><div class="ttname"><a href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a></div><div class="ttdeci">#define ovsrcu_get_protected(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:178</div></div>
<div class="ttc" id="ofpbuf_8h_html_a0fb2b6472401a169d3e48d20a74fbf33"><div class="ttname"><a href="ofpbuf_8h.html#a0fb2b6472401a169d3e48d20a74fbf33">ofpbuf_delete</a></div><div class="ttdeci">static void ofpbuf_delete(struct ofpbuf *)</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:142</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a1b7f87ff376b63796578cfdc6505925a"><div class="ttname"><a href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a></div><div class="ttdeci">#define ovsrcu_postpone(FUNCTION, ARG)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:209</div></div>
<div class="ttc" id="structofpbuf_html"><div class="ttname"><a href="structofpbuf.html">ofpbuf</a></div><div class="ttdef"><b>Definition:</b> ofpbuf.h:55</div></div>
<div class="ttc" id="ofpbuf_8c_html_a678591e516993e427ec0acd3ac3e88f7"><div class="ttname"><a href="ofpbuf_8c.html#a678591e516993e427ec0acd3ac3e88f7">ofpbuf_clone</a></div><div class="ttdeci">struct ofpbuf * ofpbuf_clone(const struct ofpbuf *buffer)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:170</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae91213d9a1baf18297c234f21f40c2a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int upcall_cb </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structdp__packet.html">dp_packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structflow.html">flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionovs__u128.html">ovs_u128</a> *&#160;</td>
          <td class="paramname"><em>ufid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>pmd_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dpif_8h.html#a012cba59c2368e2699682c19f818487f">dpif_upcall_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnlattr.html">nlattr</a> *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *&#160;</td>
          <td class="paramname"><em>wc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>put_actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;{</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structvlog__rate__limit.html">vlog_rate_limit</a> <a class="code" href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a> = <a class="code" href="vlog_8h.html#acf0c288e03cbc9a98df73db8698abdd8">VLOG_RATE_LIMIT_INIT</a>(1, 1);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = aux;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keyword">struct </span><a class="code" href="structupcall.html">upcall</a> <a class="code" href="structupcall.html">upcall</a>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordtype">bool</span> megaflow;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a>, &amp;megaflow);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, &amp;flow_limit);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    error = <a class="code" href="ofproto-dpif-upcall_8c.html#af16985a80cfbcf776a0eadc0a380af61">upcall_receive</a>(&amp;<a class="code" href="structupcall.html">upcall</a>, udpif-&gt;<a class="code" href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">backer</a>, packet, <a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>, userdata,</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                           flow, ufid, <a class="code" href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">pmd_id</a>);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    error = <a class="code" href="ofproto-dpif-upcall_8c.html#ab2ed439ca184252dd86a64e4f4775a63">process_upcall</a>(udpif, &amp;<a class="code" href="structupcall.html">upcall</a>, actions, wc);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>.<a class="code" href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">slow</a> &amp;&amp; put_actions) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <a class="code" href="ofpbuf_8c.html#a058f1c70d35be868dc3943eca1ea5690">ofpbuf_put</a>(put_actions, <a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>.<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>,</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                   <a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>.<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="include_2openvswitch_2compiler_8h.html#aa50af2563759e39b6fd3412651fc6889">OVS_UNLIKELY</a>(!megaflow)) {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <a class="code" href="lib_2flow_8c.html#a299f1dab46859077a86b53937d6fb381">flow_wildcards_init_for_packet</a>(wc, flow);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a>(udpif) &gt;= flow_limit) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;rl, <span class="stringliteral">&quot;upcall_cb failure: datapath flow limit reached&quot;</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        error = ENOSPC;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">/* Prevent miss flow installation if the key has recirculation ID but we</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment">     * were not able to get a reference on it. */</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a> == <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a> &amp;&amp; <a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">recirc</a> &amp;&amp; !<a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">have_recirc_ref</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;rl, <span class="stringliteral">&quot;upcall_cb failure: no reference for recirc flow&quot;</span>);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        error = ENOSPC;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">goto</span> out;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a> &amp;&amp; !<a class="code" href="ofproto-dpif-upcall_8c.html#afab6acc7e50df153d3c3d02145284537">ukey_install</a>(udpif, <a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a>)) {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <a class="code" href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a>(&amp;rl, <span class="stringliteral">&quot;upcall_cb failure: ukey installation fails&quot;</span>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        error = ENOSPC;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;out:</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">if</span> (!error) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <a class="code" href="structupcall.html">upcall</a>.<a class="code" href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">ukey_persists</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#ad0b09d8fba3d50cf3e90e9ca30efd76f">upcall_uninit</a>(&amp;<a class="code" href="structupcall.html">upcall</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;}</div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ad0b09d8fba3d50cf3e90e9ca30efd76f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ad0b09d8fba3d50cf3e90e9ca30efd76f">upcall_uninit</a></div><div class="ttdeci">static void upcall_uninit(struct upcall *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1100</div></div>
<div class="ttc" id="structudpif_html_a427b1409be6e42eb7a374377316bdd5b"><div class="ttname"><a href="structudpif.html#a427b1409be6e42eb7a374377316bdd5b">udpif::backer</a></div><div class="ttdeci">struct dpif_backer * backer</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:100</div></div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="structxlate__out_html_a7c0ec7709dd59f1b8137c13658956b06"><div class="ttname"><a href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">xlate_out::slow</a></div><div class="ttdeci">enum slow_path_reason slow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:41</div></div>
<div class="ttc" id="structvlog__rate__limit_html"><div class="ttname"><a href="structvlog__rate__limit.html">vlog_rate_limit</a></div><div class="ttdef"><b>Definition:</b> vlog.h:105</div></div>
<div class="ttc" id="structupcall_html_a842c362fe022c48f378a9ba866ee69e0"><div class="ttname"><a href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">upcall::recirc</a></div><div class="ttdeci">const struct recirc_id_node * recirc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:175</div></div>
<div class="ttc" id="structupcall_html_ab999e1ce57b35244dd78ef62f9ad1d55"><div class="ttname"><a href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">upcall::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:203</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5c9348c27442ef5e4a96246373ad6c6b"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5c9348c27442ef5e4a96246373ad6c6b">rl</a></div><div class="ttdeci">static struct vlog_rate_limit rl</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:274</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac4837f22870b85206e09be4e1371c2cf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a></div><div class="ttdeci">static atomic_bool enable_megaflows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:338</div></div>
<div class="ttc" id="structupcall_html_a689e8ccd7047fb0da5fd323462d8ba7d"><div class="ttname"><a href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">upcall::ukey_persists</a></div><div class="ttdeci">bool ukey_persists</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:204</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="vlog_8h_html_a30af259a5a16dafc88f90508a5c98b43"><div class="ttname"><a href="vlog_8h.html#a30af259a5a16dafc88f90508a5c98b43">VLOG_WARN_RL</a></div><div class="ttdeci">#define VLOG_WARN_RL(RL,...)</div><div class="ttdef"><b>Definition:</b> vlog.h:213</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab2ed439ca184252dd86a64e4f4775a63"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab2ed439ca184252dd86a64e4f4775a63">process_upcall</a></div><div class="ttdeci">static int process_upcall(struct udpif *, struct upcall *, struct ofpbuf *odp_actions, struct flow_wildcards *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1182</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_afab6acc7e50df153d3c3d02145284537"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#afab6acc7e50df153d3c3d02145284537">ukey_install</a></div><div class="ttdeci">static bool ukey_install(struct udpif *udpif, struct udpif_key *ukey)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1629</div></div>
<div class="ttc" id="structupcall_html_a42991360913a8905d15dfc420548ff04"><div class="ttname"><a href="structupcall.html#a42991360913a8905d15dfc420548ff04">upcall::xout</a></div><div class="ttdeci">struct xlate_out xout</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:192</div></div>
<div class="ttc" id="structupcall_html"><div class="ttname"><a href="structupcall.html">upcall</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:173</div></div>
<div class="ttc" id="dpif_8h_html_a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55"><div class="ttname"><a href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a></div><div class="ttdef"><b>Definition:</b> dpif.h:760</div></div>
<div class="ttc" id="include_2openvswitch_2compiler_8h_html_aa50af2563759e39b6fd3412651fc6889"><div class="ttname"><a href="include_2openvswitch_2compiler_8h.html#aa50af2563759e39b6fd3412651fc6889">OVS_UNLIKELY</a></div><div class="ttdeci">#define OVS_UNLIKELY(CONDITION)</div><div class="ttdef"><b>Definition:</b> compiler.h:50</div></div>
<div class="ttc" id="vlog_8h_html_acf0c288e03cbc9a98df73db8698abdd8"><div class="ttname"><a href="vlog_8h.html#acf0c288e03cbc9a98df73db8698abdd8">VLOG_RATE_LIMIT_INIT</a></div><div class="ttdeci">#define VLOG_RATE_LIMIT_INIT(RATE, BURST)</div><div class="ttdef"><b>Definition:</b> vlog.h:119</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="ofpbuf_8c_html_a058f1c70d35be868dc3943eca1ea5690"><div class="ttname"><a href="ofpbuf_8c.html#a058f1c70d35be868dc3943eca1ea5690">ofpbuf_put</a></div><div class="ttdeci">void * ofpbuf_put(struct ofpbuf *b, const void *p, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:385</div></div>
<div class="ttc" id="structupcall_html_a3a2e607ca3267fca8ab7eacaa794f9f9"><div class="ttname"><a href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">upcall::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:183</div></div>
<div class="ttc" id="structupcall_html_a4638c1e8228df5d6f361e04aef598d85"><div class="ttname"><a href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">upcall::put_actions</a></div><div class="ttdeci">struct ofpbuf put_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:195</div></div>
<div class="ttc" id="lib_2flow_8c_html_a299f1dab46859077a86b53937d6fb381"><div class="ttname"><a href="lib_2flow_8c.html#a299f1dab46859077a86b53937d6fb381">flow_wildcards_init_for_packet</a></div><div class="ttdeci">void flow_wildcards_init_for_packet(struct flow_wildcards *wc, const struct flow *flow)</div><div class="ttdef"><b>Definition:</b> flow.c:1143</div></div>
<div class="ttc" id="structupcall_html_ae616749296f4166749b6d0f5497ac5ee"><div class="ttname"><a href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">upcall::have_recirc_ref</a></div><div class="ttdeci">bool have_recirc_ref</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:176</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7a52c113018932b24a5d87ff9becc04f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a></div><div class="ttdeci">static unsigned long udpif_get_n_flows(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:659</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_af16985a80cfbcf776a0eadc0a380af61"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#af16985a80cfbcf776a0eadc0a380af61">upcall_receive</a></div><div class="ttdeci">static int upcall_receive(struct upcall *, const struct dpif_backer *, const struct dp_packet *packet, enum dpif_upcall_type, const struct nlattr *userdata, const struct flow *, const ovs_u128 *ufid, const unsigned pmd_id)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:977</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af16985a80cfbcf776a0eadc0a380af61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int upcall_receive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall.html">upcall</a> *&#160;</td>
          <td class="paramname"><em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdpif__backer.html">dpif_backer</a> *&#160;</td>
          <td class="paramname"><em>backer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structdp__packet.html">dp_packet</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="dpif_8h.html#a012cba59c2368e2699682c19f818487f">dpif_upcall_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnlattr.html">nlattr</a> *&#160;</td>
          <td class="paramname"><em>userdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structflow.html">flow</a> *&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionovs__u128.html">ovs_u128</a> *&#160;</td>
          <td class="paramname"><em>ufid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned&#160;</td>
          <td class="paramname"><em>pmd_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;{</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    error = <a class="code" href="ofproto-dpif-xlate_8c.html#ab2a55b7a406eb7048dc4d1b80b92c541">xlate_lookup</a>(backer, flow, &amp;upcall-&gt;<a class="code" href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">ofproto</a>, &amp;upcall-&gt;<a class="code" href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">ipfix</a>,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                         &amp;upcall-&gt;<a class="code" href="structupcall.html#a32b40b99c8deaabe5cc87f8cd5a60598">sflow</a>, NULL, &amp;upcall-&gt;<a class="code" href="structupcall.html#aa2032427ca8a23e7c86ce951921ee3fc">in_port</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">if</span> (error) {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    }</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">recirc</a> = NULL;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">have_recirc_ref</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a> = <a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a> = <a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">ufid</a> = <a class="code" href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">ufid</a>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">pmd_id</a> = <a class="code" href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">pmd_id</a>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">type</a> = <a class="code" href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a9facd3160c958eebf93fa12e61859fa3">userdata</a> = <a class="code" href="structupcall.html#a9facd3160c958eebf93fa12e61859fa3">userdata</a>;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <a class="code" href="ofpbuf_8c.html#abcfff4264feab742dd56a311ab18b5ca">ofpbuf_use_stub</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>, upcall-&gt;<a class="code" href="structupcall.html#a898aa5e45b952e72b99462215c11309b">odp_actions_stub</a>,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    <span class="keyword">sizeof</span> upcall-&gt;<a class="code" href="structupcall.html#a898aa5e45b952e72b99462215c11309b">odp_actions_stub</a>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="ofpbuf_8c.html#a585ed00d16419cc92514dbad782cc344">ofpbuf_init</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>, 0);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a8955bc9bd13f7091ca02277eddb45698">xout_initialized</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a22c76efd22401afc7523116bf6caf1c6">vsp_adjusted</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">ukey_persists</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a> = NULL;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">key</a> = NULL;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">key_len</a> = 0;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a8a6776770764e06c773691874f497545">out_tun_key</a> = NULL;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">actions</a> = NULL;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;}</div>
<div class="ttc" id="structupcall_html_aaca2bd05b9067b91112f2d102a3cb481"><div class="ttname"><a href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">upcall::type</a></div><div class="ttdeci">enum dpif_upcall_type type</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:187</div></div>
<div class="ttc" id="ofpbuf_8c_html_a585ed00d16419cc92514dbad782cc344"><div class="ttname"><a href="ofpbuf_8c.html#a585ed00d16419cc92514dbad782cc344">ofpbuf_init</a></div><div class="ttdeci">void ofpbuf_init(struct ofpbuf *b, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:122</div></div>
<div class="ttc" id="structupcall_html_a32b40b99c8deaabe5cc87f8cd5a60598"><div class="ttname"><a href="structupcall.html#a32b40b99c8deaabe5cc87f8cd5a60598">upcall::sflow</a></div><div class="ttdeci">struct dpif_sflow * sflow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:198</div></div>
<div class="ttc" id="ofpbuf_8c_html_abcfff4264feab742dd56a311ab18b5ca"><div class="ttname"><a href="ofpbuf_8c.html#abcfff4264feab742dd56a311ab18b5ca">ofpbuf_use_stub</a></div><div class="ttdeci">void ofpbuf_use_stub(struct ofpbuf *b, void *base, size_t allocated)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:101</div></div>
<div class="ttc" id="structupcall_html_a8b07b004e727e57198bc2e3fa9893db8"><div class="ttname"><a href="structupcall.html#a8b07b004e727e57198bc2e3fa9893db8">upcall::key</a></div><div class="ttdeci">const struct nlattr * key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:211</div></div>
<div class="ttc" id="structupcall_html_a4aa95fcd7454add0d87603e613b5a049"><div class="ttname"><a href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">upcall::odp_actions</a></div><div class="ttdeci">struct ofpbuf odp_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:193</div></div>
<div class="ttc" id="structupcall_html_a22c76efd22401afc7523116bf6caf1c6"><div class="ttname"><a href="structupcall.html#a22c76efd22401afc7523116bf6caf1c6">upcall::vsp_adjusted</a></div><div class="ttdeci">bool vsp_adjusted</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:200</div></div>
<div class="ttc" id="structupcall_html_a5c0d32dbe2efd0058ea36e207e51edee"><div class="ttname"><a href="structupcall.html#a5c0d32dbe2efd0058ea36e207e51edee">upcall::key_len</a></div><div class="ttdeci">size_t key_len</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:212</div></div>
<div class="ttc" id="structupcall_html_a8a6776770764e06c773691874f497545"><div class="ttname"><a href="structupcall.html#a8a6776770764e06c773691874f497545">upcall::out_tun_key</a></div><div class="ttdeci">const struct nlattr * out_tun_key</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:213</div></div>
<div class="ttc" id="structupcall_html_aa2532261bb0f7a55630d595546b6d7a6"><div class="ttname"><a href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">upcall::packet</a></div><div class="ttdeci">const struct dp_packet * packet</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:184</div></div>
<div class="ttc" id="structupcall_html_a50175cd39491e43d4b3a833e46be9efc"><div class="ttname"><a href="structupcall.html#a50175cd39491e43d4b3a833e46be9efc">upcall::ufid</a></div><div class="ttdeci">const ovs_u128 * ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:182</div></div>
<div class="ttc" id="structupcall_html_a842c362fe022c48f378a9ba866ee69e0"><div class="ttname"><a href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">upcall::recirc</a></div><div class="ttdeci">const struct recirc_id_node * recirc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:175</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_ab2a55b7a406eb7048dc4d1b80b92c541"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#ab2a55b7a406eb7048dc4d1b80b92c541">xlate_lookup</a></div><div class="ttdeci">int xlate_lookup(const struct dpif_backer *backer, const struct flow *flow, struct ofproto_dpif **ofprotop, struct dpif_ipfix **ipfix, struct dpif_sflow **sflow, struct netflow **netflow, ofp_port_t *ofp_in_port)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:1136</div></div>
<div class="ttc" id="structupcall_html_ae8083eb5ded20bf1544db253e1ad0c8b"><div class="ttname"><a href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">upcall::flow</a></div><div class="ttdeci">const struct flow * flow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:181</div></div>
<div class="ttc" id="structupcall_html_ab999e1ce57b35244dd78ef62f9ad1d55"><div class="ttname"><a href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">upcall::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:203</div></div>
<div class="ttc" id="structupcall_html_ae3d9e5e9b7bbb98fcf83a7def1221070"><div class="ttname"><a href="structupcall.html#ae3d9e5e9b7bbb98fcf83a7def1221070">upcall::ipfix</a></div><div class="ttdeci">struct dpif_ipfix * ipfix</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:197</div></div>
<div class="ttc" id="structupcall_html_a8955bc9bd13f7091ca02277eddb45698"><div class="ttname"><a href="structupcall.html#a8955bc9bd13f7091ca02277eddb45698">upcall::xout_initialized</a></div><div class="ttdeci">bool xout_initialized</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:191</div></div>
<div class="ttc" id="structupcall_html_a689e8ccd7047fb0da5fd323462d8ba7d"><div class="ttname"><a href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">upcall::ukey_persists</a></div><div class="ttdeci">bool ukey_persists</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:204</div></div>
<div class="ttc" id="structupcall_html_a898aa5e45b952e72b99462215c11309b"><div class="ttname"><a href="structupcall.html#a898aa5e45b952e72b99462215c11309b">upcall::odp_actions_stub</a></div><div class="ttdeci">uint64_t odp_actions_stub[1024/8]</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:215</div></div>
<div class="ttc" id="netdev_8c_html_ab70064e6ae258de4a1d0811824412152"><div class="ttname"><a href="netdev_8c.html#ab70064e6ae258de4a1d0811824412152">error</a></div><div class="ttdeci">return error</div><div class="ttdef"><b>Definition:</b> netdev.c:248</div></div>
<div class="ttc" id="structupcall_html_a3a2e607ca3267fca8ab7eacaa794f9f9"><div class="ttname"><a href="structupcall.html#a3a2e607ca3267fca8ab7eacaa794f9f9">upcall::pmd_id</a></div><div class="ttdeci">unsigned pmd_id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:183</div></div>
<div class="ttc" id="structupcall_html_a4638c1e8228df5d6f361e04aef598d85"><div class="ttname"><a href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">upcall::put_actions</a></div><div class="ttdeci">struct ofpbuf put_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:195</div></div>
<div class="ttc" id="structupcall_html_a9facd3160c958eebf93fa12e61859fa3"><div class="ttname"><a href="structupcall.html#a9facd3160c958eebf93fa12e61859fa3">upcall::userdata</a></div><div class="ttdeci">const struct nlattr * userdata</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:188</div></div>
<div class="ttc" id="structupcall_html_ae616749296f4166749b6d0f5497ac5ee"><div class="ttname"><a href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">upcall::have_recirc_ref</a></div><div class="ttdeci">bool have_recirc_ref</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:176</div></div>
<div class="ttc" id="structupcall_html_aa2032427ca8a23e7c86ce951921ee3fc"><div class="ttname"><a href="structupcall.html#aa2032427ca8a23e7c86ce951921ee3fc">upcall::in_port</a></div><div class="ttdeci">ofp_port_t in_port</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:185</div></div>
<div class="ttc" id="datapath_2flow_8h_html_ab22aaab04f806700def00f32823fcb9e"><div class="ttname"><a href="datapath_2flow_8h.html#ab22aaab04f806700def00f32823fcb9e">type</a></div><div class="ttdeci">__be16 type</div><div class="ttdef"><b>Definition:</b> flow.h:117</div></div>
<div class="ttc" id="structupcall_html_ae5eb35b7e5675708a42b59f3794312ea"><div class="ttname"><a href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">upcall::ofproto</a></div><div class="ttdeci">struct ofproto_dpif * ofproto</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:174</div></div>
<div class="ttc" id="structupcall_html_ac84ac0a57387cb3e16db2027717cb6e7"><div class="ttname"><a href="structupcall.html#ac84ac0a57387cb3e16db2027717cb6e7">upcall::actions</a></div><div class="ttdeci">const struct nlattr * actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:189</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0b09d8fba3d50cf3e90e9ca30efd76f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_uninit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structupcall.html">upcall</a> *&#160;</td>
          <td class="paramname"><em>upcall</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;{</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (upcall) {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a8955bc9bd13f7091ca02277eddb45698">xout_initialized</a>) {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            <a class="code" href="ofproto-dpif-xlate_8c.html#a9367e882ed3aa465b5132a4cca6b4786">xlate_out_uninit</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">odp_actions</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <a class="code" href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a>) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            <span class="keywordflow">if</span> (!upcall-&gt;<a class="code" href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">ukey_persists</a>) {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                <a class="code" href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a>(upcall-&gt;<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a>);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">have_recirc_ref</a>) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="comment">/* The reference was transferred to the ukey if one was created. */</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            <a class="code" href="ofproto-dpif-rid_8c.html#a7bf7e905140df6889d7ec70493467d49">recirc_id_node_unref</a>(upcall-&gt;<a class="code" href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">recirc</a>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
<div class="ttc" id="structupcall_html_a4aa95fcd7454add0d87603e613b5a049"><div class="ttname"><a href="structupcall.html#a4aa95fcd7454add0d87603e613b5a049">upcall::odp_actions</a></div><div class="ttdeci">struct ofpbuf odp_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:193</div></div>
<div class="ttc" id="structupcall_html_a842c362fe022c48f378a9ba866ee69e0"><div class="ttname"><a href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">upcall::recirc</a></div><div class="ttdeci">const struct recirc_id_node * recirc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:175</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a9367e882ed3aa465b5132a4cca6b4786"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a9367e882ed3aa465b5132a4cca6b4786">xlate_out_uninit</a></div><div class="ttdeci">void xlate_out_uninit(struct xlate_out *xout)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4544</div></div>
<div class="ttc" id="structupcall_html_ab999e1ce57b35244dd78ef62f9ad1d55"><div class="ttname"><a href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">upcall::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:203</div></div>
<div class="ttc" id="structupcall_html_a8955bc9bd13f7091ca02277eddb45698"><div class="ttname"><a href="structupcall.html#a8955bc9bd13f7091ca02277eddb45698">upcall::xout_initialized</a></div><div class="ttdeci">bool xout_initialized</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:191</div></div>
<div class="ttc" id="structupcall_html_a689e8ccd7047fb0da5fd323462d8ba7d"><div class="ttname"><a href="structupcall.html#a689e8ccd7047fb0da5fd323462d8ba7d">upcall::ukey_persists</a></div><div class="ttdeci">bool ukey_persists</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:204</div></div>
<div class="ttc" id="ofpbuf_8c_html_a62dd653f401f851b82827648e7d28759"><div class="ttname"><a href="ofpbuf_8c.html#a62dd653f401f851b82827648e7d28759">ofpbuf_uninit</a></div><div class="ttdeci">void ofpbuf_uninit(struct ofpbuf *b)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:129</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_aa81a6f662506ffa9a27374a3fd37f12e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#aa81a6f662506ffa9a27374a3fd37f12e">ukey_delete__</a></div><div class="ttdeci">static void ukey_delete__(struct udpif_key *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1698</div></div>
<div class="ttc" id="ofproto-dpif-rid_8c_html_a7bf7e905140df6889d7ec70493467d49"><div class="ttname"><a href="ofproto-dpif-rid_8c.html#a7bf7e905140df6889d7ec70493467d49">recirc_id_node_unref</a></div><div class="ttdeci">void recirc_id_node_unref(const struct recirc_id_node *node_) OVS_EXCLUDED(mutex)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-rid.c:299</div></div>
<div class="ttc" id="structupcall_html_a42991360913a8905d15dfc420548ff04"><div class="ttname"><a href="structupcall.html#a42991360913a8905d15dfc420548ff04">upcall::xout</a></div><div class="ttdeci">struct xlate_out xout</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:192</div></div>
<div class="ttc" id="structupcall_html_a4638c1e8228df5d6f361e04aef598d85"><div class="ttname"><a href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">upcall::put_actions</a></div><div class="ttdeci">struct ofpbuf put_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:195</div></div>
<div class="ttc" id="structupcall_html_ae616749296f4166749b6d0f5497ac5ee"><div class="ttname"><a href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">upcall::have_recirc_ref</a></div><div class="ttdeci">bool have_recirc_ref</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:176</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf1877b9a01c1b3e1343237d3d28bb6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_disable_megaflows </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4586a2a1310aacbce59fdaa0bc500962"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_disable_megaflows </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;{</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#adae85c4a34f3c8514aa4b174e3c7447e">udpif_flush_all_datapaths</a>();</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <span class="stringliteral">&quot;megaflows disabled&quot;</span>);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_adae85c4a34f3c8514aa4b174e3c7447e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#adae85c4a34f3c8514aa4b174e3c7447e">udpif_flush_all_datapaths</a></div><div class="ttdeci">static void udpif_flush_all_datapaths(void)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:639</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac4837f22870b85206e09be4e1371c2cf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a></div><div class="ttdeci">static atomic_bool enable_megaflows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:338</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67d58387ee947ca07b70cad5b0f5906f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_disable_ufid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a106c9c5b9387d629eca867fc16030465"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_disable_ufid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;{</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <span class="stringliteral">&quot;Datapath dumping tersely using UFID disabled&quot;</span>);</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6ce8ceb8e30822d8ee1b977964b44cca"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a></div><div class="ttdeci">static atomic_bool enable_ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:339</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2b76583b1643d7a049b69059885be620"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_dump_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1664611946c54095186761120171fef2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_dump_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;{</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2list_8h.html#ace9970ab7ad1f0b2593d88b46d90300e">list_is_singleton</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>)) {</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a> = NULL;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <span class="keywordtype">size_t</span> len;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;        udpif = <a class="code" href="lib_2util_8h.html#af7164970031a27222c3e6a184cd42702">OBJECT_CONTAINING</a>(<a class="code" href="lib_2list_8h.html#a8cf66c9b0302d3d59ef0d21a2f08dae8">list_front</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>), udpif, <a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;        len = (udpif-&gt;<a class="code" href="structudpif.html#a7ff07a22859797e80789d8bcbac9b7a1">n_conns</a> + 1) * <span class="keyword">sizeof</span> *udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a>;</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#acf297554af07c3207ccb054f40669393">conn_seq</a> = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a> = <a class="code" href="util_8c.html#a9f6bc6d637434a7cca469629ed0594ed">xrealloc</a>(udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a>, len);</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;        udpif-&gt;<a class="code" href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">conns</a>[udpif-&gt;<a class="code" href="structudpif.html#a7ff07a22859797e80789d8bcbac9b7a1">n_conns</a>++] = conn;</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;        <a class="code" href="unixctl_8c.html#aa5346a65e6271e5081000764e29c32c3">unixctl_command_reply_error</a>(conn, <span class="stringliteral">&quot;can&#39;t wait on multiple udpifs.&quot;</span>);</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    }</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;}</div>
<div class="ttc" id="structudpif_html_a7ff07a22859797e80789d8bcbac9b7a1"><div class="ttname"><a href="structudpif.html#a7ff07a22859797e80789d8bcbac9b7a1">udpif::n_conns</a></div><div class="ttdeci">size_t n_conns</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:156</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="lib_2util_8h_html_af7164970031a27222c3e6a184cd42702"><div class="ttname"><a href="lib_2util_8h.html#af7164970031a27222c3e6a184cd42702">OBJECT_CONTAINING</a></div><div class="ttdeci">#define OBJECT_CONTAINING(POINTER, OBJECT, MEMBER)</div><div class="ttdef"><b>Definition:</b> util.h:217</div></div>
<div class="ttc" id="lib_2list_8h_html_ace9970ab7ad1f0b2593d88b46d90300e"><div class="ttname"><a href="lib_2list_8h.html#ace9970ab7ad1f0b2593d88b46d90300e">list_is_singleton</a></div><div class="ttdeci">static bool list_is_singleton(const struct ovs_list *)</div><div class="ttdef"><b>Definition:</b> list.h:268</div></div>
<div class="ttc" id="structudpif_html_acf297554af07c3207ccb054f40669393"><div class="ttname"><a href="structudpif.html#acf297554af07c3207ccb054f40669393">udpif::conn_seq</a></div><div class="ttdeci">uint64_t conn_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:154</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="unixctl_8c_html_aa5346a65e6271e5081000764e29c32c3"><div class="ttname"><a href="unixctl_8c.html#aa5346a65e6271e5081000764e29c32c3">unixctl_command_reply_error</a></div><div class="ttdeci">void unixctl_command_reply_error(struct unixctl_conn *conn, const char *error)</div><div class="ttdef"><b>Definition:</b> unixctl.c:176</div></div>
<div class="ttc" id="util_8c_html_a9f6bc6d637434a7cca469629ed0594ed"><div class="ttname"><a href="util_8c.html#a9f6bc6d637434a7cca469629ed0594ed">xrealloc</a></div><div class="ttdeci">void * xrealloc(void *p, size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:121</div></div>
<div class="ttc" id="lib_2list_8h_html_a8cf66c9b0302d3d59ef0d21a2f08dae8"><div class="ttname"><a href="lib_2list_8h.html#a8cf66c9b0302d3d59ef0d21a2f08dae8">list_front</a></div><div class="ttdeci">static struct ovs_list * list_front(const struct ovs_list *)</div><div class="ttdef"><b>Definition:</b> list.h:224</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a085b30803ccb04a25fb842f8ef755619"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a></div><div class="ttdeci">static struct ovs_list all_udpifs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:275</div></div>
<div class="ttc" id="structudpif_html_ad30ae1293fcf4281777eff5e2a1f5431"><div class="ttname"><a href="structudpif.html#ad30ae1293fcf4281777eff5e2a1f5431">udpif::conns</a></div><div class="ttdeci">struct unixctl_conn ** conns</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:153</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5bc80da5c571b63c5ac22845c323740e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_enable_megaflows </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad53fa7510ccc994dd1601889892c8ea8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_enable_megaflows </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;{</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <a class="code" href="ofproto-dpif-upcall_8c.html#adae85c4a34f3c8514aa4b174e3c7447e">udpif_flush_all_datapaths</a>();</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <span class="stringliteral">&quot;megaflows enabled&quot;</span>);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_adae85c4a34f3c8514aa4b174e3c7447e"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#adae85c4a34f3c8514aa4b174e3c7447e">udpif_flush_all_datapaths</a></div><div class="ttdeci">static void udpif_flush_all_datapaths(void)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:639</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ac4837f22870b85206e09be4e1371c2cf"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ac4837f22870b85206e09be4e1371c2cf">enable_megaflows</a></div><div class="ttdeci">static atomic_bool enable_megaflows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:338</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a5653339416cecea196cda34a7720d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_enable_ufid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abdb4c1afd0c573f4d1951a726d63a10f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_enable_ufid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;{</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <span class="stringliteral">&quot;Datapath dumping tersely using UFID enabled &quot;</span></div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;                                <span class="stringliteral">&quot;for supported datapaths&quot;</span>);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a6ce8ceb8e30822d8ee1b977964b44cca"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a6ce8ceb8e30822d8ee1b977964b44cca">enable_ufid</a></div><div class="ttdeci">static atomic_bool enable_ufid</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:339</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaeeb28abdcbf07e1cfc1c00b30318e3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_purge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af415b84832947c7456efd327191ec8a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_purge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;{</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a>;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <a class="code" href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a> (udpif, <a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>, &amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>) {</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        <span class="keywordflow">for</span> (n = 0; n &lt; udpif-&gt;<a class="code" href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">n_revalidators</a>; n++) {</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;            <a class="code" href="ofproto-dpif-upcall_8c.html#ab0a3df173f9cffeb341ec6002e23616a">revalidator_purge</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>[n]);</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        }</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    }</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ab0a3df173f9cffeb341ec6002e23616a"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ab0a3df173f9cffeb341ec6002e23616a">revalidator_purge</a></div><div class="ttdeci">static void revalidator_purge(struct revalidator *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:2259</div></div>
<div class="ttc" id="lib_2list_8h_html_a6eb1d9c9e51112125ff78f6b11a95a68"><div class="ttname"><a href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a></div><div class="ttdeci">#define LIST_FOR_EACH(ITER, MEMBER, LIST)</div><div class="ttdef"><b>Definition:</b> list.h:60</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="structudpif_html_a9ac12e3f2bd85fcde36914abfd95d97f"><div class="ttname"><a href="structudpif.html#a9ac12e3f2bd85fcde36914abfd95d97f">udpif::n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:106</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a085b30803ccb04a25fb842f8ef755619"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a></div><div class="ttdeci">static struct ovs_list all_udpifs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:275</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a675256e5853f88d44c9388e81a6f0404"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_set_flow_limit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1284f4e969ab3b6cbcdb4e5281cc631e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_set_flow_limit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;{</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keyword">struct </span><a class="code" href="structds.html">ds</a> <a class="code" href="structds.html">ds</a> = <a class="code" href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a>;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a>;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a> = atoi(argv[1]);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <a class="code" href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a> (udpif, <a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>, &amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>) {</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, flow_limit);</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    }</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;set flow_limit to %u\n&quot;</span>, flow_limit);</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <a class="code" href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a>(&amp;ds));</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    <a class="code" href="dynamic-string_8c.html#ab600e7fc1f9337f26f8a8cb855724540">ds_destroy</a>(&amp;ds);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="lib_2list_8h_html_a6eb1d9c9e51112125ff78f6b11a95a68"><div class="ttname"><a href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a></div><div class="ttdeci">#define LIST_FOR_EACH(ITER, MEMBER, LIST)</div><div class="ttdef"><b>Definition:</b> list.h:60</div></div>
<div class="ttc" id="dynamic-string_8c_html_a8ed7cfb0cbc0560ddad879369186bee4"><div class="ttname"><a href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a></div><div class="ttdeci">void ds_put_format(struct ds *ds, const char *format,...)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:137</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="dynamic-string_8h_html_ae69a851dc36e8fa36553b037f7a0fcc1"><div class="ttname"><a href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a></div><div class="ttdeci">#define DS_EMPTY_INITIALIZER</div><div class="ttdef"><b>Definition:</b> dynamic-string.h:41</div></div>
<div class="ttc" id="dynamic-string_8c_html_a37180434ba345978ba55cd862482256a"><div class="ttname"><a href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a></div><div class="ttdeci">char * ds_cstr(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:323</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="dynamic-string_8c_html_ab600e7fc1f9337f26f8a8cb855724540"><div class="ttname"><a href="dynamic-string_8c.html#ab600e7fc1f9337f26f8a8cb855724540">ds_destroy</a></div><div class="ttdeci">void ds_destroy(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:350</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a085b30803ccb04a25fb842f8ef755619"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a></div><div class="ttdeci">static struct ovs_list all_udpifs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:275</div></div>
<div class="ttc" id="structds_html"><div class="ttname"><a href="structds.html">ds</a></div><div class="ttdef"><b>Definition:</b> dynamic-string.h:35</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6fd2f3139d0e274c5ed884329765d81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>aux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8ffa5aa6b2b3d9f513a212c3d271622b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_unixctl_show </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;{</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    <span class="keyword">struct </span><a class="code" href="structds.html">ds</a> <a class="code" href="structds.html">ds</a> = <a class="code" href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a>;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <span class="keyword">struct </span><a class="code" href="structudpif.html">udpif</a> *<a class="code" href="structudpif.html">udpif</a>;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <a class="code" href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a> (udpif, <a class="code" href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">list_node</a>, &amp;<a class="code" href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a>) {</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="keywordtype">bool</span> ufid_enabled;</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;        <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#a6212e86c34d88efba860c2820e028c62">flow_limit</a>, &amp;flow_limit);</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        ufid_enabled = <a class="code" href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a>(udpif);</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;%s:\n&quot;</span>, <a class="code" href="dpif_8c.html#a9e16ea17790f54e9b156d460a82d3ddc">dpif_name</a>(udpif-&gt;<a class="code" href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">dpif</a>));</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;\tflows         : (current %lu)&quot;</span></div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;            <span class="stringliteral">&quot; (avg %u) (max %u) (limit %u)\n&quot;</span>, <a class="code" href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a>(udpif),</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            udpif-&gt;<a class="code" href="structudpif.html#a739470ac9fb0926a56e64506a92407c6">avg_n_flows</a>, udpif-&gt;<a class="code" href="structudpif.html#a8ff311bde57165b4348c5ed9a3e1b1a7">max_n_flows</a>, flow_limit);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;\tdump duration : %lldms\n&quot;</span>, udpif-&gt;<a class="code" href="structudpif.html#a27f2a1abcc6e597e118897d50cb970c4">dump_duration</a>);</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;\tufid enabled : &quot;</span>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <span class="keywordflow">if</span> (ufid_enabled) {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;            <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;true\n&quot;</span>);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;            <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;false\n&quot;</span>);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;        }</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        <a class="code" href="dynamic-string_8h.html#a4bbd1418d399ee854111b57562c98592">ds_put_char</a>(&amp;ds, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>; i++) {</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;            <span class="keyword">struct </span><a class="code" href="structrevalidator.html">revalidator</a> *<a class="code" href="structrevalidator.html">revalidator</a> = &amp;udpif-&gt;<a class="code" href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">revalidators</a>[i];</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;            <span class="keywordtype">int</span> j, elements = 0;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;            <span class="keywordflow">for</span> (j = i; j &lt; <a class="code" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a>; j += <a class="code" href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a>) {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;                elements += <a class="code" href="cmap_8c.html#a924145bb572cf5c7156b39adbe5d6f95">cmap_count</a>(&amp;udpif-&gt;<a class="code" href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">ukeys</a>[j].<a class="code" href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">cmap</a>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            }</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;            <a class="code" href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a>(&amp;ds, <span class="stringliteral">&quot;\t%u: (keys %d)\n&quot;</span>, revalidator-&gt;<a class="code" href="structrevalidator.html#a4e8f8fcd6a2b95b5b53d83486a8d6da2">id</a>, elements);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        }</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    }</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, <a class="code" href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a>(&amp;ds));</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <a class="code" href="dynamic-string_8c.html#ab600e7fc1f9337f26f8a8cb855724540">ds_destroy</a>(&amp;ds);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a2a125f021693d2915283c28e11900178"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></div><div class="ttdeci">#define N_UMAPS</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:66</div></div>
<div class="ttc" id="lib_2list_8h_html_a6eb1d9c9e51112125ff78f6b11a95a68"><div class="ttname"><a href="lib_2list_8h.html#a6eb1d9c9e51112125ff78f6b11a95a68">LIST_FOR_EACH</a></div><div class="ttdeci">#define LIST_FOR_EACH(ITER, MEMBER, LIST)</div><div class="ttdef"><b>Definition:</b> list.h:60</div></div>
<div class="ttc" id="dynamic-string_8c_html_a8ed7cfb0cbc0560ddad879369186bee4"><div class="ttname"><a href="dynamic-string_8c.html#a8ed7cfb0cbc0560ddad879369186bee4">ds_put_format</a></div><div class="ttdeci">void ds_put_format(struct ds *ds, const char *format,...)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:137</div></div>
<div class="ttc" id="structudpif_html_a6212e86c34d88efba860c2820e028c62"><div class="ttname"><a href="structudpif.html#a6212e86c34d88efba860c2820e028c62">udpif::flow_limit</a></div><div class="ttdeci">atomic_uint flow_limit</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:145</div></div>
<div class="ttc" id="structudpif_html_a27f2a1abcc6e597e118897d50cb970c4"><div class="ttname"><a href="structudpif.html#a27f2a1abcc6e597e118897d50cb970c4">udpif::dump_duration</a></div><div class="ttdeci">long long int dump_duration</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:115</div></div>
<div class="ttc" id="dynamic-string_8h_html_ae69a851dc36e8fa36553b037f7a0fcc1"><div class="ttname"><a href="dynamic-string_8h.html#ae69a851dc36e8fa36553b037f7a0fcc1">DS_EMPTY_INITIALIZER</a></div><div class="ttdeci">#define DS_EMPTY_INITIALIZER</div><div class="ttdef"><b>Definition:</b> dynamic-string.h:41</div></div>
<div class="ttc" id="structudpif_html_adb4b3ce50c123ca824b83e11411360f1"><div class="ttname"><a href="structudpif.html#adb4b3ce50c123ca824b83e11411360f1">udpif::ukeys</a></div><div class="ttdeci">struct umap * ukeys</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:138</div></div>
<div class="ttc" id="ofproto-provider_8h_html_a1c6739cdb8286f25fcc43e18b7750e53"><div class="ttname"><a href="ofproto-provider_8h.html#a1c6739cdb8286f25fcc43e18b7750e53">n_revalidators</a></div><div class="ttdeci">size_t n_revalidators</div></div>
<div class="ttc" id="structudpif_html_a739470ac9fb0926a56e64506a92407c6"><div class="ttname"><a href="structudpif.html#a739470ac9fb0926a56e64506a92407c6">udpif::avg_n_flows</a></div><div class="ttdeci">unsigned int avg_n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:142</div></div>
<div class="ttc" id="dynamic-string_8c_html_a37180434ba345978ba55cd862482256a"><div class="ttname"><a href="dynamic-string_8c.html#a37180434ba345978ba55cd862482256a">ds_cstr</a></div><div class="ttdeci">char * ds_cstr(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:323</div></div>
<div class="ttc" id="dpif_8c_html_a9e16ea17790f54e9b156d460a82d3ddc"><div class="ttname"><a href="dpif_8c.html#a9e16ea17790f54e9b156d460a82d3ddc">dpif_name</a></div><div class="ttdeci">const char * dpif_name(const struct dpif *dpif)</div><div class="ttdef"><b>Definition:</b> dpif.c:450</div></div>
<div class="ttc" id="structudpif_html_a1a9dbd36d7b0f2095f4bbac67d0f6dd7"><div class="ttname"><a href="structudpif.html#a1a9dbd36d7b0f2095f4bbac67d0f6dd7">udpif::revalidators</a></div><div class="ttdeci">struct revalidator * revalidators</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:105</div></div>
<div class="ttc" id="structrevalidator_html_a4e8f8fcd6a2b95b5b53d83486a8d6da2"><div class="ttname"><a href="structrevalidator.html#a4e8f8fcd6a2b95b5b53d83486a8d6da2">revalidator::id</a></div><div class="ttdeci">unsigned int id</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:77</div></div>
<div class="ttc" id="structrevalidator_html"><div class="ttname"><a href="structrevalidator.html">revalidator</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:74</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="structumap_html_ac2ca3e5e7013f9caa8c791cd2911a9e3"><div class="ttname"><a href="structumap.html#ac2ca3e5e7013f9caa8c791cd2911a9e3">umap::cmap</a></div><div class="ttdeci">struct cmap cmap</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:69</div></div>
<div class="ttc" id="structudpif_html"><div class="ttname"><a href="structudpif.html">udpif</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:96</div></div>
<div class="ttc" id="dynamic-string_8c_html_ab600e7fc1f9337f26f8a8cb855724540"><div class="ttname"><a href="dynamic-string_8c.html#ab600e7fc1f9337f26f8a8cb855724540">ds_destroy</a></div><div class="ttdeci">void ds_destroy(struct ds *ds)</div><div class="ttdef"><b>Definition:</b> dynamic-string.c:350</div></div>
<div class="ttc" id="cmap_8c_html_a924145bb572cf5c7156b39adbe5d6f95"><div class="ttname"><a href="cmap_8c.html#a924145bb572cf5c7156b39adbe5d6f95">cmap_count</a></div><div class="ttdeci">size_t cmap_count(const struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:261</div></div>
<div class="ttc" id="structudpif_html_a9a2396f03ee46be96ac614690d902bc9"><div class="ttname"><a href="structudpif.html#a9a2396f03ee46be96ac614690d902bc9">udpif::dpif</a></div><div class="ttdeci">struct dpif * dpif</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:99</div></div>
<div class="ttc" id="structudpif_html_a8ff311bde57165b4348c5ed9a3e1b1a7"><div class="ttname"><a href="structudpif.html#a8ff311bde57165b4348c5ed9a3e1b1a7">udpif::max_n_flows</a></div><div class="ttdeci">unsigned int max_n_flows</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:141</div></div>
<div class="ttc" id="structudpif_html_a777c3fb80a61e56aa229675f277fc6e1"><div class="ttname"><a href="structudpif.html#a777c3fb80a61e56aa229675f277fc6e1">udpif::list_node</a></div><div class="ttdeci">struct ovs_list list_node</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:97</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a085b30803ccb04a25fb842f8ef755619"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a085b30803ccb04a25fb842f8ef755619">all_udpifs</a></div><div class="ttdeci">static struct ovs_list all_udpifs</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:275</div></div>
<div class="ttc" id="dynamic-string_8h_html_a4bbd1418d399ee854111b57562c98592"><div class="ttname"><a href="dynamic-string_8h.html#a4bbd1418d399ee854111b57562c98592">ds_put_char</a></div><div class="ttdeci">static void ds_put_char(struct ds *, char)</div><div class="ttdef"><b>Definition:</b> dynamic-string.h:83</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a7a52c113018932b24a5d87ff9becc04f"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a7a52c113018932b24a5d87ff9becc04f">udpif_get_n_flows</a></div><div class="ttdeci">static unsigned long udpif_get_n_flows(struct udpif *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:659</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_ae58404e5162804b6a562800c477cd990"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#ae58404e5162804b6a562800c477cd990">udpif_use_ufid</a></div><div class="ttdeci">static bool udpif_use_ufid(struct udpif *udpif)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:649</div></div>
<div class="ttc" id="structds_html"><div class="ttname"><a href="structds.html">ds</a></div><div class="ttdef"><b>Definition:</b> dynamic-string.h:35</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a77e18c945c4d8b7e38e6b1600d1723bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void upcall_xlate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structudpif.html">udpif</a> *&#160;</td>
          <td class="paramname"><em>udpif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structupcall.html">upcall</a> *&#160;</td>
          <td class="paramname"><em>upcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structofpbuf.html">ofpbuf</a> *&#160;</td>
          <td class="paramname"><em>odp_actions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *&#160;</td>
          <td class="paramname"><em>wc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;{</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdpif__flow__stats.html">dpif_flow_stats</a> stats;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keyword">struct </span><a class="code" href="structxlate__in.html">xlate_in</a> xin;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    stats.n_packets = 1;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    stats.n_bytes = <a class="code" href="dp-packet_8h.html#a13b150910c18bb874239510eb9e70d73">dp_packet_size</a>(upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    stats.used = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    stats.tcp_flags = <a class="code" href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a>(upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>-&gt;<a class="code" href="structflow.html#ac33a8db58b0103aedba4d4153c67bbb1">tcp_flags</a>);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="ofproto-dpif-xlate_8c.html#a5dcbc7380716bd7f7e7bb868d435e8f8">xlate_in_init</a>(&amp;xin, upcall-&gt;<a class="code" href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">ofproto</a>, upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>, upcall-&gt;<a class="code" href="structupcall.html#aa2032427ca8a23e7c86ce951921ee3fc">in_port</a>, NULL,</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                  stats.tcp_flags, upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>, wc, odp_actions);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">type</a> == <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a>) {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        xin.resubmit_stats = &amp;stats;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">if</span> (xin.recirc) {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            <span class="comment">/* We may install a datapath flow only if we get a reference to the</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">             * recirculation context (otherwise we could have recirculation</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">             * upcalls using recirculation ID for which no context can be</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">             * found).  We may still execute the flow&#39;s actions even if we</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">             * don&#39;t install the flow. */</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            upcall-&gt;<a class="code" href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">recirc</a> = xin.recirc;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;            upcall-&gt;<a class="code" href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">have_recirc_ref</a> = <a class="code" href="ofproto-dpif-rid_8h.html#ae0ef8a44b3b99d27de0b39a0b7908c15">recirc_id_node_try_ref_rcu</a>(xin.recirc);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="comment">/* For non-miss upcalls, we are either executing actions (one of which</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">         * is an userspace action) for an upcall, in which case the stats have</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">         * already been taken care of, or there&#39;s a flow in the datapath which</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">         * this packet was accounted to.  Presumably the revalidators will deal</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">         * with pushing its stats eventually. */</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a68c85b5f428ea1be79a183711779b5c3">dump_seq</a> = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">dump_seq</a>);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a31e6a2ba034a7bb5e48a04e23b5d8e09">reval_seq</a> = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(udpif-&gt;<a class="code" href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">reval_seq</a>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <a class="code" href="ofproto-dpif-xlate_8c.html#addf7e5d6f07206c70d31c4b43a1d7007">xlate_actions</a>(&amp;xin, &amp;upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    upcall-&gt;<a class="code" href="structupcall.html#a8955bc9bd13f7091ca02277eddb45698">xout_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">/* Special case for fail-open mode.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="comment">     * If we are in fail-open mode, but we are connected to a controller too,</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">     * then we should send the packet up to the controller in the hope that it</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">     * will try to set up a flow and thereby allow us to exit fail-open.</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">     * See the top-level comment in fail-open.c for more information.</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">     * Copy packets before they are modified by execution. */</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>.<a class="code" href="structxlate__out.html#a8cae1eab61eff6ed9685a146f980dea5">fail_open</a>) {</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structdp__packet.html">dp_packet</a> *<a class="code" href="structpacket.html">packet</a> = upcall-&gt;<a class="code" href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">packet</a>;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="keyword">struct </span><a class="code" href="structofproto__packet__in.html">ofproto_packet_in</a> *pin;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        pin = <a class="code" href="util_8c.html#a42ccfa6fc49cc4ce90cc44cd05052490">xmalloc</a>(<span class="keyword">sizeof</span> *pin);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">up</a>.<a class="code" href="structofputil__packet__in.html#a97ff2d38573634b02535d1b35c18044a">packet</a> = <a class="code" href="util_8c.html#a59bf054f3c354c3dca2c485a35beefe9">xmemdup</a>(<a class="code" href="dp-packet_8h.html#ab3b288b69ee7666ed69535bf7d926810">dp_packet_data</a>(packet), <a class="code" href="dp-packet_8h.html#a13b150910c18bb874239510eb9e70d73">dp_packet_size</a>(packet));</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">up</a>.<a class="code" href="structofputil__packet__in.html#aa705525d55a3c83485070f4be9ac0c76">packet_len</a> = <a class="code" href="dp-packet_8h.html#a13b150910c18bb874239510eb9e70d73">dp_packet_size</a>(packet);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">up</a>.<a class="code" href="structofputil__packet__in.html#acc9840857886b426c0df42e795ff34f9">reason</a> = <a class="code" href="openflow-common_8h.html#a55a105eb82a255ad76d02dda33517359aa7b6d012d60b0b104dfac54370984967">OFPR_NO_MATCH</a>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">up</a>.<a class="code" href="structofputil__packet__in.html#a4947c76a2d58072fe8fc776390bf9483">table_id</a> = 0;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">up</a>.<a class="code" href="structofputil__packet__in.html#a313edd0acb7153ee9186b2e5e81d9a5f">cookie</a> = <a class="code" href="include_2openvswitch_2types_8h.html#a0b6a85234d319e629914aa77a0ff7905">OVS_BE64_MAX</a>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <a class="code" href="lib_2flow_8c.html#a6ca6ed6146c890152b80b3be8e2b4e6b">flow_get_metadata</a>(upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>, &amp;pin-&gt;<a class="code" href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">up</a>.<a class="code" href="structofputil__packet__in.html#a8420df0052a1c4a0cbd327f3a6fb7814">flow_metadata</a>);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a567e4ec90834107c9fd340d580066737">send_len</a> = 0; <span class="comment">/* Not used for flow table misses. */</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        pin-&gt;<a class="code" href="structofproto__packet__in.html#a816fbbc7289cc55634b07319b817f489">miss_type</a> = <a class="code" href="connmgr_8h.html#a939399d4efc67b7e2c31693db1866001a066a5b794f50390b5a09ec00c9e64eeb">OFPROTO_PACKET_IN_NO_MISS</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <a class="code" href="ofproto-dpif_8c.html#ae9301748798e07d072d3324ccb8527e3">ofproto_dpif_send_packet_in</a>(upcall-&gt;<a class="code" href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">ofproto</a>, pin);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (!upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>.<a class="code" href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">slow</a>) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <a class="code" href="ofpbuf_8c.html#a5f7fcd8e899f80b2aa6def36faf63c36">ofpbuf_use_const</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>,</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                         odp_actions-&gt;<a class="code" href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">data</a>, odp_actions-&gt;<a class="code" href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">size</a>);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <a class="code" href="ofpbuf_8c.html#a585ed00d16419cc92514dbad782cc344">ofpbuf_init</a>(&amp;upcall-&gt;<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>, 0);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <a class="code" href="ofproto-dpif-upcall_8c.html#abc645662d87fb92cf6ac6eeca4ccc2af">compose_slow_path</a>(udpif, &amp;upcall-&gt;<a class="code" href="structupcall.html#a42991360913a8905d15dfc420548ff04">xout</a>, upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>,</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                          upcall-&gt;<a class="code" href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">flow</a>-&gt;<a class="code" href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">in_port</a>.<a class="code" href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">odp_port</a>,</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                          &amp;upcall-&gt;<a class="code" href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">put_actions</a>);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">/* This function is also called for slow-pathed flows.  As we are only</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">     * going to create new datapath flows for actual datapath misses, there is</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">     * no point in creating a ukey otherwise. */</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (upcall-&gt;<a class="code" href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">type</a> == <a class="code" href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a>) {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        upcall-&gt;<a class="code" href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">ukey</a> = <a class="code" href="ofproto-dpif-upcall_8c.html#a5acf3ed7c69e2644fc3cfed6afc74c1d">ukey_create_from_upcall</a>(upcall, wc);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;}</div>
<div class="ttc" id="structxlate__out_html_a8cae1eab61eff6ed9685a146f980dea5"><div class="ttname"><a href="structxlate__out.html#a8cae1eab61eff6ed9685a146f980dea5">xlate_out::fail_open</a></div><div class="ttdeci">bool fail_open</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:42</div></div>
<div class="ttc" id="structudpif_html_a3faa9d05440e5274ba05f35d6abd5734"><div class="ttname"><a href="structudpif.html#a3faa9d05440e5274ba05f35d6abd5734">udpif::reval_seq</a></div><div class="ttdeci">struct seq * reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:111</div></div>
<div class="ttc" id="structofputil__packet__in_html_a313edd0acb7153ee9186b2e5e81d9a5f"><div class="ttname"><a href="structofputil__packet__in.html#a313edd0acb7153ee9186b2e5e81d9a5f">ofputil_packet_in::cookie</a></div><div class="ttdeci">ovs_be64 cookie</div><div class="ttdef"><b>Definition:</b> ofp-util.h:434</div></div>
<div class="ttc" id="structupcall_html_aaca2bd05b9067b91112f2d102a3cb481"><div class="ttname"><a href="structupcall.html#aaca2bd05b9067b91112f2d102a3cb481">upcall::type</a></div><div class="ttdeci">enum dpif_upcall_type type</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:187</div></div>
<div class="ttc" id="ofpbuf_8c_html_a585ed00d16419cc92514dbad782cc344"><div class="ttname"><a href="ofpbuf_8c.html#a585ed00d16419cc92514dbad782cc344">ofpbuf_init</a></div><div class="ttdeci">void ofpbuf_init(struct ofpbuf *b, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:122</div></div>
<div class="ttc" id="Util_8h_html_a827f490ed828316d1d8f92e5c4f14cdc"><div class="ttname"><a href="Util_8h.html#a827f490ed828316d1d8f92e5c4f14cdc">ntohs</a></div><div class="ttdeci">#define ntohs(_x)</div><div class="ttdef"><b>Definition:</b> Util.h:74</div></div>
<div class="ttc" id="structudpif_html_a68e250d6272582059333aaeb44d9bea4"><div class="ttname"><a href="structudpif.html#a68e250d6272582059333aaeb44d9bea4">udpif::dump_seq</a></div><div class="ttdeci">struct seq * dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:116</div></div>
<div class="ttc" id="structdp__packet_html"><div class="ttname"><a href="structdp__packet.html">dp_packet</a></div><div class="ttdef"><b>Definition:</b> dp-packet.h:42</div></div>
<div class="ttc" id="ofpbuf_8c_html_a5f7fcd8e899f80b2aa6def36faf63c36"><div class="ttname"><a href="ofpbuf_8c.html#a5f7fcd8e899f80b2aa6def36faf63c36">ofpbuf_use_const</a></div><div class="ttdeci">void ofpbuf_use_const(struct ofpbuf *b, const void *data, size_t size)</div><div class="ttdef"><b>Definition:</b> ofpbuf.c:114</div></div>
<div class="ttc" id="structofputil__packet__in_html_a8420df0052a1c4a0cbd327f3a6fb7814"><div class="ttname"><a href="structofputil__packet__in.html#a8420df0052a1c4a0cbd327f3a6fb7814">ofputil_packet_in::flow_metadata</a></div><div class="ttdeci">struct match flow_metadata</div><div class="ttdef"><b>Definition:</b> ofp-util.h:416</div></div>
<div class="ttc" id="structofproto__packet__in_html_a10d4800ce564302c6c471b859bd09616"><div class="ttname"><a href="structofproto__packet__in.html#a10d4800ce564302c6c471b859bd09616">ofproto_packet_in::up</a></div><div class="ttdeci">struct ofputil_packet_in up</div><div class="ttdef"><b>Definition:</b> connmgr.h:78</div></div>
<div class="ttc" id="structxlate__in_html"><div class="ttname"><a href="structxlate__in.html">xlate_in</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:106</div></div>
<div class="ttc" id="structofpbuf_html_aedbbd438e5fe9648aa0ee9ff0130879f"><div class="ttname"><a href="structofpbuf.html#aedbbd438e5fe9648aa0ee9ff0130879f">ofpbuf::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:58</div></div>
<div class="ttc" id="openflow-common_8h_html_a55a105eb82a255ad76d02dda33517359aa7b6d012d60b0b104dfac54370984967"><div class="ttname"><a href="openflow-common_8h.html#a55a105eb82a255ad76d02dda33517359aa7b6d012d60b0b104dfac54370984967">OFPR_NO_MATCH</a></div><div class="ttdef"><b>Definition:</b> openflow-common.h:271</div></div>
<div class="ttc" id="structupcall_html_aa2532261bb0f7a55630d595546b6d7a6"><div class="ttname"><a href="structupcall.html#aa2532261bb0f7a55630d595546b6d7a6">upcall::packet</a></div><div class="ttdeci">const struct dp_packet * packet</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:184</div></div>
<div class="ttc" id="structupcall_html_a68c85b5f428ea1be79a183711779b5c3"><div class="ttname"><a href="structupcall.html#a68c85b5f428ea1be79a183711779b5c3">upcall::dump_seq</a></div><div class="ttdeci">uint64_t dump_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:207</div></div>
<div class="ttc" id="structxlate__out_html_a7c0ec7709dd59f1b8137c13658956b06"><div class="ttname"><a href="structxlate__out.html#a7c0ec7709dd59f1b8137c13658956b06">xlate_out::slow</a></div><div class="ttdeci">enum slow_path_reason slow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.h:41</div></div>
<div class="ttc" id="include_2openvswitch_2types_8h_html_a0b6a85234d319e629914aa77a0ff7905"><div class="ttname"><a href="include_2openvswitch_2types_8h.html#a0b6a85234d319e629914aa77a0ff7905">OVS_BE64_MAX</a></div><div class="ttdeci">#define OVS_BE64_MAX</div><div class="ttdef"><b>Definition:</b> types.h:39</div></div>
<div class="ttc" id="structofproto__packet__in_html_a567e4ec90834107c9fd340d580066737"><div class="ttname"><a href="structofproto__packet__in.html#a567e4ec90834107c9fd340d580066737">ofproto_packet_in::send_len</a></div><div class="ttdeci">int send_len</div><div class="ttdef"><b>Definition:</b> connmgr.h:81</div></div>
<div class="ttc" id="util_8c_html_a42ccfa6fc49cc4ce90cc44cd05052490"><div class="ttname"><a href="util_8c.html#a42ccfa6fc49cc4ce90cc44cd05052490">xmalloc</a></div><div class="ttdeci">void * xmalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:110</div></div>
<div class="ttc" id="structupcall_html_a842c362fe022c48f378a9ba866ee69e0"><div class="ttname"><a href="structupcall.html#a842c362fe022c48f378a9ba866ee69e0">upcall::recirc</a></div><div class="ttdeci">const struct recirc_id_node * recirc</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:175</div></div>
<div class="ttc" id="dp-packet_8h_html_ab3b288b69ee7666ed69535bf7d926810"><div class="ttname"><a href="dp-packet_8h.html#ab3b288b69ee7666ed69535bf7d926810">dp_packet_data</a></div><div class="ttdeci">static void * dp_packet_data(const struct dp_packet *)</div><div class="ttdef"><b>Definition:</b> dp-packet.h:493</div></div>
<div class="ttc" id="structupcall_html_ae8083eb5ded20bf1544db253e1ad0c8b"><div class="ttname"><a href="structupcall.html#ae8083eb5ded20bf1544db253e1ad0c8b">upcall::flow</a></div><div class="ttdeci">const struct flow * flow</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:181</div></div>
<div class="ttc" id="structofputil__packet__in_html_acc9840857886b426c0df42e795ff34f9"><div class="ttname"><a href="structofputil__packet__in.html#acc9840857886b426c0df42e795ff34f9">ofputil_packet_in::reason</a></div><div class="ttdeci">enum ofp_packet_in_reason reason</div><div class="ttdef"><b>Definition:</b> ofp-util.h:427</div></div>
<div class="ttc" id="ofproto-dpif_8c_html_ae9301748798e07d072d3324ccb8527e3"><div class="ttname"><a href="ofproto-dpif_8c.html#ae9301748798e07d072d3324ccb8527e3">ofproto_dpif_send_packet_in</a></div><div class="ttdeci">void ofproto_dpif_send_packet_in(struct ofproto_dpif *ofproto, struct ofproto_packet_in *pin)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif.c:406</div></div>
<div class="ttc" id="structupcall_html_ab999e1ce57b35244dd78ef62f9ad1d55"><div class="ttname"><a href="structupcall.html#ab999e1ce57b35244dd78ef62f9ad1d55">upcall::ukey</a></div><div class="ttdeci">struct udpif_key * ukey</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:203</div></div>
<div class="ttc" id="structupcall_html_a8955bc9bd13f7091ca02277eddb45698"><div class="ttname"><a href="structupcall.html#a8955bc9bd13f7091ca02277eddb45698">upcall::xout_initialized</a></div><div class="ttdeci">bool xout_initialized</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:191</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="structpacket_html"><div class="ttname"><a href="structpacket.html">packet</a></div><div class="ttdef"><b>Definition:</b> pktbuf.c:50</div></div>
<div class="ttc" id="unionflow__in__port_html_abfaef88e731beec19f75dd6114ed9a6c"><div class="ttname"><a href="unionflow__in__port.html#abfaef88e731beec19f75dd6114ed9a6c">flow_in_port::odp_port</a></div><div class="ttdeci">odp_port_t odp_port</div><div class="ttdef"><b>Definition:</b> packets.h:115</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_addf7e5d6f07206c70d31c4b43a1d7007"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#addf7e5d6f07206c70d31c4b43a1d7007">xlate_actions</a></div><div class="ttdeci">void xlate_actions(struct xlate_in *xin, struct xlate_out *xout)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4749</div></div>
<div class="ttc" id="ofproto-dpif-rid_8h_html_ae0ef8a44b3b99d27de0b39a0b7908c15"><div class="ttname"><a href="ofproto-dpif-rid_8h.html#ae0ef8a44b3b99d27de0b39a0b7908c15">recirc_id_node_try_ref_rcu</a></div><div class="ttdeci">static bool recirc_id_node_try_ref_rcu(const struct recirc_id_node *n_)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-rid.h:187</div></div>
<div class="ttc" id="structofpbuf_html_a1171f1a76990e2d30371ecfd67c7223a"><div class="ttname"><a href="structofpbuf.html#a1171f1a76990e2d30371ecfd67c7223a">ofpbuf::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> ofpbuf.h:57</div></div>
<div class="ttc" id="structofproto__packet__in_html"><div class="ttname"><a href="structofproto__packet__in.html">ofproto_packet_in</a></div><div class="ttdef"><b>Definition:</b> connmgr.h:77</div></div>
<div class="ttc" id="structofputil__packet__in_html_a4947c76a2d58072fe8fc776390bf9483"><div class="ttname"><a href="structofputil__packet__in.html#a4947c76a2d58072fe8fc776390bf9483">ofputil_packet_in::table_id</a></div><div class="ttdeci">uint8_t table_id</div><div class="ttdef"><b>Definition:</b> ofp-util.h:433</div></div>
<div class="ttc" id="lib_2flow_8c_html_a6ca6ed6146c890152b80b3be8e2b4e6b"><div class="ttname"><a href="lib_2flow_8c.html#a6ca6ed6146c890152b80b3be8e2b4e6b">flow_get_metadata</a></div><div class="ttdeci">void flow_get_metadata(const struct flow *flow, struct match *flow_metadata)</div><div class="ttdef"><b>Definition:</b> flow.c:793</div></div>
<div class="ttc" id="structupcall_html_a42991360913a8905d15dfc420548ff04"><div class="ttname"><a href="structupcall.html#a42991360913a8905d15dfc420548ff04">upcall::xout</a></div><div class="ttdeci">struct xlate_out xout</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:192</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_a5acf3ed7c69e2644fc3cfed6afc74c1d"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#a5acf3ed7c69e2644fc3cfed6afc74c1d">ukey_create_from_upcall</a></div><div class="ttdeci">static struct udpif_key * ukey_create_from_upcall(struct upcall *, struct flow_wildcards *)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:1479</div></div>
<div class="ttc" id="dpif_8h_html_a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55"><div class="ttname"><a href="dpif_8h.html#a012cba59c2368e2699682c19f818487faff6f6cd104efe2e3a515b547c3d97f55">DPIF_UC_MISS</a></div><div class="ttdef"><b>Definition:</b> dpif.h:760</div></div>
<div class="ttc" id="dp-packet_8h_html_a13b150910c18bb874239510eb9e70d73"><div class="ttname"><a href="dp-packet_8h.html#a13b150910c18bb874239510eb9e70d73">dp_packet_size</a></div><div class="ttdeci">static uint32_t dp_packet_size(const struct dp_packet *)</div><div class="ttdef"><b>Definition:</b> dp-packet.h:456</div></div>
<div class="ttc" id="structofputil__packet__in_html_a97ff2d38573634b02535d1b35c18044a"><div class="ttname"><a href="structofputil__packet__in.html#a97ff2d38573634b02535d1b35c18044a">ofputil_packet_in::packet</a></div><div class="ttdeci">const void * packet</div><div class="ttdef"><b>Definition:</b> ofp-util.h:413</div></div>
<div class="ttc" id="util_8c_html_a59bf054f3c354c3dca2c485a35beefe9"><div class="ttname"><a href="util_8c.html#a59bf054f3c354c3dca2c485a35beefe9">xmemdup</a></div><div class="ttdeci">void * xmemdup(const void *p_, size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:132</div></div>
<div class="ttc" id="ofproto-dpif-upcall_8c_html_abc645662d87fb92cf6ac6eeca4ccc2af"><div class="ttname"><a href="ofproto-dpif-upcall_8c.html#abc645662d87fb92cf6ac6eeca4ccc2af">compose_slow_path</a></div><div class="ttdeci">static void compose_slow_path(struct udpif *udpif, struct xlate_out *xout, const struct flow *flow, odp_port_t odp_in_port, struct ofpbuf *buf)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:952</div></div>
<div class="ttc" id="connmgr_8h_html_a939399d4efc67b7e2c31693db1866001a066a5b794f50390b5a09ec00c9e64eeb"><div class="ttname"><a href="connmgr_8h.html#a939399d4efc67b7e2c31693db1866001a066a5b794f50390b5a09ec00c9e64eeb">OFPROTO_PACKET_IN_NO_MISS</a></div><div class="ttdef"><b>Definition:</b> connmgr.h:59</div></div>
<div class="ttc" id="structupcall_html_a4638c1e8228df5d6f361e04aef598d85"><div class="ttname"><a href="structupcall.html#a4638c1e8228df5d6f361e04aef598d85">upcall::put_actions</a></div><div class="ttdeci">struct ofpbuf put_actions</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:195</div></div>
<div class="ttc" id="ofproto-dpif-xlate_8c_html_a5dcbc7380716bd7f7e7bb868d435e8f8"><div class="ttname"><a href="ofproto-dpif-xlate_8c.html#a5dcbc7380716bd7f7e7bb868d435e8f8">xlate_in_init</a></div><div class="ttdeci">void xlate_in_init(struct xlate_in *xin, struct ofproto_dpif *ofproto, const struct flow *flow, ofp_port_t in_port, struct rule_dpif *rule, uint16_t tcp_flags, const struct dp_packet *packet, struct flow_wildcards *wc, struct ofpbuf *odp_actions)</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-xlate.c:4514</div></div>
<div class="ttc" id="structdpif__flow__stats_html"><div class="ttname"><a href="structdpif__flow__stats.html">dpif_flow_stats</a></div><div class="ttdef"><b>Definition:</b> dpif.h:501</div></div>
<div class="ttc" id="structupcall_html_ae616749296f4166749b6d0f5497ac5ee"><div class="ttname"><a href="structupcall.html#ae616749296f4166749b6d0f5497ac5ee">upcall::have_recirc_ref</a></div><div class="ttdeci">bool have_recirc_ref</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:176</div></div>
<div class="ttc" id="structupcall_html_a31e6a2ba034a7bb5e48a04e23b5d8e09"><div class="ttname"><a href="structupcall.html#a31e6a2ba034a7bb5e48a04e23b5d8e09">upcall::reval_seq</a></div><div class="ttdeci">uint64_t reval_seq</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:208</div></div>
<div class="ttc" id="structofproto__packet__in_html_a816fbbc7289cc55634b07319b817f489"><div class="ttname"><a href="structofproto__packet__in.html#a816fbbc7289cc55634b07319b817f489">ofproto_packet_in::miss_type</a></div><div class="ttdeci">enum ofproto_packet_in_miss_type miss_type</div><div class="ttdef"><b>Definition:</b> connmgr.h:82</div></div>
<div class="ttc" id="structupcall_html_aa2032427ca8a23e7c86ce951921ee3fc"><div class="ttname"><a href="structupcall.html#aa2032427ca8a23e7c86ce951921ee3fc">upcall::in_port</a></div><div class="ttdeci">ofp_port_t in_port</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:185</div></div>
<div class="ttc" id="structflow_html_ac33a8db58b0103aedba4d4153c67bbb1"><div class="ttname"><a href="structflow.html#ac33a8db58b0103aedba4d4153c67bbb1">flow::tcp_flags</a></div><div class="ttdeci">ovs_be16 tcp_flags</div><div class="ttdef"><b>Definition:</b> flow.h:129</div></div>
<div class="ttc" id="structupcall_html_ae5eb35b7e5675708a42b59f3794312ea"><div class="ttname"><a href="structupcall.html#ae5eb35b7e5675708a42b59f3794312ea">upcall::ofproto</a></div><div class="ttdeci">struct ofproto_dpif * ofproto</div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:174</div></div>
<div class="ttc" id="structflow_html_a534e413e5a768896ec0bd3771ab99b67"><div class="ttname"><a href="structflow.html#a534e413e5a768896ec0bd3771ab99b67">flow::in_port</a></div><div class="ttdeci">union flow_in_port in_port</div><div class="ttdef"><b>Definition:</b> flow.h:103</div></div>
<div class="ttc" id="structofputil__packet__in_html_aa705525d55a3c83485070f4be9ac0c76"><div class="ttname"><a href="structofputil__packet__in.html#aa705525d55a3c83485070f4be9ac0c76">ofputil_packet_in::packet_len</a></div><div class="ttdeci">size_t packet_len</div><div class="ttdef"><b>Definition:</b> ofp-util.h:414</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59e99b847a2ecd33190cb861bb795223"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLOG_DEFINE_THIS_MODULE </td>
          <td>(</td>
          <td class="paramtype">ofproto_dpif_upcall&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a085b30803ccb04a25fb842f8ef755619"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structovs__list.html">ovs_list</a> all_udpifs = <a class="el" href="include_2openvswitch_2list_8h.html#a1b74de566d699423f98eab237234dba3">OVS_LIST_INITIALIZER</a>(&amp;all_udpifs)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3a8c33f4ee83b76dcf4f27b255e29374"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpif_8h.html#a000218808302d1b0caa3ca84ca1f359a">dp_purge_callback</a> dp_purge_cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0544c3fe466e421738dae463968b70ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">        <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;new_ukey-&gt;mutex)</div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac4837f22870b85206e09be4e1371c2cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_bool enable_megaflows = <a class="el" href="ovs-atomic-x86__64_8h.html#a986e6b34bc25797b632d1bf9b0b2c6e1">ATOMIC_VAR_INIT</a>(true)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6ce8ceb8e30822d8ee1b977964b44cca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_bool enable_ufid = <a class="el" href="ovs-atomic-x86__64_8h.html#a986e6b34bc25797b632d1bf9b0b2c6e1">ATOMIC_VAR_INIT</a>(true)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49654e4709f40aecccada266daa32fc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">idx = new_ukey-&gt;hash % <a class="el" href="ofproto-dpif-upcall_8c.html#a2a125f021693d2915283c28e11900178">N_UMAPS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4694448506513db6173803ebe4226664"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">return locked = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2060804f135d7a1e34104210c570728"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> new_ukey mutex</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structumap.html">umap</a> *<a class="code" href="structumap.html">umap</a></div>
<div class="ttc" id="structumap_html"><div class="ttname"><a href="structumap.html">umap</a></div><div class="ttdef"><b>Definition:</b> ofproto-dpif-upcall.c:67</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0ebbd166ae5b3d0312ae0b7b272047c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">old_ukey = <a class="el" href="ofproto-dpif-upcall_8c.html#aa56ea9de515c982b2bfd9ba9fbcd86bc">ukey_lookup</a>(<a class="el" href="structudpif.html">udpif</a>, &amp;new_ukey-&gt;ufid)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c9348c27442ef5e4a96246373ad6c6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvlog__rate__limit.html">vlog_rate_limit</a> rl = <a class="el" href="vlog_8h.html#acf0c288e03cbc9a98df73db8698abdd8">VLOG_RATE_LIMIT_INIT</a>(1, 5)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a034dca3ce948e2f549d311004d55e241"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a> &amp; <a class="el" href="structumap.html">umap</a> = &amp;<a class="el" href="structudpif.html">udpif</a>-&gt;ukeys[<a class="el" href="ofproto-dpif-upcall_8c.html#a49654e4709f40aecccada266daa32fc6">idx</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa47539176cd7a319cc9da3cbcf8e0941"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dpif_8h.html#a6962bf6593864e12f58e4570a173adbd">upcall_callback</a> upcall_cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_8c05451f8e80e36d84c622e2e1ad6b29.html">ofproto</a></li><li class="navelem"><a class="el" href="ofproto-dpif-upcall_8c.html">ofproto-dpif-upcall.c</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:07:56 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
