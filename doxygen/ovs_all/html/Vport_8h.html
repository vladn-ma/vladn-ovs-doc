<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/datapath-windows/ovsext/Vport.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Vport_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Vport.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="Switch_8h_source.html">Switch.h</a>&quot;</code><br />
<code>#include &quot;VxLan.h&quot;</code><br />
<code>#include &quot;<a class="el" href="Stt_8h_source.html">Stt.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Vport.h:</div>
<div class="dyncontent">
<div class="center"><img src="Vport_8h__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2datapath-windows_2ovsext_2Vport_8h" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2datapath-windows_2ovsext_2Vport_8h" id="_2home_2vladn_2git_2ovs_2datapath-windows_2ovsext_2Vport_8h">
<area shape="rect" id="node2" href="Switch_8h.html" title="Switch.h" alt="" coords="877,109,951,136"/><area shape="rect" id="node26" href="Stt_8h.html" title="Stt.h" alt="" coords="1070,109,1121,136"/><area shape="rect" id="node3" href="NetProto_8h.html" title="NetProto.h" alt="" coords="754,184,839,211"/><area shape="rect" id="node23" href="BufferMgmt_8h.html" title="BufferMgmt.h" alt="" coords="863,184,965,211"/><area shape="rect" id="node24" href="TunnelIntf_8h.html" title="TunnelIntf.h" alt="" coords="989,184,1079,211"/><area shape="rect" id="node4" href="precomp_8h.html" title="precomp.h" alt="" coords="702,259,785,285"/><area shape="rect" id="node22" href="Ethernet_8h.html" title="Ethernet.h" alt="" coords="809,259,891,285"/><area shape="rect" id="node11" href="Types_8h.html" title="Types.h" alt="" coords="1066,572,1135,599"/><area shape="rect" id="node13" href="Util_8h.html" title="Util.h" alt="" coords="859,341,913,367"/><area shape="rect" id="node14" href="NetlinkError_8h.html" title="Netlink/NetlinkError.h" alt="" coords="937,341,1083,367"/><area shape="rect" id="node15" href="Netlink_8h.html" title="Netlink/Netlink.h" alt="" coords="1197,423,1316,449"/><area shape="rect" id="node16" href="NetlinkProto_8h.html" title="NetlinkProto.h" alt="" coords="1048,497,1153,524"/><area shape="rect" id="node20" href="DpInternal_8h.html" title="DpInternal.h" alt="" coords="1403,341,1497,367"/><area shape="rect" id="node17" href="NetlinkBuf_8h.html" title="NetlinkBuf.h" alt="" coords="1229,497,1324,524"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="Vport_8h__dep__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2datapath-windows_2ovsext_2Vport_8hdep" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2datapath-windows_2ovsext_2Vport_8hdep" id="_2home_2vladn_2git_2ovs_2datapath-windows_2ovsext_2Vport_8hdep">
<area shape="rect" id="node2" href="Actions_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Actions.c" alt="" coords="5,109,180,165"/><area shape="rect" id="node3" href="Datapath_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Datapath.c" alt="" coords="204,109,379,165"/><area shape="rect" id="node4" href="Event_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Event.c" alt="" coords="403,109,577,165"/><area shape="rect" id="node5" href="Oid_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext/Oid.c" alt="" coords="601,117,811,158"/><area shape="rect" id="node6" href="PacketIO_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/PacketIO.c" alt="" coords="835,109,1009,165"/><area shape="rect" id="node7" href="Stt_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext/Stt.c" alt="" coords="1033,117,1240,158"/><area shape="rect" id="node8" href="Switch_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Switch.c" alt="" coords="1264,109,1439,165"/><area shape="rect" id="node9" href="Tunnel_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Tunnel.c" alt="" coords="1463,109,1637,165"/><area shape="rect" id="node10" href="TunnelFilter_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/TunnelFilter.c" alt="" coords="1661,109,1836,165"/><area shape="rect" id="node11" href="User_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/User.c" alt="" coords="1860,109,2035,165"/><area shape="rect" id="node12" href="Vport_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Vport.c" alt="" coords="2059,109,2233,165"/><area shape="rect" id="node13" href="Vxlan_8c.html" title="/home/vladn/git/ovs\l/datapath&#45;windows/ovsext\l/Vxlan.c" alt="" coords="2257,109,2432,165"/></map>
</div>
</div>
<p><a href="Vport_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__OVS__VPORT__STATS.html">_OVS_VPORT_STATS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__OVS__VPORT__ERR__STATS.html">_OVS_VPORT_ERR_STATS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__OVS__VPORT__FULL__STATS.html">_OVS_VPORT_FULL_STATS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1521abca12e4066359a44a8208e990bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a1521abca12e4066359a44a8208e990bb">OVS_MAX_DPPORTS</a>&#160;&#160;&#160;MAXUINT16</td></tr>
<tr class="separator:a1521abca12e4066359a44a8208e990bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d1db4e6e156a4c4c99da1b5cbb4f04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a>&#160;&#160;&#160;<a class="el" href="Vport_8h.html#a1521abca12e4066359a44a8208e990bb">OVS_MAX_DPPORTS</a></td></tr>
<tr class="separator:ab1d1db4e6e156a4c4c99da1b5cbb4f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8c8f74b299f1a5c397e1e3e068ca726"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ac8c8f74b299f1a5c397e1e3e068ca726">OVS_DPPORT_NUMBER_LOCAL</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ac8c8f74b299f1a5c397e1e3e068ca726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb3f392042222a0f697da05a6abe360"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a7eb3f392042222a0f697da05a6abe360">OVS_DPPORT_INTERNAL_NAME_A</a>&#160;&#160;&#160;&quot;internal&quot;</td></tr>
<tr class="separator:a7eb3f392042222a0f697da05a6abe360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a110c8faa3813ec90e05f349fa0bbf9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a3a110c8faa3813ec90e05f349fa0bbf9">OVS_DPPORT_INTERNAL_NAME_W</a>&#160;&#160;&#160;<a class="el" href="meta-flow_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>&quot;internal&quot;</td></tr>
<tr class="separator:a3a110c8faa3813ec90e05f349fa0bbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade75a18f101ae97aa9c4fbb0ddea74c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ade75a18f101ae97aa9c4fbb0ddea74c9">OVS_DPPORT_EXTERNAL_NAME_A</a>&#160;&#160;&#160;&quot;external&quot;</td></tr>
<tr class="separator:ade75a18f101ae97aa9c4fbb0ddea74c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b534a82134f38cf3c9c121bf4e74135"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a3b534a82134f38cf3c9c121bf4e74135">OVS_DPPORT_EXTERNAL_NAME_W</a>&#160;&#160;&#160;<a class="el" href="meta-flow_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>&quot;external&quot;</td></tr>
<tr class="separator:a3b534a82134f38cf3c9c121bf4e74135"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2d92341a06ba403e64e84f2e3459146c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__OVS__VPORT__STATS.html">_OVS_VPORT_STATS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a2d92341a06ba403e64e84f2e3459146c">OVS_VPORT_STATS</a></td></tr>
<tr class="separator:a2d92341a06ba403e64e84f2e3459146c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5150b54713cbddd9d65e394e97fb5cc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__OVS__VPORT__ERR__STATS.html">_OVS_VPORT_ERR_STATS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ac5150b54713cbddd9d65e394e97fb5cc">OVS_VPORT_ERR_STATS</a></td></tr>
<tr class="separator:ac5150b54713cbddd9d65e394e97fb5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c956547b85efb61c9f98b7b9e9e8fd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__OVS__VPORT__FULL__STATS.html">_OVS_VPORT_FULL_STATS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a75c956547b85efb61c9f98b7b9e9e8fd">OVS_VPORT_FULL_STATS</a></td></tr>
<tr class="separator:a75c956547b85efb61c9f98b7b9e9e8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3049b24a6f18f8aba1e23ca99242d69d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a3049b24a6f18f8aba1e23ca99242d69d">OVS_VPORT_ENTRY</a></td></tr>
<tr class="separator:a3049b24a6f18f8aba1e23ca99242d69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2014e280a5bf560ef281355b73d02c14"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a2014e280a5bf560ef281355b73d02c14">POVS_VPORT_ENTRY</a></td></tr>
<tr class="separator:a2014e280a5bf560ef281355b73d02c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abb7621346fd1817c79de758a7fa38500"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500">OVS_VPORT_STATE</a> { <br />
&#160;&#160;<a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf">OVS_STATE_UNKNOWN</a>, 
<a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a>, 
<a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a>, 
<a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a>, 
<br />
&#160;&#160;<a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc">OVS_STATE_PORT_TEAR_DOWN</a>, 
<a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a18f5d18a42973f1011c1171fffc12aeb">OVS_STATE_PORT_DELETED</a>
<br />
 }</td></tr>
<tr class="separator:abb7621346fd1817c79de758a7fa38500"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a090f0c9c725e5a23d2e1a968b7d9f7ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a090f0c9c725e5a23d2e1a968b7d9f7ae">OvsFindVportByPortNo</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, UINT32 portNo)</td></tr>
<tr class="separator:a090f0c9c725e5a23d2e1a968b7d9f7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b1bcf9f40b33a92023a597c4886c3aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a0b1bcf9f40b33a92023a597c4886c3aa">OvsFindVportByOvsName</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PSTR name)</td></tr>
<tr class="separator:a0b1bcf9f40b33a92023a597c4886c3aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e310b20a6deebddb71ffbabb053b36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a17e310b20a6deebddb71ffbabb053b36">OvsFindVportByHvNameA</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PSTR name)</td></tr>
<tr class="separator:a17e310b20a6deebddb71ffbabb053b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17cc616b760eefd28b8465a9ad9bdfb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</td></tr>
<tr class="separator:ab17cc616b760eefd28b8465a9ad9bdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838a6bad6a5e3ad7fdfa4d80e231484c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a838a6bad6a5e3ad7fdfa4d80e231484c">OvsFindTunnelVportByDstPort</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, UINT16 dstPort, <a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a> ovsVportType)</td></tr>
<tr class="separator:a838a6bad6a5e3ad7fdfa4d80e231484c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56761bb218767bd1391c8bd5a18855b"><td class="memItemLeft" align="right" valign="top">NDIS_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#af56761bb218767bd1391c8bd5a18855b">OvsAddConfiguredSwitchPorts</a> (struct <a class="el" href="struct__OVS__SWITCH__CONTEXT.html">_OVS_SWITCH_CONTEXT</a> *switchContext)</td></tr>
<tr class="separator:af56761bb218767bd1391c8bd5a18855b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a219fd07235f49b8d7031bfc6313498"><td class="memItemLeft" align="right" valign="top">NDIS_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a9a219fd07235f49b8d7031bfc6313498">OvsInitConfiguredSwitchNics</a> (struct <a class="el" href="struct__OVS__SWITCH__CONTEXT.html">_OVS_SWITCH_CONTEXT</a> *switchContext)</td></tr>
<tr class="separator:a9a219fd07235f49b8d7031bfc6313498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106d97870f5e729f829f65943539ceb8"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a106d97870f5e729f829f65943539ceb8">OvsClearAllSwitchVports</a> (struct <a class="el" href="struct__OVS__SWITCH__CONTEXT.html">_OVS_SWITCH_CONTEXT</a> *switchContext)</td></tr>
<tr class="separator:a106d97870f5e729f829f65943539ceb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ad0d1a51ae0353065c9998a009c1fd"><td class="memItemLeft" align="right" valign="top">NDIS_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a39ad0d1a51ae0353065c9998a009c1fd">HvCreateNic</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_NIC_PARAMETERS nicParam)</td></tr>
<tr class="separator:a39ad0d1a51ae0353065c9998a009c1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a1a0e87aa1564ac6cc654ff5ade7f4"><td class="memItemLeft" align="right" valign="top">NDIS_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a68a1a0e87aa1564ac6cc654ff5ade7f4">HvCreatePort</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_PORT_PARAMETERS portParam)</td></tr>
<tr class="separator:a68a1a0e87aa1564ac6cc654ff5ade7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af992899df255a772e5ad4f1828d28e64"><td class="memItemLeft" align="right" valign="top">NDIS_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#af992899df255a772e5ad4f1828d28e64">HvUpdatePort</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_PORT_PARAMETERS portParam)</td></tr>
<tr class="separator:af992899df255a772e5ad4f1828d28e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ebc3002c437a9ee6505a219872360b"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a04ebc3002c437a9ee6505a219872360b">HvTeardownPort</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_PORT_PARAMETERS portParam)</td></tr>
<tr class="separator:a04ebc3002c437a9ee6505a219872360b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc20cba6f8b13dee71c8eb346b3ded5"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a2bc20cba6f8b13dee71c8eb346b3ded5">HvDeletePort</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_PORT_PARAMETERS portParam)</td></tr>
<tr class="separator:a2bc20cba6f8b13dee71c8eb346b3ded5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2748ff6de7eb5b8bed3704e61da3c2e7"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a2748ff6de7eb5b8bed3704e61da3c2e7">HvConnectNic</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_NIC_PARAMETERS nicParam)</td></tr>
<tr class="separator:a2748ff6de7eb5b8bed3704e61da3c2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bcbe970c3ad7407e13d5fffd345f288"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a6bcbe970c3ad7407e13d5fffd345f288">HvUpdateNic</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_NIC_PARAMETERS nicParam)</td></tr>
<tr class="separator:a6bcbe970c3ad7407e13d5fffd345f288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e98590d5cb72ac8519df90d87a57f03"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a8e98590d5cb72ac8519df90d87a57f03">HvDeleteNic</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_NIC_PARAMETERS nicParam)</td></tr>
<tr class="separator:a8e98590d5cb72ac8519df90d87a57f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a0cb63e46305c3f302d9801c27a202"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ac9a0cb63e46305c3f302d9801c27a202">HvDisconnectNic</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, PNDIS_SWITCH_NIC_PARAMETERS nicParam)</td></tr>
<tr class="separator:ac9a0cb63e46305c3f302d9801c27a202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88d9a409778eaa19e4f153867bcf879"><td class="memItemLeft" align="right" valign="top">static __inline BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#ae88d9a409778eaa19e4f153867bcf879">OvsIsTunnelVportType</a> (<a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a> ovsType)</td></tr>
<tr class="separator:ae88d9a409778eaa19e4f153867bcf879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e6f4d6b8f3d807115e8ecce520bc6f"><td class="memItemLeft" align="right" valign="top">static __inline PVOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a02e6f4d6b8f3d807115e8ecce520bc6f">GetOvsVportPriv</a> (<a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> ovsVport)</td></tr>
<tr class="separator:a02e6f4d6b8f3d807115e8ecce520bc6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce8578a596efbf9d62e85df0aec71a9"><td class="memItemLeft" align="right" valign="top">static __inline BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a9ce8578a596efbf9d62e85df0aec71a9">OvsIsInternalVportType</a> (<a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a> ovsType)</td></tr>
<tr class="separator:a9ce8578a596efbf9d62e85df0aec71a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d8230b720cc06b6b39c8da9122060f"><td class="memItemLeft" align="right" valign="top">static __inline BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a21d8230b720cc06b6b39c8da9122060f">OvsIsBridgeInternalVport</a> (<a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> <a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a21d8230b720cc06b6b39c8da9122060f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf28ae506a9ea6de577ea78a29d1e1d"><td class="memItemLeft" align="right" valign="top">NTSTATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#adaf28ae506a9ea6de577ea78a29d1e1d">OvsRemoveAndDeleteVport</a> (PVOID usrParamsCtx, <a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, <a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> <a class="el" href="structvport.html">vport</a>, BOOLEAN hvDelete, BOOLEAN ovsDelete)</td></tr>
<tr class="separator:adaf28ae506a9ea6de577ea78a29d1e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d5a426e94a3ebc1ab757ce66f1c48e"><td class="memItemLeft" align="right" valign="top">static __inline <a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a14d5a426e94a3ebc1ab757ce66f1c48e">OvsGetExternalVport</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext)</td></tr>
<tr class="separator:a14d5a426e94a3ebc1ab757ce66f1c48e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89316fec11160c87b802896ae1f69800"><td class="memItemLeft" align="right" valign="top">static __inline UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a89316fec11160c87b802896ae1f69800">OvsGetExternalMtu</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext)</td></tr>
<tr class="separator:a89316fec11160c87b802896ae1f69800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325ed79687efd244fe187535c096e09f"><td class="memItemLeft" align="right" valign="top">static __inline UINT16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a325ed79687efd244fe187535c096e09f">GetPortFromPriv</a> (<a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> <a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a325ed79687efd244fe187535c096e09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc578327abf94fc45ef88a25a626914"><td class="memItemLeft" align="right" valign="top">NDIS_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a7cc578327abf94fc45ef88a25a626914">InitOvsVportCommon</a> (<a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a> switchContext, <a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> <a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a7cc578327abf94fc45ef88a25a626914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb4dbe9e56c7183bc318158ac64df25"><td class="memItemLeft" align="right" valign="top">NTSTATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a5eb4dbe9e56c7183bc318158ac64df25">OvsInitTunnelVport</a> (PVOID usrParamsCtx, <a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> <a class="el" href="structvport.html">vport</a>, <a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a> ovsType, UINT16 dstport)</td></tr>
<tr class="separator:a5eb4dbe9e56c7183bc318158ac64df25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b442ba8bfbcc429a4ef4441688a1549"><td class="memItemLeft" align="right" valign="top">NTSTATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a1b442ba8bfbcc429a4ef4441688a1549">OvsInitBridgeInternalVport</a> (<a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> <a class="el" href="structvport.html">vport</a>)</td></tr>
<tr class="separator:a1b442ba8bfbcc429a4ef4441688a1549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c874912fad0be0f4232e22e307ea731"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Vport_8h.html#a7c874912fad0be0f4232e22e307ea731">OvsAllocateVport</a> (VOID)</td></tr>
<tr class="separator:a7c874912fad0be0f4232e22e307ea731"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ade75a18f101ae97aa9c4fbb0ddea74c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_DPPORT_EXTERNAL_NAME_A&#160;&#160;&#160;&quot;external&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b534a82134f38cf3c9c121bf4e74135"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_DPPORT_EXTERNAL_NAME_W&#160;&#160;&#160;<a class="el" href="meta-flow_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>&quot;external&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7eb3f392042222a0f697da05a6abe360"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_DPPORT_INTERNAL_NAME_A&#160;&#160;&#160;&quot;internal&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3a110c8faa3813ec90e05f349fa0bbf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_DPPORT_INTERNAL_NAME_W&#160;&#160;&#160;<a class="el" href="meta-flow_8c.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>&quot;internal&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab1d1db4e6e156a4c4c99da1b5cbb4f04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_DPPORT_NUMBER_INVALID&#160;&#160;&#160;<a class="el" href="Vport_8h.html#a1521abca12e4066359a44a8208e990bb">OVS_MAX_DPPORTS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac8c8f74b299f1a5c397e1e3e068ca726"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_DPPORT_NUMBER_LOCAL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1521abca12e4066359a44a8208e990bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OVS_MAX_DPPORTS&#160;&#160;&#160;MAXUINT16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a3049b24a6f18f8aba1e23ca99242d69d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a>  <a class="el" href="Vport_8h.html#a3049b24a6f18f8aba1e23ca99242d69d">OVS_VPORT_ENTRY</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac5150b54713cbddd9d65e394e97fb5cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__OVS__VPORT__ERR__STATS.html">_OVS_VPORT_ERR_STATS</a>  <a class="el" href="Vport_8h.html#ac5150b54713cbddd9d65e394e97fb5cc">OVS_VPORT_ERR_STATS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a75c956547b85efb61c9f98b7b9e9e8fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__OVS__VPORT__FULL__STATS.html">_OVS_VPORT_FULL_STATS</a> <a class="el" href="Vport_8h.html#a75c956547b85efb61c9f98b7b9e9e8fd">OVS_VPORT_FULL_STATS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d92341a06ba403e64e84f2e3459146c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__OVS__VPORT__STATS.html">_OVS_VPORT_STATS</a>  <a class="el" href="Vport_8h.html#a2d92341a06ba403e64e84f2e3459146c">OVS_VPORT_STATS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2014e280a5bf560ef281355b73d02c14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a> * <a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="abb7621346fd1817c79de758a7fa38500"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500">OVS_VPORT_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf"></a>OVS_STATE_UNKNOWN&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb"></a>OVS_STATE_PORT_CREATED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce"></a>OVS_STATE_NIC_CREATED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a"></a>OVS_STATE_CONNECTED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc"></a>OVS_STATE_PORT_TEAR_DOWN&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abb7621346fd1817c79de758a7fa38500a18f5d18a42973f1011c1171fffc12aeb"></a>OVS_STATE_PORT_DELETED&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;             {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf">OVS_STATE_UNKNOWN</a>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a>,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc">OVS_STATE_PORT_TEAR_DOWN</a>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a18f5d18a42973f1011c1171fffc12aeb">OVS_STATE_PORT_DELETED</a>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;} <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500">OVS_VPORT_STATE</a>;</div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:54</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc">OVS_STATE_PORT_TEAR_DOWN</a></div><div class="ttdef"><b>Definition:</b> Vport.h:57</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf">OVS_STATE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> Vport.h:53</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a18f5d18a42973f1011c1171fffc12aeb"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a18f5d18a42973f1011c1171fffc12aeb">OVS_STATE_PORT_DELETED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:58</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:55</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:56</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500">OVS_VPORT_STATE</a></div><div class="ttdeci">OVS_VPORT_STATE</div><div class="ttdef"><b>Definition:</b> Vport.h:52</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a02e6f4d6b8f3d807115e8ecce520bc6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline PVOID GetOvsVportPriv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>ovsVport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">return</span> ovsVport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a4973465117a6179699f6347a0ad98ac4">priv</a>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a4973465117a6179699f6347a0ad98ac4"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a4973465117a6179699f6347a0ad98ac4">_OVS_VPORT_ENTRY::priv</a></div><div class="ttdeci">PVOID priv</div><div class="ttdef"><b>Definition:</b> Vport.h:100</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a325ed79687efd244fe187535c096e09f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline UINT16 GetPortFromPriv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    UINT16 dstPort = 0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    PVOID vportPriv = <a class="code" href="Vport_8h.html#a02e6f4d6b8f3d807115e8ecce520bc6f">GetOvsVportPriv</a>(vport);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* XXX would better to have a commom tunnel &quot;parent&quot; structure */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    ASSERT(vportPriv);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">switch</span>(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a>:</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        dstPort = ((<a class="code" href="Vxlan_8h.html#a6f43f48f874cf72979a8442d6db336b1">POVS_VXLAN_VPORT</a>)vportPriv)-&gt;dstPort;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a>:</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        dstPort = ((<a class="code" href="Stt_8h.html#a9c6f064f58599f4862078a37bacaf050">POVS_STT_VPORT</a>)vportPriv)-&gt;dstPort;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        ASSERT(! <span class="stringliteral">&quot;Port is not a tunnel port&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    ASSERT(dstPort);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> dstPort;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="ttc" id="Stt_8h_html_a9c6f064f58599f4862078a37bacaf050"><div class="ttname"><a href="Stt_8h.html#a9c6f064f58599f4862078a37bacaf050">POVS_STT_VPORT</a></div><div class="ttdeci">struct _OVS_STT_VPORT * POVS_STT_VPORT</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:232</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:229</div></div>
<div class="ttc" id="Vport_8h_html_a02e6f4d6b8f3d807115e8ecce520bc6f"><div class="ttname"><a href="Vport_8h.html#a02e6f4d6b8f3d807115e8ecce520bc6f">GetOvsVportPriv</a></div><div class="ttdeci">static __inline PVOID GetOvsVportPriv(POVS_VPORT_ENTRY ovsVport)</div><div class="ttdef"><b>Definition:</b> Vport.h:189</div></div>
<div class="ttc" id="Vxlan_8h_html_a6f43f48f874cf72979a8442d6db336b1"><div class="ttname"><a href="Vxlan_8h.html#a6f43f48f874cf72979a8442d6db336b1">POVS_VXLAN_VPORT</a></div><div class="ttdeci">struct _OVS_VXLAN_VPORT * POVS_VXLAN_VPORT</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2748ff6de7eb5b8bed3704e61da3c2e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID HvConnectNic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_NIC_PARAMETERS&#160;</td>
          <td class="paramname"><em>nicParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    UINT32 portNo = 0;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a>(nicParam);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">/* Wait for lists to be initialized. */</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a>(switchContext, <a class="code" href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span> (!switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">isActivated</a>) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Switch is not activated yet.&quot;</span>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                            nicParam-&gt;PortId,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                            nicParam-&gt;NicIndex);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (!vport) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Vport not present.&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        ASSERT(0);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">nicState</a> = NdisSwitchNicStateConnected;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    portNo = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">/* XXX only if portNo != INVALID or always? */</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a>(portNo, <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0abeac18c1c5cbd6fb12773b947a8dd489">OVS_EVENT_LINK_UP</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (nicParam-&gt;NicType == NdisSwitchNicTypeInternal) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="IpHelper_8c.html#a846ef09653848eeff3d67e4c7dff69f2">OvsInternalAdapterUp</a>(portNo, &amp;nicParam-&gt;NetCfgInstanceId);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;done:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a>(nicParam);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="ttc" id="IpHelper_8c_html_a846ef09653848eeff3d67e4c7dff69f2"><div class="ttname"><a href="IpHelper_8c.html#a846ef09653848eeff3d67e4c7dff69f2">OvsInternalAdapterUp</a></div><div class="ttdeci">VOID OvsInternalAdapterUp(UINT32 portNo, GUID *netCfgInstanceId)</div><div class="ttdef"><b>Definition:</b> IpHelper.c:1073</div></div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0abeac18c1c5cbd6fb12773b947a8dd489"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0abeac18c1c5cbd6fb12773b947a8dd489">OVS_EVENT_LINK_UP</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:287</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Vport_8c_html_a55453565a59d9c05b6e5db6eb77e1e65"><div class="ttname"><a href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a></div><div class="ttdeci">#define VPORT_NIC_ENTER(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:35</div></div>
<div class="ttc" id="Vport_8c_html_a64417133d18eabd436daf65e080affde"><div class="ttname"><a href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a></div><div class="ttdeci">#define OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</div><div class="ttdef"><b>Definition:</b> Vport.c:49</div></div>
<div class="ttc" id="Event_8c_html_af0f59d3cef029d077a5180b23cfc525e"><div class="ttname"><a href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a></div><div class="ttdeci">VOID OvsPostEvent(UINT32 portNo, UINT32 status)</div><div class="ttdef"><b>Definition:</b> Event.c:115</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:56</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab490af00156750aaea5a3afeb810ee6a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">_OVS_SWITCH_CONTEXT::isActivated</a></div><div class="ttdeci">BOOLEAN isActivated</div><div class="ttdef"><b>Definition:</b> Switch.h:93</div></div>
<div class="ttc" id="Vport_8c_html_afaa9b608a3f8a9159d710483a6f44686"><div class="ttname"><a href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a></div><div class="ttdeci">#define VPORT_NIC_EXIT(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:39</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="Vport_8c_html_a3a013a2e4d19263bcafe7c9623ee4ee9"><div class="ttname"><a href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a></div><div class="ttdeci">static __inline VOID OvsWaitActivate(POVS_SWITCH_CONTEXT switchContext, ULONG sleepMicroSec)</div><div class="ttdef"><b>Definition:</b> Vport.c:1749</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a002502c438503829073020f06cd20e15"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">_OVS_VPORT_ENTRY::nicState</a></div><div class="ttdeci">NDIS_SWITCH_NIC_STATE nicState</div><div class="ttdef"><b>Definition:</b> Vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39ad0d1a51ae0353065c9998a009c1fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIS_STATUS HvCreateNic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_NIC_PARAMETERS&#160;</td>
          <td class="paramname"><em>nicParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    UINT32 portNo = 0;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    UINT32 <span class="keyword">event</span> = 0;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    NDIS_STATUS status = NDIS_STATUS_SUCCESS;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a>(nicParam);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">/* Wait for lists to be initialized. */</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a>(switchContext, <a class="code" href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">if</span> (!switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">isActivated</a>) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Switch is not activated yet.&quot;</span>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">/* Veto the creation of nic */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        status = NDIS_STATUS_NOT_SUPPORTED;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext, nicParam-&gt;PortId, 0);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (vport == NULL) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="Debug_8h.html#aaf451970c4433dca3e83f5a1e7e5b794">OVS_LOG_ERROR</a>(<span class="stringliteral">&quot;Create NIC without Switch Port,&quot;</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                      <span class="stringliteral">&quot; PortId: %x, NicIndex: %d&quot;</span>,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                      nicParam-&gt;PortId, nicParam-&gt;NicIndex);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        status = NDIS_STATUS_INVALID_PARAMETER;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">goto</span> add_nic_done;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (nicParam-&gt;NicType == NdisSwitchNicTypeExternal &amp;&amp;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        nicParam-&gt;NicIndex != 0) {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> virtExtVport =</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            (<a class="code" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>)switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">virtualExternalVport</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        vport = (<a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a>)<a class="code" href="Vport_8c.html#a7c874912fad0be0f4232e22e307ea731">OvsAllocateVport</a>();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">if</span> (vport == NULL) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            status = NDIS_STATUS_RESOURCES;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">goto</span> add_nic_done;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="Vport_8c.html#a50593469916d69cb6683418135f5b162">OvsInitPhysNicVport</a>(vport, virtExtVport, nicParam-&gt;NicIndex);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        status = <a class="code" href="Vport_8c.html#af11338fec87aac46dcc120c74eb36b1a">InitHvVportCommon</a>(switchContext, vport, TRUE);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (status != NDIS_STATUS_SUCCESS) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <a class="code" href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a>(vport, <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">goto</span> add_nic_done;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="Vport_8c.html#a6829f612e0080bf3f86f735d3db75bc0">OvsInitVportWithNicParam</a>(switchContext, vport, nicParam);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    portNo = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> == <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a>) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keyword">event</span> = <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0aea11cc0b6a794b832ccea8393fa28eff">OVS_EVENT_CONNECT</a> | <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0abeac18c1c5cbd6fb12773b947a8dd489">OVS_EVENT_LINK_UP</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> == <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a>) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keyword">event</span> = <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0aea11cc0b6a794b832ccea8393fa28eff">OVS_EVENT_CONNECT</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;add_nic_done:</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (portNo != <a class="code" href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a> &amp;&amp; event) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <a class="code" href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a>(portNo, event);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;done:</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a>(nicParam);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="Debug_8h.html#a4086cc5daa809afb1615e2ae9f38075a">OVS_LOG_TRACE</a>(<span class="stringliteral">&quot;Exit: status %8x.\n&quot;</span>, status);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_af65b9cf76d47a93178b3be08f4a8dd82"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">_OVS_SWITCH_CONTEXT::virtualExternalVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY virtualExternalVport</div><div class="ttdef"><b>Definition:</b> Switch.h:131</div></div>
<div class="ttc" id="Debug_8h_html_a4086cc5daa809afb1615e2ae9f38075a"><div class="ttname"><a href="Debug_8h.html#a4086cc5daa809afb1615e2ae9f38075a">OVS_LOG_TRACE</a></div><div class="ttdeci">#define OVS_LOG_TRACE(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:65</div></div>
<div class="ttc" id="Vport_8c_html_a50593469916d69cb6683418135f5b162"><div class="ttname"><a href="Vport_8c.html#a50593469916d69cb6683418135f5b162">OvsInitPhysNicVport</a></div><div class="ttdeci">static VOID OvsInitPhysNicVport(POVS_VPORT_ENTRY physExtVPort, POVS_VPORT_ENTRY virtExtVport, UINT32 nicIndex)</div><div class="ttdef"><b>Definition:</b> Vport.c:872</div></div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0abeac18c1c5cbd6fb12773b947a8dd489"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0abeac18c1c5cbd6fb12773b947a8dd489">OVS_EVENT_LINK_UP</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:287</div></div>
<div class="ttc" id="Vport_8h_html_ab1d1db4e6e156a4c4c99da1b5cbb4f04"><div class="ttname"><a href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a></div><div class="ttdeci">#define OVS_DPPORT_NUMBER_INVALID</div><div class="ttdef"><b>Definition:</b> Vport.h:25</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Vport_8c_html_a55453565a59d9c05b6e5db6eb77e1e65"><div class="ttname"><a href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a></div><div class="ttdeci">#define VPORT_NIC_ENTER(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:35</div></div>
<div class="ttc" id="Vport_8c_html_a64417133d18eabd436daf65e080affde"><div class="ttname"><a href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a></div><div class="ttdeci">#define OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</div><div class="ttdef"><b>Definition:</b> Vport.c:49</div></div>
<div class="ttc" id="Util_8c_html_a0157966a9647ad0512c5314a245c010a"><div class="ttname"><a href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a></div><div class="ttdeci">VOID OvsFreeMemoryWithTag(VOID *ptr, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:36</div></div>
<div class="ttc" id="Event_8c_html_af0f59d3cef029d077a5180b23cfc525e"><div class="ttname"><a href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a></div><div class="ttdeci">VOID OvsPostEvent(UINT32 portNo, UINT32 status)</div><div class="ttdef"><b>Definition:</b> Event.c:115</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0aea11cc0b6a794b832ccea8393fa28eff"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0aea11cc0b6a794b832ccea8393fa28eff">OVS_EVENT_CONNECT</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:285</div></div>
<div class="ttc" id="Switch_8h_html_a41a0a7a50d232916d005ffcc68b9f9f1"><div class="ttname"><a href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a></div><div class="ttdeci">struct _OVS_VPORT_ENTRY * POVS_VPORT_ENTRY</div><div class="ttdef"><b>Definition:</b> Switch.h:47</div></div>
<div class="ttc" id="Debug_8h_html_aaf451970c4433dca3e83f5a1e7e5b794"><div class="ttname"><a href="Debug_8h.html#aaf451970c4433dca3e83f5a1e7e5b794">OVS_LOG_ERROR</a></div><div class="ttdeci">#define OVS_LOG_ERROR(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:68</div></div>
<div class="ttc" id="Vport_8c_html_a6829f612e0080bf3f86f735d3db75bc0"><div class="ttname"><a href="Vport_8c.html#a6829f612e0080bf3f86f735d3db75bc0">OvsInitVportWithNicParam</a></div><div class="ttdeci">static VOID OvsInitVportWithNicParam(POVS_SWITCH_CONTEXT switchContext, POVS_VPORT_ENTRY vport, PNDIS_SWITCH_NIC_PARAMETERS nicParam)</div><div class="ttdef"><b>Definition:</b> Vport.c:818</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:55</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:56</div></div>
<div class="ttc" id="Vport_8c_html_af11338fec87aac46dcc120c74eb36b1a"><div class="ttname"><a href="Vport_8c.html#af11338fec87aac46dcc120c74eb36b1a">InitHvVportCommon</a></div><div class="ttdeci">static NDIS_STATUS InitHvVportCommon(POVS_SWITCH_CONTEXT switchContext, POVS_VPORT_ENTRY vport, BOOLEAN newPort)</div><div class="ttdef"><b>Definition:</b> Vport.c:1016</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab490af00156750aaea5a3afeb810ee6a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">_OVS_SWITCH_CONTEXT::isActivated</a></div><div class="ttdeci">BOOLEAN isActivated</div><div class="ttdef"><b>Definition:</b> Switch.h:93</div></div>
<div class="ttc" id="Vport_8c_html_afaa9b608a3f8a9159d710483a6f44686"><div class="ttname"><a href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a></div><div class="ttdeci">#define VPORT_NIC_EXIT(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:39</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Util_8h_html_a186f710164dd337b2eee76cdd0b3917d"><div class="ttname"><a href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a></div><div class="ttdeci">#define OVS_VPORT_POOL_TAG</div><div class="ttdef"><b>Definition:</b> Util.h:35</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="Vport_8c_html_a3a013a2e4d19263bcafe7c9623ee4ee9"><div class="ttname"><a href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a></div><div class="ttdeci">static __inline VOID OvsWaitActivate(POVS_SWITCH_CONTEXT switchContext, ULONG sleepMicroSec)</div><div class="ttdef"><b>Definition:</b> Vport.c:1749</div></div>
<div class="ttc" id="Vport_8c_html_a7c874912fad0be0f4232e22e307ea731"><div class="ttname"><a href="Vport_8c.html#a7c874912fad0be0f4232e22e307ea731">OvsAllocateVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsAllocateVport(VOID)</div><div class="ttdef"><b>Definition:</b> Vport.c:752</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a68a1a0e87aa1564ac6cc654ff5ade7f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIS_STATUS HvCreatePort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_PORT_PARAMETERS&#160;</td>
          <td class="paramname"><em>portParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    NDIS_STATUS status = NDIS_STATUS_SUCCESS;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    BOOLEAN newPort = FALSE;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a>(portParam);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">/* Lookup by port ID. */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                            portParam-&gt;PortId, 0);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (vport != NULL) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="Debug_8h.html#aaf451970c4433dca3e83f5a1e7e5b794">OVS_LOG_ERROR</a>(<span class="stringliteral">&quot;Port add failed due to duplicate port name, &quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                      <span class="stringliteral">&quot;port Id: %u&quot;</span>, portParam-&gt;PortId);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        status = STATUS_DATA_NOT_ACCEPTED;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">goto</span> create_port_done;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">     * Lookup by port name to see if this port with this name had been added</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     * (and deleted) previously.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    vport = <a class="code" href="Vport_8c.html#a36642898aec68a2684a3b668f1b4a851">OvsFindVportByHvNameW</a>(<a class="code" href="Vport_8c.html#ae4e8c266508b5f55fa33d7d21941daf9">gOvsSwitchContext</a>,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                  portParam-&gt;PortFriendlyName.String,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                  portParam-&gt;PortFriendlyName.Length);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (vport &amp;&amp; vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a> == FALSE) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <a class="code" href="Debug_8h.html#aaf451970c4433dca3e83f5a1e7e5b794">OVS_LOG_ERROR</a>(<span class="stringliteral">&quot;Port add failed since a port already exists on &quot;</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                      <span class="stringliteral">&quot;the specified port Id: %u, ovsName: %s&quot;</span>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                      portParam-&gt;PortId, vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">ovsName</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        status = STATUS_DATA_NOT_ACCEPTED;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">goto</span> create_port_done;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (vport != NULL) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        ASSERT(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        ASSERT(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a> != <a class="code" href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">         * It should be possible to simply just mark this port as &quot;not deleted&quot;</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">         * given that the port Id and the name are the same and also provided</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">         * that the other properties that we cache have not changed.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">portType</a> != portParam-&gt;PortType) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="Debug_8h.html#a37173c262a73867ab875e165e9baf6b6">OVS_LOG_INFO</a>(<span class="stringliteral">&quot;Port add failed due to PortType change, port Id: %u&quot;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                         <span class="stringliteral">&quot; old: %u, new: %u&quot;</span>, portParam-&gt;PortId,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                         vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">portType</a>, portParam-&gt;PortType);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            status = STATUS_DATA_NOT_ACCEPTED;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">goto</span> create_port_done;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a> = FALSE;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        vport = (<a class="code" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>)<a class="code" href="Vport_8c.html#a7c874912fad0be0f4232e22e307ea731">OvsAllocateVport</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">if</span> (vport == NULL) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            status = NDIS_STATUS_RESOURCES;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordflow">goto</span> create_port_done;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        newPort = TRUE;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="Vport_8c.html#a76b3afcbed28aed006763e5a98a0bdf4">OvsInitVportWithPortParam</a>(vport, portParam);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="Vport_8c.html#af11338fec87aac46dcc120c74eb36b1a">InitHvVportCommon</a>(switchContext, vport, newPort);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;create_port_done:</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a>(portParam);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6df479a183f045b104375a67609d5dee"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">_OVS_VPORT_ENTRY::isAbsentOnHv</a></div><div class="ttdeci">BOOLEAN isAbsentOnHv</div><div class="ttdef"><b>Definition:</b> Vport.h:135</div></div>
<div class="ttc" id="Debug_8h_html_a37173c262a73867ab875e165e9baf6b6"><div class="ttname"><a href="Debug_8h.html#a37173c262a73867ab875e165e9baf6b6">OVS_LOG_INFO</a></div><div class="ttdeci">#define OVS_LOG_INFO(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:62</div></div>
<div class="ttc" id="Vport_8c_html_adce3d5d037b8682d498e06a0e6cc208a"><div class="ttname"><a href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a></div><div class="ttdeci">#define VPORT_PORT_EXIT(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:46</div></div>
<div class="ttc" id="Vport_8h_html_ab1d1db4e6e156a4c4c99da1b5cbb4f04"><div class="ttname"><a href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a></div><div class="ttdeci">#define OVS_DPPORT_NUMBER_INVALID</div><div class="ttdef"><b>Definition:</b> Vport.h:25</div></div>
<div class="ttc" id="Vport_8c_html_ae4e8c266508b5f55fa33d7d21941daf9"><div class="ttname"><a href="Vport_8c.html#ae4e8c266508b5f55fa33d7d21941daf9">gOvsSwitchContext</a></div><div class="ttdeci">POVS_SWITCH_CONTEXT gOvsSwitchContext</div><div class="ttdef"><b>Definition:</b> Switch.c:37</div></div>
<div class="ttc" id="Vport_8c_html_a76b3afcbed28aed006763e5a98a0bdf4"><div class="ttname"><a href="Vport_8c.html#a76b3afcbed28aed006763e5a98a0bdf4">OvsInitVportWithPortParam</a></div><div class="ttdeci">static VOID OvsInitVportWithPortParam(POVS_VPORT_ENTRY vport, PNDIS_SWITCH_PORT_PARAMETERS portParam)</div><div class="ttdef"><b>Definition:</b> Vport.c:773</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Switch_8h_html_a41a0a7a50d232916d005ffcc68b9f9f1"><div class="ttname"><a href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a></div><div class="ttdeci">struct _OVS_VPORT_ENTRY * POVS_VPORT_ENTRY</div><div class="ttdef"><b>Definition:</b> Switch.h:47</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a16d0ef70bf7036bc8dc654c243b27da7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">_OVS_VPORT_ENTRY::portType</a></div><div class="ttdeci">NDIS_SWITCH_PORT_TYPE portType</div><div class="ttdef"><b>Definition:</b> Vport.h:106</div></div>
<div class="ttc" id="Debug_8h_html_aaf451970c4433dca3e83f5a1e7e5b794"><div class="ttname"><a href="Debug_8h.html#aaf451970c4433dca3e83f5a1e7e5b794">OVS_LOG_ERROR</a></div><div class="ttdeci">#define OVS_LOG_ERROR(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:68</div></div>
<div class="ttc" id="Vport_8c_html_af11338fec87aac46dcc120c74eb36b1a"><div class="ttname"><a href="Vport_8c.html#af11338fec87aac46dcc120c74eb36b1a">InitHvVportCommon</a></div><div class="ttdeci">static NDIS_STATUS InitHvVportCommon(POVS_SWITCH_CONTEXT switchContext, POVS_VPORT_ENTRY vport, BOOLEAN newPort)</div><div class="ttdef"><b>Definition:</b> Vport.c:1016</div></div>
<div class="ttc" id="Vport_8c_html_a36642898aec68a2684a3b668f1b4a851"><div class="ttname"><a href="Vport_8c.html#a36642898aec68a2684a3b668f1b4a851">OvsFindVportByHvNameW</a></div><div class="ttdeci">static POVS_VPORT_ENTRY OvsFindVportByHvNameW(POVS_SWITCH_CONTEXT switchContext, PWSTR wsName, SIZE_T wstrSize)</div><div class="ttdef"><b>Definition:</b> Vport.c:649</div></div>
<div class="ttc" id="Vport_8c_html_a8449c123cf66a3586cd0887b0581c86c"><div class="ttname"><a href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a></div><div class="ttdeci">#define VPORT_PORT_ENTER(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:43</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a9cfaf48c00ce38e60a335ab82718b0d2"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">_OVS_VPORT_ENTRY::ovsName</a></div><div class="ttdeci">CHAR ovsName[OVS_MAX_PORT_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> Vport.h:98</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="Vport_8c_html_a7c874912fad0be0f4232e22e307ea731"><div class="ttname"><a href="Vport_8c.html#a7c874912fad0be0f4232e22e307ea731">OvsAllocateVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsAllocateVport(VOID)</div><div class="ttdef"><b>Definition:</b> Vport.c:752</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e98590d5cb72ac8519df90d87a57f03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID HvDeleteNic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_NIC_PARAMETERS&#160;</td>
          <td class="paramname"><em>nicParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    UINT32 portNo = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a>(nicParam);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="comment">/* Wait for lists to be initialized. */</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a>(switchContext, <a class="code" href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordflow">if</span> (!switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">isActivated</a>) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Switch is not activated yet.&quot;</span>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                            nicParam-&gt;PortId,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                            nicParam-&gt;NicIndex);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (!vport) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Vport not present.&quot;</span>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">nicState</a> = NdisSwitchNicStateUnknown;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    portNo = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">portType</a> == NdisSwitchPortTypeExternal &amp;&amp;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">nicIndex</a> != 0) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="Vport_8c.html#ac83bf787fa4f3e5fef189edfa60c7656">OvsRemoveAndDeleteVport</a>(NULL, switchContext, vport, TRUE, FALSE);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">/* XXX if portNo != INVALID or always? */</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <a class="code" href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a>(portNo, <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a296aabcee1efde54badbb9919f223df3">OVS_EVENT_DISCONNECT</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;done:</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a>(nicParam);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:54</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Vport_8c_html_a55453565a59d9c05b6e5db6eb77e1e65"><div class="ttname"><a href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a></div><div class="ttdeci">#define VPORT_NIC_ENTER(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:35</div></div>
<div class="ttc" id="Vport_8c_html_ac83bf787fa4f3e5fef189edfa60c7656"><div class="ttname"><a href="Vport_8c.html#ac83bf787fa4f3e5fef189edfa60c7656">OvsRemoveAndDeleteVport</a></div><div class="ttdeci">NTSTATUS OvsRemoveAndDeleteVport(PVOID usrParamsContext, POVS_SWITCH_CONTEXT switchContext, POVS_VPORT_ENTRY vport, BOOLEAN hvDelete, BOOLEAN ovsDelete)</div><div class="ttdef"><b>Definition:</b> Vport.c:1143</div></div>
<div class="ttc" id="Vport_8c_html_a64417133d18eabd436daf65e080affde"><div class="ttname"><a href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a></div><div class="ttdeci">#define OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</div><div class="ttdef"><b>Definition:</b> Vport.c:49</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ad4a74979cfb52cb0c9f6e1fd23ec6f66"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">_OVS_VPORT_ENTRY::nicIndex</a></div><div class="ttdeci">NDIS_SWITCH_NIC_INDEX nicIndex</div><div class="ttdef"><b>Definition:</b> Vport.h:102</div></div>
<div class="ttc" id="Event_8c_html_af0f59d3cef029d077a5180b23cfc525e"><div class="ttname"><a href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a></div><div class="ttdeci">VOID OvsPostEvent(UINT32 portNo, UINT32 status)</div><div class="ttdef"><b>Definition:</b> Event.c:115</div></div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0a296aabcee1efde54badbb9919f223df3"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a296aabcee1efde54badbb9919f223df3">OVS_EVENT_DISCONNECT</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:286</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a16d0ef70bf7036bc8dc654c243b27da7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">_OVS_VPORT_ENTRY::portType</a></div><div class="ttdeci">NDIS_SWITCH_PORT_TYPE portType</div><div class="ttdef"><b>Definition:</b> Vport.h:106</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab490af00156750aaea5a3afeb810ee6a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">_OVS_SWITCH_CONTEXT::isActivated</a></div><div class="ttdeci">BOOLEAN isActivated</div><div class="ttdef"><b>Definition:</b> Switch.h:93</div></div>
<div class="ttc" id="Vport_8c_html_afaa9b608a3f8a9159d710483a6f44686"><div class="ttname"><a href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a></div><div class="ttdeci">#define VPORT_NIC_EXIT(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:39</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="Vport_8c_html_a3a013a2e4d19263bcafe7c9623ee4ee9"><div class="ttname"><a href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a></div><div class="ttdeci">static __inline VOID OvsWaitActivate(POVS_SWITCH_CONTEXT switchContext, ULONG sleepMicroSec)</div><div class="ttdef"><b>Definition:</b> Vport.c:1749</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a002502c438503829073020f06cd20e15"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">_OVS_VPORT_ENTRY::nicState</a></div><div class="ttdeci">NDIS_SWITCH_NIC_STATE nicState</div><div class="ttdef"><b>Definition:</b> Vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2bc20cba6f8b13dee71c8eb346b3ded5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID HvDeletePort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_PORT_PARAMETERS&#160;</td>
          <td class="paramname"><em>portParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a>(portParams);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                                            portParams-&gt;PortId, 0);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">     * XXX: we can only destroy and remove the port if its datapath port</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">     * counterpart was deleted. If the datapath port counterpart is present,</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">     * we only mark the vport for deletion, so that a netlink command vport</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">     * delete will delete the vport.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (vport) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="Vport_8c.html#ac83bf787fa4f3e5fef189edfa60c7656">OvsRemoveAndDeleteVport</a>(NULL, switchContext, vport, TRUE, FALSE);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Vport not present.&quot;</span>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a>(portParams);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="Vport_8c_html_adce3d5d037b8682d498e06a0e6cc208a"><div class="ttname"><a href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a></div><div class="ttdeci">#define VPORT_PORT_EXIT(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:46</div></div>
<div class="ttc" id="Vport_8c_html_ac83bf787fa4f3e5fef189edfa60c7656"><div class="ttname"><a href="Vport_8c.html#ac83bf787fa4f3e5fef189edfa60c7656">OvsRemoveAndDeleteVport</a></div><div class="ttdeci">NTSTATUS OvsRemoveAndDeleteVport(PVOID usrParamsContext, POVS_SWITCH_CONTEXT switchContext, POVS_VPORT_ENTRY vport, BOOLEAN hvDelete, BOOLEAN ovsDelete)</div><div class="ttdef"><b>Definition:</b> Vport.c:1143</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="Vport_8c_html_a8449c123cf66a3586cd0887b0581c86c"><div class="ttname"><a href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a></div><div class="ttdeci">#define VPORT_PORT_ENTER(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:43</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac9a0cb63e46305c3f302d9801c27a202"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID HvDisconnectNic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_NIC_PARAMETERS&#160;</td>
          <td class="paramname"><em>nicParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;{</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    UINT32 portNo = 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    BOOLEAN isInternalPort = FALSE;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a>(nicParam);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">/* Wait for lists to be initialized. */</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a>(switchContext, <a class="code" href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">if</span> (!switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">isActivated</a>) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Switch is not activated yet.&quot;</span>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                            nicParam-&gt;PortId,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                            nicParam-&gt;NicIndex);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">if</span> (!vport) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Vport not present.&quot;</span>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">goto</span> done;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">nicState</a> = NdisSwitchNicStateDisconnected;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    portNo = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a> == <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a>) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        isInternalPort = TRUE;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">/* XXX if portNo != INVALID or always? */</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a>(portNo, <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a200bd0cf1b367f24165db97f8ac6f13a">OVS_EVENT_LINK_DOWN</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (isInternalPort) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="IpHelper_8c.html#af83b0e7e4223cf6ee9e16603d22dd881">OvsInternalAdapterDown</a>();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;done:</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a>(nicParam);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Vport_8c_html_a55453565a59d9c05b6e5db6eb77e1e65"><div class="ttname"><a href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a></div><div class="ttdeci">#define VPORT_NIC_ENTER(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:35</div></div>
<div class="ttc" id="Vport_8c_html_a64417133d18eabd436daf65e080affde"><div class="ttname"><a href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a></div><div class="ttdeci">#define OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</div><div class="ttdef"><b>Definition:</b> Vport.c:49</div></div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0a200bd0cf1b367f24165db97f8ac6f13a"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a200bd0cf1b367f24165db97f8ac6f13a">OVS_EVENT_LINK_DOWN</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:288</div></div>
<div class="ttc" id="Event_8c_html_af0f59d3cef029d077a5180b23cfc525e"><div class="ttname"><a href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a></div><div class="ttdeci">VOID OvsPostEvent(UINT32 portNo, UINT32 status)</div><div class="ttdef"><b>Definition:</b> Event.c:115</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500accd1d056cf3ad846f5ab14ffd60ec9ce">OVS_STATE_NIC_CREATED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:55</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab490af00156750aaea5a3afeb810ee6a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">_OVS_SWITCH_CONTEXT::isActivated</a></div><div class="ttdeci">BOOLEAN isActivated</div><div class="ttdef"><b>Definition:</b> Switch.h:93</div></div>
<div class="ttc" id="IpHelper_8c_html_af83b0e7e4223cf6ee9e16603d22dd881"><div class="ttname"><a href="IpHelper_8c.html#af83b0e7e4223cf6ee9e16603d22dd881">OvsInternalAdapterDown</a></div><div class="ttdeci">VOID OvsInternalAdapterDown(VOID)</div><div class="ttdef"><b>Definition:</b> IpHelper.c:1059</div></div>
<div class="ttc" id="Vport_8c_html_afaa9b608a3f8a9159d710483a6f44686"><div class="ttname"><a href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a></div><div class="ttdeci">#define VPORT_NIC_EXIT(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:39</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:227</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="Vport_8c_html_a3a013a2e4d19263bcafe7c9623ee4ee9"><div class="ttname"><a href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a></div><div class="ttdeci">static __inline VOID OvsWaitActivate(POVS_SWITCH_CONTEXT switchContext, ULONG sleepMicroSec)</div><div class="ttdef"><b>Definition:</b> Vport.c:1749</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a002502c438503829073020f06cd20e15"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">_OVS_VPORT_ENTRY::nicState</a></div><div class="ttdeci">NDIS_SWITCH_NIC_STATE nicState</div><div class="ttdef"><b>Definition:</b> Vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04ebc3002c437a9ee6505a219872360b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID HvTeardownPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_PORT_PARAMETERS&#160;</td>
          <td class="paramname"><em>portParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a>(portParam);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                            portParam-&gt;PortId, 0);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (vport) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">/* add assertion here */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ae6e1b57f475d44b6725b1d79b9f0d218">portState</a> = NdisSwitchPortStateTeardown;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc">OVS_STATE_PORT_TEAR_DOWN</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Vport not present.&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a>(portParam);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="ttc" id="Vport_8c_html_adce3d5d037b8682d498e06a0e6cc208a"><div class="ttname"><a href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a></div><div class="ttdeci">#define VPORT_PORT_EXIT(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:46</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500aa42e8647086285b51403db48417f4bbc">OVS_STATE_PORT_TEAR_DOWN</a></div><div class="ttdef"><b>Definition:</b> Vport.h:57</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ae6e1b57f475d44b6725b1d79b9f0d218"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ae6e1b57f475d44b6725b1d79b9f0d218">_OVS_VPORT_ENTRY::portState</a></div><div class="ttdeci">NDIS_SWITCH_PORT_STATE portState</div><div class="ttdef"><b>Definition:</b> Vport.h:104</div></div>
<div class="ttc" id="Vport_8c_html_a8449c123cf66a3586cd0887b0581c86c"><div class="ttname"><a href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a></div><div class="ttdeci">#define VPORT_PORT_ENTER(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:43</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6bcbe970c3ad7407e13d5fffd345f288"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID HvUpdateNic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_NIC_PARAMETERS&#160;</td>
          <td class="paramname"><em>nicParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    UINT32 status = 0, portNo = 0;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a>(nicParam);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">/* Wait for lists to be initialized. */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a>(switchContext, <a class="code" href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">isActivated</a>) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Switch is not activated yet.&quot;</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">goto</span> update_nic_done;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                            nicParam-&gt;PortId,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                            nicParam-&gt;NicIndex);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (vport == NULL) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <a class="code" href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a>(<span class="stringliteral">&quot;Vport search failed.&quot;</span>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">goto</span> update_nic_done;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">switch</span> (nicParam-&gt;NicType) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">case</span> NdisSwitchNicTypeExternal:</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">case</span> NdisSwitchNicTypeInternal:</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        RtlCopyMemory(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a69dfb4f7110f50466b749274415d29c3">netCfgInstanceId</a>, &amp;nicParam-&gt;NetCfgInstanceId,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                      sizeof (GUID));</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">case</span> NdisSwitchNicTypeSynthetic:</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">case</span> NdisSwitchNicTypeEmulated:</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">if</span> (!RtlEqualMemory(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a76a534b71ed4c7bbdc5dd6a9b5c0675d">vmMacAddress</a>, nicParam-&gt;VMMacAddress,</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                           sizeof (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a76a534b71ed4c7bbdc5dd6a9b5c0675d">vmMacAddress</a>))) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            status |= <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a04063ecafc058fadb9f4224a129a7b18">OVS_EVENT_MAC_CHANGE</a>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            RtlCopyMemory(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a76a534b71ed4c7bbdc5dd6a9b5c0675d">vmMacAddress</a>, nicParam-&gt;VMMacAddress,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                          sizeof (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a76a534b71ed4c7bbdc5dd6a9b5c0675d">vmMacAddress</a>));</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        ASSERT(0);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (!RtlEqualMemory(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aa7c2d32b73f95f428a9c6a0999c60278">permMacAddress</a>, nicParam-&gt;PermanentMacAddress,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                        sizeof (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aa7c2d32b73f95f428a9c6a0999c60278">permMacAddress</a>))) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        RtlCopyMemory(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aa7c2d32b73f95f428a9c6a0999c60278">permMacAddress</a>, nicParam-&gt;PermanentMacAddress,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                      sizeof (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aa7c2d32b73f95f428a9c6a0999c60278">permMacAddress</a>));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        status |= <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a04063ecafc058fadb9f4224a129a7b18">OVS_EVENT_MAC_CHANGE</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">if</span> (!RtlEqualMemory(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb72915fafa7a4d3be436aad7f702623">currMacAddress</a>, nicParam-&gt;CurrentMacAddress,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                        sizeof (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb72915fafa7a4d3be436aad7f702623">currMacAddress</a>))) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        RtlCopyMemory(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb72915fafa7a4d3be436aad7f702623">currMacAddress</a>, nicParam-&gt;CurrentMacAddress,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                      sizeof (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb72915fafa7a4d3be436aad7f702623">currMacAddress</a>));</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        status |= <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a04063ecafc058fadb9f4224a129a7b18">OVS_EVENT_MAC_CHANGE</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a819342a37140dc28d6c23fd59814ef4e">mtu</a> != nicParam-&gt;MTU) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a819342a37140dc28d6c23fd59814ef4e">mtu</a> = nicParam-&gt;MTU;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        status |= <a class="code" href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a9da2e094ebfdffc1ad09d3ba5bb600d7">OVS_EVENT_MTU_CHANGE</a>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a96a25fbfb88459dabc2d6a4d086d2dd5">numaNodeId</a> = nicParam-&gt;NumaNodeId;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    portNo = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (status &amp;&amp; portNo) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a>(portNo, status);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;update_nic_done:</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a>(nicParam);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;}</div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0a9da2e094ebfdffc1ad09d3ba5bb600d7"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a9da2e094ebfdffc1ad09d3ba5bb600d7">OVS_EVENT_MTU_CHANGE</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:290</div></div>
<div class="ttc" id="DpInternal_8h_html_ae8a3b6a5d0d3244ed73924ab2421a0d0a04063ecafc058fadb9f4224a129a7b18"><div class="ttname"><a href="DpInternal_8h.html#ae8a3b6a5d0d3244ed73924ab2421a0d0a04063ecafc058fadb9f4224a129a7b18">OVS_EVENT_MAC_CHANGE</a></div><div class="ttdef"><b>Definition:</b> DpInternal.h:289</div></div>
<div class="ttc" id="Vport_8c_html_a55453565a59d9c05b6e5db6eb77e1e65"><div class="ttname"><a href="Vport_8c.html#a55453565a59d9c05b6e5db6eb77e1e65">VPORT_NIC_ENTER</a></div><div class="ttdeci">#define VPORT_NIC_ENTER(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:35</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb72915fafa7a4d3be436aad7f702623"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb72915fafa7a4d3be436aad7f702623">_OVS_VPORT_ENTRY::currMacAddress</a></div><div class="ttdeci">UINT8 currMacAddress[ETH_ADDR_LEN]</div><div class="ttdef"><b>Definition:</b> Vport.h:109</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a76a534b71ed4c7bbdc5dd6a9b5c0675d"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a76a534b71ed4c7bbdc5dd6a9b5c0675d">_OVS_VPORT_ENTRY::vmMacAddress</a></div><div class="ttdeci">UINT8 vmMacAddress[ETH_ADDR_LEN]</div><div class="ttdef"><b>Definition:</b> Vport.h:110</div></div>
<div class="ttc" id="Vport_8c_html_a64417133d18eabd436daf65e080affde"><div class="ttname"><a href="Vport_8c.html#a64417133d18eabd436daf65e080affde">OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</a></div><div class="ttdeci">#define OVS_VPORT_DEFAULT_WAIT_TIME_MICROSEC</div><div class="ttdef"><b>Definition:</b> Vport.c:49</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aa7c2d32b73f95f428a9c6a0999c60278"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aa7c2d32b73f95f428a9c6a0999c60278">_OVS_VPORT_ENTRY::permMacAddress</a></div><div class="ttdeci">UINT8 permMacAddress[ETH_ADDR_LEN]</div><div class="ttdef"><b>Definition:</b> Vport.h:108</div></div>
<div class="ttc" id="Event_8c_html_af0f59d3cef029d077a5180b23cfc525e"><div class="ttname"><a href="Event_8c.html#af0f59d3cef029d077a5180b23cfc525e">OvsPostEvent</a></div><div class="ttdeci">VOID OvsPostEvent(UINT32 portNo, UINT32 status)</div><div class="ttdef"><b>Definition:</b> Event.c:115</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a96a25fbfb88459dabc2d6a4d086d2dd5"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a96a25fbfb88459dabc2d6a4d086d2dd5">_OVS_VPORT_ENTRY::numaNodeId</a></div><div class="ttdeci">UINT16 numaNodeId</div><div class="ttdef"><b>Definition:</b> Vport.h:103</div></div>
<div class="ttc" id="Debug_8h_html_a6ed653e133701e7cd29fadae3753d029"><div class="ttname"><a href="Debug_8h.html#a6ed653e133701e7cd29fadae3753d029">OVS_LOG_WARN</a></div><div class="ttdeci">#define OVS_LOG_WARN(_format,...)</div><div class="ttdef"><b>Definition:</b> Debug.h:71</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab490af00156750aaea5a3afeb810ee6a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab490af00156750aaea5a3afeb810ee6a">_OVS_SWITCH_CONTEXT::isActivated</a></div><div class="ttdeci">BOOLEAN isActivated</div><div class="ttdef"><b>Definition:</b> Switch.h:93</div></div>
<div class="ttc" id="Vport_8c_html_afaa9b608a3f8a9159d710483a6f44686"><div class="ttname"><a href="Vport_8c.html#afaa9b608a3f8a9159d710483a6f44686">VPORT_NIC_EXIT</a></div><div class="ttdeci">#define VPORT_NIC_EXIT(_nic)</div><div class="ttdef"><b>Definition:</b> Vport.c:39</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a69dfb4f7110f50466b749274415d29c3"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a69dfb4f7110f50466b749274415d29c3">_OVS_VPORT_ENTRY::netCfgInstanceId</a></div><div class="ttdeci">GUID netCfgInstanceId</div><div class="ttdef"><b>Definition:</b> Vport.h:116</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="Vport_8c_html_a3a013a2e4d19263bcafe7c9623ee4ee9"><div class="ttname"><a href="Vport_8c.html#a3a013a2e4d19263bcafe7c9623ee4ee9">OvsWaitActivate</a></div><div class="ttdeci">static __inline VOID OvsWaitActivate(POVS_SWITCH_CONTEXT switchContext, ULONG sleepMicroSec)</div><div class="ttdef"><b>Definition:</b> Vport.c:1749</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a819342a37140dc28d6c23fd59814ef4e"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a819342a37140dc28d6c23fd59814ef4e">_OVS_VPORT_ENTRY::mtu</a></div><div class="ttdeci">UINT32 mtu</div><div class="ttdef"><b>Definition:</b> Vport.h:96</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af992899df255a772e5ad4f1828d28e64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIS_STATUS HvUpdatePort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PNDIS_SWITCH_PORT_PARAMETERS&#160;</td>
          <td class="paramname"><em>portParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    LOCK_STATE_EX lockState;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500">OVS_VPORT_STATE</a> ovsState;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    NDIS_SWITCH_NIC_STATE nicState;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a>(portParam);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    NdisAcquireRWLockWrite(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState, 0);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    vport = <a class="code" href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a>(switchContext,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                            portParam-&gt;PortId, 0);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">     * Update properties only for NETDEV ports for supprting PS script</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">     * We don&#39;t allow changing the names of the internal or external ports</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (vport == NULL || (( vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">portType</a> != NdisSwitchPortTypeSynthetic) &amp;&amp;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        ( vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">portType</a> != NdisSwitchPortTypeEmulated))) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">goto</span> update_port_done;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">/* Store the nic and the OVS states as Nic Create won&#39;t be called */</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    ovsState = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    nicState = vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">nicState</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">     * Currently only the port friendly name is being updated</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">     * Make sure that no other properties are changed</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    ASSERT(portParam-&gt;PortId == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#abd37a1763a5faec6de597c672bf1a590">portId</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    ASSERT(portParam-&gt;PortState == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ae6e1b57f475d44b6725b1d79b9f0d218">portState</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    ASSERT(portParam-&gt;PortType == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">portType</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">     * Call the set parameters function the handle all properties</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">     * change in a single place in case future version supports change of</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">     * other properties</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="Vport_8c.html#a76b3afcbed28aed006763e5a98a0bdf4">OvsInitVportWithPortParam</a>(vport, portParam);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">/* Retore the nic and OVS states */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">nicState</a> = nicState;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = ovsState;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;update_port_done:</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    NdisReleaseRWLock(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">dispatchLock</a>, &amp;lockState);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a>(portParam);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">/* Must always return success */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> NDIS_STATUS_SUCCESS;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div>
<div class="ttc" id="Vport_8c_html_adce3d5d037b8682d498e06a0e6cc208a"><div class="ttname"><a href="Vport_8c.html#adce3d5d037b8682d498e06a0e6cc208a">VPORT_PORT_EXIT</a></div><div class="ttdeci">#define VPORT_PORT_EXIT(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:46</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Vport_8c_html_a76b3afcbed28aed006763e5a98a0bdf4"><div class="ttname"><a href="Vport_8c.html#a76b3afcbed28aed006763e5a98a0bdf4">OvsInitVportWithPortParam</a></div><div class="ttdeci">static VOID OvsInitVportWithPortParam(POVS_VPORT_ENTRY vport, PNDIS_SWITCH_PORT_PARAMETERS portParam)</div><div class="ttdef"><b>Definition:</b> Vport.c:773</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a16d0ef70bf7036bc8dc654c243b27da7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a16d0ef70bf7036bc8dc654c243b27da7">_OVS_VPORT_ENTRY::portType</a></div><div class="ttdeci">NDIS_SWITCH_PORT_TYPE portType</div><div class="ttdef"><b>Definition:</b> Vport.h:106</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500">OVS_VPORT_STATE</a></div><div class="ttdeci">OVS_VPORT_STATE</div><div class="ttdef"><b>Definition:</b> Vport.h:52</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ae6e1b57f475d44b6725b1d79b9f0d218"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ae6e1b57f475d44b6725b1d79b9f0d218">_OVS_VPORT_ENTRY::portState</a></div><div class="ttdeci">NDIS_SWITCH_PORT_STATE portState</div><div class="ttdef"><b>Definition:</b> Vport.h:104</div></div>
<div class="ttc" id="Vport_8c_html_a8449c123cf66a3586cd0887b0581c86c"><div class="ttname"><a href="Vport_8c.html#a8449c123cf66a3586cd0887b0581c86c">VPORT_PORT_ENTER</a></div><div class="ttdeci">#define VPORT_PORT_ENTER(_port)</div><div class="ttdef"><b>Definition:</b> Vport.c:43</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Vport_8c_html_ab17cc616b760eefd28b8465a9ad9bdfb"><div class="ttname"><a href="Vport_8c.html#ab17cc616b760eefd28b8465a9ad9bdfb">OvsFindVportByPortIdAndNicIndex</a></div><div class="ttdeci">POVS_VPORT_ENTRY OvsFindVportByPortIdAndNicIndex(POVS_SWITCH_CONTEXT switchContext, NDIS_SWITCH_PORT_ID portId, NDIS_SWITCH_NIC_INDEX index)</div><div class="ttdef"><b>Definition:</b> Vport.c:723</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a002502c438503829073020f06cd20e15"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a002502c438503829073020f06cd20e15">_OVS_VPORT_ENTRY::nicState</a></div><div class="ttdeci">NDIS_SWITCH_NIC_STATE nicState</div><div class="ttdef"><b>Definition:</b> Vport.h:105</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_abd37a1763a5faec6de597c672bf1a590"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#abd37a1763a5faec6de597c672bf1a590">_OVS_VPORT_ENTRY::portId</a></div><div class="ttdeci">NDIS_SWITCH_PORT_ID portId</div><div class="ttdef"><b>Definition:</b> Vport.h:101</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ae75190b6802ef70c189e0c9dabbff982"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ae75190b6802ef70c189e0c9dabbff982">_OVS_SWITCH_CONTEXT::dispatchLock</a></div><div class="ttdeci">PNDIS_RW_LOCK_EX dispatchLock</div><div class="ttdef"><b>Definition:</b> Switch.h:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7cc578327abf94fc45ef88a25a626914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIS_STATUS InitOvsVportCommon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>vport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;{</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    UINT32 hash;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">switch</span>(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a>) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a>:</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a>:</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        UINT16 dstPort = <a class="code" href="Vport_8h.html#a325ed79687efd244fe187535c096e09f">GetPortFromPriv</a>(vport);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        hash = <a class="code" href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a>(&amp;dstPort,</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                             <span class="keyword">sizeof</span>(dstPort),</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                             <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        InsertHeadList(</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            &amp;<a class="code" href="Vport_8c.html#ae4e8c266508b5f55fa33d7d21941daf9">gOvsSwitchContext</a>-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab9a1af0ee641044bd10adb415b67d88a">tunnelVportsArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>],</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            &amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a4a86b816c7f31ea51b1d9b8733dd3e07">tunnelVportLink</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a6e93c14bb3e3a25f2e05187e26aa2562">numNonHvVports</a>++;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a>:</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">isBridgeInternal</a>) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;            switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a6e93c14bb3e3a25f2e05187e26aa2562">numNonHvVports</a>++;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">     * Insert the port into the hash array of ports: by port number and ovs</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">     * and ovs (datapath) port name.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">     * NOTE: OvsJhashWords has portNo as &quot;1&quot; word. This is ok, because the</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">     * portNo is stored in 2 bytes only (max port number = MAXUINT16).</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    hash = <a class="code" href="Jhash_8c.html#a32f537458a183199bddfc7cde2a7bfee">OvsJhashWords</a>(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a>, 1, <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    InsertHeadList(&amp;<a class="code" href="Vport_8c.html#ae4e8c266508b5f55fa33d7d21941daf9">gOvsSwitchContext</a>-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#acacc0274b94607fd2a33eff3fa44f6ba">portNoHashArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>],</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                   &amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">portNoLink</a>);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    hash = <a class="code" href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a>(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">ovsName</a>, strlen(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">ovsName</a>) + 1,</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                         <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    InsertHeadList(</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        &amp;<a class="code" href="Vport_8c.html#ae4e8c266508b5f55fa33d7d21941daf9">gOvsSwitchContext</a>-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a56854c5ea63ed7a29b0f0954fedfc19b">ovsPortNameHashArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>],</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        &amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">ovsNameLink</a>);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keywordflow">return</span> STATUS_SUCCESS;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a6e93c14bb3e3a25f2e05187e26aa2562"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a6e93c14bb3e3a25f2e05187e26aa2562">_OVS_SWITCH_CONTEXT::numNonHvVports</a></div><div class="ttdeci">UINT32 numNonHvVports</div><div class="ttdef"><b>Definition:</b> Switch.h:164</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a27fef079a0a083f0312ae858c8a987bd"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">_OVS_VPORT_ENTRY::ovsNameLink</a></div><div class="ttdeci">LIST_ENTRY ovsNameLink</div><div class="ttdef"><b>Definition:</b> Vport.h:86</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab9a1af0ee641044bd10adb415b67d88a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab9a1af0ee641044bd10adb415b67d88a">_OVS_SWITCH_CONTEXT::tunnelVportsArray</a></div><div class="ttdeci">PLIST_ENTRY tunnelVportsArray</div><div class="ttdef"><b>Definition:</b> Switch.h:156</div></div>
<div class="ttc" id="Vport_8h_html_a325ed79687efd244fe187535c096e09f"><div class="ttname"><a href="Vport_8h.html#a325ed79687efd244fe187535c096e09f">GetPortFromPriv</a></div><div class="ttdeci">static __inline UINT16 GetPortFromPriv(POVS_VPORT_ENTRY vport)</div><div class="ttdef"><b>Definition:</b> Vport.h:227</div></div>
<div class="ttc" id="Switch_8h_html_aa74f66d8afe68b9421b14fd14899ea9b"><div class="ttname"><a href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a></div><div class="ttdeci">#define OVS_VPORT_MASK</div><div class="ttdef"><b>Definition:</b> Switch.h:30</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a56854c5ea63ed7a29b0f0954fedfc19b"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a56854c5ea63ed7a29b0f0954fedfc19b">_OVS_SWITCH_CONTEXT::ovsPortNameHashArray</a></div><div class="ttdeci">PLIST_ENTRY ovsPortNameHashArray</div><div class="ttdef"><b>Definition:</b> Switch.h:157</div></div>
<div class="ttc" id="Vport_8c_html_ae4e8c266508b5f55fa33d7d21941daf9"><div class="ttname"><a href="Vport_8c.html#ae4e8c266508b5f55fa33d7d21941daf9">gOvsSwitchContext</a></div><div class="ttdeci">POVS_SWITCH_CONTEXT gOvsSwitchContext</div><div class="ttdef"><b>Definition:</b> Switch.c:37</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:232</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a4a86b816c7f31ea51b1d9b8733dd3e07"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a4a86b816c7f31ea51b1d9b8733dd3e07">_OVS_VPORT_ENTRY::tunnelVportLink</a></div><div class="ttdeci">LIST_ENTRY tunnelVportLink</div><div class="ttdef"><b>Definition:</b> Vport.h:89</div></div>
<div class="ttc" id="Jhash_8c_html_adb3244bfa1a09fa88e21ce1eb9508c1b"><div class="ttname"><a href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a></div><div class="ttdeci">UINT32 OvsJhashBytes(const VOID *p_, SIZE_T n, UINT32 basis)</div><div class="ttdef"><b>Definition:</b> Jhash.c:101</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6e4ac2b0b398a29e69f898179a47c6f7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">_OVS_VPORT_ENTRY::isBridgeInternal</a></div><div class="ttdeci">BOOLEAN isBridgeInternal</div><div class="ttdef"><b>Definition:</b> Vport.h:131</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ac54c2fc2ad8eaf2184ac4422f5d9a1d0"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">_OVS_VPORT_ENTRY::portNoLink</a></div><div class="ttdeci">LIST_ENTRY portNoLink</div><div class="ttdef"><b>Definition:</b> Vport.h:88</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:227</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:229</div></div>
<div class="ttc" id="Switch_8h_html_af4d564aefaa4a7d097a2eb263dee396a"><div class="ttname"><a href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a></div><div class="ttdeci">#define OVS_HASH_BASIS</div><div class="ttdef"><b>Definition:</b> Switch.h:45</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a9cfaf48c00ce38e60a335ab82718b0d2"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">_OVS_VPORT_ENTRY::ovsName</a></div><div class="ttdeci">CHAR ovsName[OVS_MAX_PORT_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> Vport.h:98</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_acacc0274b94607fd2a33eff3fa44f6ba"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#acacc0274b94607fd2a33eff3fa44f6ba">_OVS_SWITCH_CONTEXT::portNoHashArray</a></div><div class="ttdeci">PLIST_ENTRY portNoHashArray</div><div class="ttdef"><b>Definition:</b> Switch.h:155</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
<div class="ttc" id="Jhash_8c_html_a32f537458a183199bddfc7cde2a7bfee"><div class="ttname"><a href="Jhash_8c.html#a32f537458a183199bddfc7cde2a7bfee">OvsJhashWords</a></div><div class="ttdeci">UINT32 OvsJhashWords(const UINT32 *p, SIZE_T n, UINT32 basis)</div><div class="ttdef"><b>Definition:</b> Jhash.c:64</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af56761bb218767bd1391c8bd5a18855b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIS_STATUS OvsAddConfiguredSwitchPorts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__OVS__SWITCH__CONTEXT.html">_OVS_SWITCH_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>switchContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c874912fad0be0f4232e22e307ea731"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsAllocateVport </td>
          <td>(</td>
          <td class="paramtype">VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    vport = (<a class="code" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>)<a class="code" href="Util_8c.html#ac8f761db04ca2512e0c5b157ab5a8e6a">OvsAllocateMemoryWithTag</a>(</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keyword">sizeof</span>(<a class="code" href="struct__OVS__VPORT__ENTRY.html">OVS_VPORT_ENTRY</a>), <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (vport == NULL) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    RtlZeroMemory(vport, <span class="keyword">sizeof</span> (<a class="code" href="struct__OVS__VPORT__ENTRY.html">OVS_VPORT_ENTRY</a>));</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf">OVS_STATE_UNKNOWN</a>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a> = FALSE;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a> = <a class="code" href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">ovsNameLink</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adcb291580e34ece712b9d089677972bf">portIdLink</a>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">portNoLink</a>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6df479a183f045b104375a67609d5dee"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">_OVS_VPORT_ENTRY::isAbsentOnHv</a></div><div class="ttdeci">BOOLEAN isAbsentOnHv</div><div class="ttdef"><b>Definition:</b> Vport.h:135</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a27fef079a0a083f0312ae858c8a987bd"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">_OVS_VPORT_ENTRY::ovsNameLink</a></div><div class="ttdeci">LIST_ENTRY ovsNameLink</div><div class="ttdef"><b>Definition:</b> Vport.h:86</div></div>
<div class="ttc" id="Vport_8h_html_ab1d1db4e6e156a4c4c99da1b5cbb4f04"><div class="ttname"><a href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a></div><div class="ttdeci">#define OVS_DPPORT_NUMBER_INVALID</div><div class="ttdef"><b>Definition:</b> Vport.h:25</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="Util_8c_html_ac8f761db04ca2512e0c5b157ab5a8e6a"><div class="ttname"><a href="Util_8c.html#ac8f761db04ca2512e0c5b157ab5a8e6a">OvsAllocateMemoryWithTag</a></div><div class="ttdeci">VOID * OvsAllocateMemoryWithTag(size_t size, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:28</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500adc88cddc7f2519b554249a6b1bb5e0bf">OVS_STATE_UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> Vport.h:53</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Switch_8h_html_a41a0a7a50d232916d005ffcc68b9f9f1"><div class="ttname"><a href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a></div><div class="ttdeci">struct _OVS_VPORT_ENTRY * POVS_VPORT_ENTRY</div><div class="ttdef"><b>Definition:</b> Switch.h:47</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adcb291580e34ece712b9d089677972bf"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adcb291580e34ece712b9d089677972bf">_OVS_VPORT_ENTRY::portIdLink</a></div><div class="ttdeci">LIST_ENTRY portIdLink</div><div class="ttdef"><b>Definition:</b> Vport.h:87</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ac54c2fc2ad8eaf2184ac4422f5d9a1d0"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">_OVS_VPORT_ENTRY::portNoLink</a></div><div class="ttdeci">LIST_ENTRY portNoLink</div><div class="ttdef"><b>Definition:</b> Vport.h:88</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Util_8h_html_a186f710164dd337b2eee76cdd0b3917d"><div class="ttname"><a href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a></div><div class="ttdeci">#define OVS_VPORT_POOL_TAG</div><div class="ttdef"><b>Definition:</b> Util.h:35</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a106d97870f5e729f829f65943539ceb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID OvsClearAllSwitchVports </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__OVS__SWITCH__CONTEXT.html">_OVS_SWITCH_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>switchContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a838a6bad6a5e3ad7fdfa4d80e231484c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsFindTunnelVportByDstPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT16&#160;</td>
          <td class="paramname"><em>dstPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a>&#160;</td>
          <td class="paramname"><em>ovsVportType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    PLIST_ENTRY head, link;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    UINT32 hash = <a class="code" href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a>((<span class="keyword">const</span> VOID *)&amp;dstPort, <span class="keyword">sizeof</span>(dstPort),</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                                <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    head = &amp;(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#ab9a1af0ee641044bd10adb415b67d88a">tunnelVportsArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>]);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a>(head, link) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        vport = CONTAINING_RECORD(link, <a class="code" href="struct__OVS__VPORT__ENTRY.html">OVS_VPORT_ENTRY</a>, tunnelVportLink);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="Vport_8h.html#a325ed79687efd244fe187535c096e09f">GetPortFromPriv</a>(vport) == dstPort &amp;&amp;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a> == ovsPortType) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        }</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div>
<div class="ttc" id="Util_8h_html_a0dea3b8fd64bbe42903d57549280b219"><div class="ttname"><a href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a></div><div class="ttdeci">#define LIST_FORALL(_headPtr, _itemPtr)</div><div class="ttdef"><b>Definition:</b> Util.h:45</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_ab9a1af0ee641044bd10adb415b67d88a"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#ab9a1af0ee641044bd10adb415b67d88a">_OVS_SWITCH_CONTEXT::tunnelVportsArray</a></div><div class="ttdeci">PLIST_ENTRY tunnelVportsArray</div><div class="ttdef"><b>Definition:</b> Switch.h:156</div></div>
<div class="ttc" id="Vport_8h_html_a325ed79687efd244fe187535c096e09f"><div class="ttname"><a href="Vport_8h.html#a325ed79687efd244fe187535c096e09f">GetPortFromPriv</a></div><div class="ttdeci">static __inline UINT16 GetPortFromPriv(POVS_VPORT_ENTRY vport)</div><div class="ttdef"><b>Definition:</b> Vport.h:227</div></div>
<div class="ttc" id="Switch_8h_html_aa74f66d8afe68b9421b14fd14899ea9b"><div class="ttname"><a href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a></div><div class="ttdeci">#define OVS_VPORT_MASK</div><div class="ttdef"><b>Definition:</b> Switch.h:30</div></div>
<div class="ttc" id="Jhash_8c_html_adb3244bfa1a09fa88e21ce1eb9508c1b"><div class="ttname"><a href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a></div><div class="ttdeci">UINT32 OvsJhashBytes(const VOID *p_, SIZE_T n, UINT32 basis)</div><div class="ttdef"><b>Definition:</b> Jhash.c:101</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Switch_8h_html_af4d564aefaa4a7d097a2eb263dee396a"><div class="ttname"><a href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a></div><div class="ttdeci">#define OVS_HASH_BASIS</div><div class="ttdef"><b>Definition:</b> Switch.h:45</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17e310b20a6deebddb71ffbabb053b36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsFindVportByHvNameA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PSTR&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a> = NULL;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">/* &#39;portFriendlyName&#39; is not NUL-terminated. */</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    SIZE_T length = strlen(<a class="code" href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">name</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    SIZE_T wstrSize = length * <span class="keyword">sizeof</span>(WCHAR);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    UINT i;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    PWSTR wsName = <a class="code" href="Util_8c.html#ac8f761db04ca2512e0c5b157ab5a8e6a">OvsAllocateMemoryWithTag</a>(wstrSize, <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (!wsName) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; length; i++) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        wsName[i] = <a class="code" href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">name</a>[i];</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    vport = <a class="code" href="Vport_8c.html#a36642898aec68a2684a3b668f1b4a851">OvsFindVportByHvNameW</a>(switchContext, wsName, wstrSize);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a>(wsName, <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;}</div>
<div class="ttc" id="Util_8c_html_ac8f761db04ca2512e0c5b157ab5a8e6a"><div class="ttname"><a href="Util_8c.html#ac8f761db04ca2512e0c5b157ab5a8e6a">OvsAllocateMemoryWithTag</a></div><div class="ttdeci">VOID * OvsAllocateMemoryWithTag(size_t size, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:28</div></div>
<div class="ttc" id="Util_8c_html_a0157966a9647ad0512c5314a245c010a"><div class="ttname"><a href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a></div><div class="ttdeci">VOID OvsFreeMemoryWithTag(VOID *ptr, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:36</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Vport_8c_html_a36642898aec68a2684a3b668f1b4a851"><div class="ttname"><a href="Vport_8c.html#a36642898aec68a2684a3b668f1b4a851">OvsFindVportByHvNameW</a></div><div class="ttdeci">static POVS_VPORT_ENTRY OvsFindVportByHvNameW(POVS_SWITCH_CONTEXT switchContext, PWSTR wsName, SIZE_T wstrSize)</div><div class="ttdef"><b>Definition:</b> Vport.c:649</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="Util_8h_html_a186f710164dd337b2eee76cdd0b3917d"><div class="ttname"><a href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a></div><div class="ttdeci">#define OVS_VPORT_POOL_TAG</div><div class="ttdef"><b>Definition:</b> Util.h:35</div></div>
<div class="ttc" id="namespacesetup_html_a61de3710bf6c9d78c0afa352263f8b09"><div class="ttname"><a href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">setup.name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> setup.py:30</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0b1bcf9f40b33a92023a597c4886c3aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsFindVportByOvsName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PSTR&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    PLIST_ENTRY head, link;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    UINT32 hash;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    SIZE_T length = strlen(<a class="code" href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">name</a>) + 1;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    hash = <a class="code" href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a>((<span class="keyword">const</span> VOID *)<a class="code" href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">name</a>, length, <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    head = &amp;(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a56854c5ea63ed7a29b0f0954fedfc19b">ovsPortNameHashArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>]);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a>(head, link) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        vport = CONTAINING_RECORD(link, <a class="code" href="struct__OVS__VPORT__ENTRY.html">OVS_VPORT_ENTRY</a>, ovsNameLink);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordflow">if</span> (!strcmp(<a class="code" href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">name</a>, vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">ovsName</a>)) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="ttc" id="Util_8h_html_a0dea3b8fd64bbe42903d57549280b219"><div class="ttname"><a href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a></div><div class="ttdeci">#define LIST_FORALL(_headPtr, _itemPtr)</div><div class="ttdef"><b>Definition:</b> Util.h:45</div></div>
<div class="ttc" id="Switch_8h_html_aa74f66d8afe68b9421b14fd14899ea9b"><div class="ttname"><a href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a></div><div class="ttdeci">#define OVS_VPORT_MASK</div><div class="ttdef"><b>Definition:</b> Switch.h:30</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a56854c5ea63ed7a29b0f0954fedfc19b"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a56854c5ea63ed7a29b0f0954fedfc19b">_OVS_SWITCH_CONTEXT::ovsPortNameHashArray</a></div><div class="ttdeci">PLIST_ENTRY ovsPortNameHashArray</div><div class="ttdef"><b>Definition:</b> Switch.h:157</div></div>
<div class="ttc" id="Jhash_8c_html_adb3244bfa1a09fa88e21ce1eb9508c1b"><div class="ttname"><a href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a></div><div class="ttdeci">UINT32 OvsJhashBytes(const VOID *p_, SIZE_T n, UINT32 basis)</div><div class="ttdef"><b>Definition:</b> Jhash.c:101</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Switch_8h_html_af4d564aefaa4a7d097a2eb263dee396a"><div class="ttname"><a href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a></div><div class="ttdeci">#define OVS_HASH_BASIS</div><div class="ttdef"><b>Definition:</b> Switch.h:45</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a9cfaf48c00ce38e60a335ab82718b0d2"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">_OVS_VPORT_ENTRY::ovsName</a></div><div class="ttdeci">CHAR ovsName[OVS_MAX_PORT_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> Vport.h:98</div></div>
<div class="ttc" id="namespacesetup_html_a61de3710bf6c9d78c0afa352263f8b09"><div class="ttname"><a href="namespacesetup.html#a61de3710bf6c9d78c0afa352263f8b09">setup.name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> setup.py:30</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab17cc616b760eefd28b8465a9ad9bdfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsFindVportByPortIdAndNicIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NDIS_SWITCH_PORT_ID&#160;</td>
          <td class="paramname"><em>portId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NDIS_SWITCH_NIC_INDEX&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;{</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">virtualExternalVport</a> &amp;&amp;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;            portId == switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a65334e167df16ba6fa1c3b169f239424">virtualExternalPortId</a> &amp;&amp;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            index == switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">virtualExternalVport</a>-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">nicIndex</a>) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a>)switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">virtualExternalVport</a>;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a79acfa977569d531ce6212c632515b93">internalVport</a> &amp;&amp;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;               portId == switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a32b1e8d96a1b48d9520b079e1685f397">internalPortId</a> &amp;&amp;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;               index == switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a79acfa977569d531ce6212c632515b93">internalVport</a>-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">nicIndex</a>) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a>)switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a79acfa977569d531ce6212c632515b93">internalVport</a>;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        PLIST_ENTRY head, link;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        UINT32 hash;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        hash = <a class="code" href="Jhash_8c.html#a32f537458a183199bddfc7cde2a7bfee">OvsJhashWords</a>((UINT32 *)&amp;portId, 1, <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        head = &amp;(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a97cf517c028a820ff5c955c3b3bf7e10">portIdHashArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>]);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <a class="code" href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a>(head, link) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            vport = CONTAINING_RECORD(link, <a class="code" href="struct__OVS__VPORT__ENTRY.html">OVS_VPORT_ENTRY</a>, portIdLink);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">if</span> (portId == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#abd37a1763a5faec6de597c672bf1a590">portId</a> &amp;&amp; index == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">nicIndex</a>) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_af65b9cf76d47a93178b3be08f4a8dd82"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">_OVS_SWITCH_CONTEXT::virtualExternalVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY virtualExternalVport</div><div class="ttdef"><b>Definition:</b> Switch.h:131</div></div>
<div class="ttc" id="Util_8h_html_a0dea3b8fd64bbe42903d57549280b219"><div class="ttname"><a href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a></div><div class="ttdeci">#define LIST_FORALL(_headPtr, _itemPtr)</div><div class="ttdef"><b>Definition:</b> Util.h:45</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a79acfa977569d531ce6212c632515b93"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a79acfa977569d531ce6212c632515b93">_OVS_SWITCH_CONTEXT::internalVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY internalVport</div><div class="ttdef"><b>Definition:</b> Switch.h:132</div></div>
<div class="ttc" id="Switch_8h_html_aa74f66d8afe68b9421b14fd14899ea9b"><div class="ttname"><a href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a></div><div class="ttdeci">#define OVS_VPORT_MASK</div><div class="ttdef"><b>Definition:</b> Switch.h:30</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a97cf517c028a820ff5c955c3b3bf7e10"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a97cf517c028a820ff5c955c3b3bf7e10">_OVS_SWITCH_CONTEXT::portIdHashArray</a></div><div class="ttdeci">PLIST_ENTRY portIdHashArray</div><div class="ttdef"><b>Definition:</b> Switch.h:154</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ad4a74979cfb52cb0c9f6e1fd23ec6f66"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">_OVS_VPORT_ENTRY::nicIndex</a></div><div class="ttdeci">NDIS_SWITCH_NIC_INDEX nicIndex</div><div class="ttdef"><b>Definition:</b> Vport.h:102</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a65334e167df16ba6fa1c3b169f239424"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a65334e167df16ba6fa1c3b169f239424">_OVS_SWITCH_CONTEXT::virtualExternalPortId</a></div><div class="ttdeci">NDIS_SWITCH_PORT_ID virtualExternalPortId</div><div class="ttdef"><b>Definition:</b> Switch.h:129</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a32b1e8d96a1b48d9520b079e1685f397"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a32b1e8d96a1b48d9520b079e1685f397">_OVS_SWITCH_CONTEXT::internalPortId</a></div><div class="ttdeci">NDIS_SWITCH_PORT_ID internalPortId</div><div class="ttdef"><b>Definition:</b> Switch.h:130</div></div>
<div class="ttc" id="Switch_8h_html_af4d564aefaa4a7d097a2eb263dee396a"><div class="ttname"><a href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a></div><div class="ttdeci">#define OVS_HASH_BASIS</div><div class="ttdef"><b>Definition:</b> Switch.h:45</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_abd37a1763a5faec6de597c672bf1a590"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#abd37a1763a5faec6de597c672bf1a590">_OVS_VPORT_ENTRY::portId</a></div><div class="ttdeci">NDIS_SWITCH_PORT_ID portId</div><div class="ttdef"><b>Definition:</b> Vport.h:101</div></div>
<div class="ttc" id="Jhash_8c_html_a32f537458a183199bddfc7cde2a7bfee"><div class="ttname"><a href="Jhash_8c.html#a32f537458a183199bddfc7cde2a7bfee">OvsJhashWords</a></div><div class="ttdeci">UINT32 OvsJhashWords(const UINT32 *p, SIZE_T n, UINT32 basis)</div><div class="ttdef"><b>Definition:</b> Jhash.c:64</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a090f0c9c725e5a23d2e1a968b7d9f7ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsFindVportByPortNo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>portNo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a> <a class="code" href="structvport.html">vport</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    PLIST_ENTRY head, link;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    UINT32 hash = <a class="code" href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a>((<span class="keyword">const</span> VOID *)&amp;portNo, <span class="keyword">sizeof</span>(portNo),</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                <a class="code" href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    head = &amp;(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#acacc0274b94607fd2a33eff3fa44f6ba">portNoHashArray</a>[hash &amp; <a class="code" href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a>]);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a>(head, link) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        vport = CONTAINING_RECORD(link, <a class="code" href="struct__OVS__VPORT__ENTRY.html">OVS_VPORT_ENTRY</a>, portNoLink);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a> == portNo) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            <span class="keywordflow">return</span> vport;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="ttc" id="Util_8h_html_a0dea3b8fd64bbe42903d57549280b219"><div class="ttname"><a href="Util_8h.html#a0dea3b8fd64bbe42903d57549280b219">LIST_FORALL</a></div><div class="ttdeci">#define LIST_FORALL(_headPtr, _itemPtr)</div><div class="ttdef"><b>Definition:</b> Util.h:45</div></div>
<div class="ttc" id="Switch_8h_html_aa74f66d8afe68b9421b14fd14899ea9b"><div class="ttname"><a href="Switch_8h.html#aa74f66d8afe68b9421b14fd14899ea9b">OVS_VPORT_MASK</a></div><div class="ttdeci">#define OVS_VPORT_MASK</div><div class="ttdef"><b>Definition:</b> Switch.h:30</div></div>
<div class="ttc" id="Jhash_8c_html_adb3244bfa1a09fa88e21ce1eb9508c1b"><div class="ttname"><a href="Jhash_8c.html#adb3244bfa1a09fa88e21ce1eb9508c1b">OvsJhashBytes</a></div><div class="ttdeci">UINT32 OvsJhashBytes(const VOID *p_, SIZE_T n, UINT32 basis)</div><div class="ttdef"><b>Definition:</b> Jhash.c:101</div></div>
<div class="ttc" id="structvport_html"><div class="ttname"><a href="structvport.html">vport</a></div><div class="ttdef"><b>Definition:</b> vport.h:105</div></div>
<div class="ttc" id="Switch_8h_html_af4d564aefaa4a7d097a2eb263dee396a"><div class="ttname"><a href="Switch_8h.html#af4d564aefaa4a7d097a2eb263dee396a">OVS_HASH_BASIS</a></div><div class="ttdeci">#define OVS_HASH_BASIS</div><div class="ttdef"><b>Definition:</b> Switch.h:45</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_acacc0274b94607fd2a33eff3fa44f6ba"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#acacc0274b94607fd2a33eff3fa44f6ba">_OVS_SWITCH_CONTEXT::portNoHashArray</a></div><div class="ttdeci">PLIST_ENTRY portNoHashArray</div><div class="ttdef"><b>Definition:</b> Switch.h:155</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a89316fec11160c87b802896ae1f69800"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline UINT32 OvsGetExternalMtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    ASSERT(<a class="code" href="Vport_8h.html#a14d5a426e94a3ebc1ab757ce66f1c48e">OvsGetExternalVport</a>(switchContext));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> ((<a class="code" href="struct__OVS__VPORT__ENTRY.html">POVS_VPORT_ENTRY</a>) <a class="code" href="Vport_8h.html#a14d5a426e94a3ebc1ab757ce66f1c48e">OvsGetExternalVport</a>(switchContext))-&gt;mtu;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="Vport_8h_html_a14d5a426e94a3ebc1ab757ce66f1c48e"><div class="ttname"><a href="Vport_8h.html#a14d5a426e94a3ebc1ab757ce66f1c48e">OvsGetExternalVport</a></div><div class="ttdeci">static __inline POVS_VPORT_ENTRY OvsGetExternalVport(POVS_SWITCH_CONTEXT switchContext)</div><div class="ttdef"><b>Definition:</b> Vport.h:214</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html">_OVS_VPORT_ENTRY</a></div><div class="ttdef"><b>Definition:</b> Vport.h:85</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a14d5a426e94a3ebc1ab757ce66f1c48e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline <a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a> OvsGetExternalVport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">virtualExternalVport</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_af65b9cf76d47a93178b3be08f4a8dd82"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">_OVS_SWITCH_CONTEXT::virtualExternalVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY virtualExternalVport</div><div class="ttdef"><b>Definition:</b> Switch.h:131</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1b442ba8bfbcc429a4ef4441688a1549"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NTSTATUS OvsInitBridgeInternalVport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;{</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">isBridgeInternal</a> = TRUE;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a> = <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">/* Mark the status to be connected, since there is no other initialization</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment">     * for this port. */</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a>;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="keywordflow">return</span> STATUS_SUCCESS;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6e4ac2b0b398a29e69f898179a47c6f7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">_OVS_VPORT_ENTRY::isBridgeInternal</a></div><div class="ttdeci">BOOLEAN isBridgeInternal</div><div class="ttdef"><b>Definition:</b> Vport.h:131</div></div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a92e85d37d1e9c24506a040f4dc02a28a">OVS_STATE_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:56</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:227</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a219fd07235f49b8d7031bfc6313498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDIS_STATUS OvsInitConfiguredSwitchNics </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__OVS__SWITCH__CONTEXT.html">_OVS_SWITCH_CONTEXT</a> *&#160;</td>
          <td class="paramname"><em>switchContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5eb4dbe9e56c7183bc318158ac64df25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NTSTATUS OvsInitTunnelVport </td>
          <td>(</td>
          <td class="paramtype">PVOID&#160;</td>
          <td class="paramname"><em>usrParamsCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a>&#160;</td>
          <td class="paramname"><em>ovsType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT16&#160;</td>
          <td class="paramname"><em>dstport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;{</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    NTSTATUS status = STATUS_SUCCESS;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="struct__OVS__USER__PARAMS__CONTEXT.html">POVS_USER_PARAMS_CONTEXT</a> usrParamsCtx =</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        (<a class="code" href="Datapath_8h.html#a1ba5df4e5b845af8001c5fd1942eed93">POVS_USER_PARAMS_CONTEXT</a>)userContext;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">isBridgeInternal</a> = FALSE;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a> = ovsType;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">ovsState</a> = <a class="code" href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">switch</span> (ovsType) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d">OVS_VPORT_TYPE_GRE</a>:</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a>:</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="struct__OVS__TUNFLT__INIT__CONTEXT.html">POVS_TUNFLT_INIT_CONTEXT</a> tunnelContext = NULL;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        tunnelContext = <a class="code" href="Util_8c.html#ac8f761db04ca2512e0c5b157ab5a8e6a">OvsAllocateMemoryWithTag</a>(<span class="keyword">sizeof</span>(*tunnelContext),</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                                                 <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">if</span> (tunnelContext == NULL) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            status = STATUS_INSUFFICIENT_RESOURCES;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        tunnelContext-&gt;<a class="code" href="struct__OVS__TUNFLT__INIT__CONTEXT.html#afca65b867310b384a387abd05dbd309a">inputBuffer</a> = usrParamsCtx-&gt;<a class="code" href="struct__OVS__USER__PARAMS__CONTEXT.html#a41beba71b744aca9e1ad9c23a9fbfb4b">inputBuffer</a>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        tunnelContext-&gt;<a class="code" href="struct__OVS__TUNFLT__INIT__CONTEXT.html#ae3e6fa878eeb47950b4fee9661efa692">outputBuffer</a> = usrParamsCtx-&gt;<a class="code" href="struct__OVS__USER__PARAMS__CONTEXT.html#a0a421a5594267176b7f9cb2c242a6a24">outputBuffer</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        tunnelContext-&gt;<a class="code" href="struct__OVS__TUNFLT__INIT__CONTEXT.html#aa8586f9064f77a00a96d1fb3312b8442">outputLength</a> = usrParamsCtx-&gt;<a class="code" href="struct__OVS__USER__PARAMS__CONTEXT.html#ae713efa94c570f15b3097f5f7fa23716">outputLength</a>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        tunnelContext-&gt;<a class="code" href="struct__OVS__TUNFLT__INIT__CONTEXT.html#a6e994bc6c28e6a6bec4e748e0bf5cfee">vport</a> = vport;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        status = <a class="code" href="Vxlan_8c.html#a00ae84f3dc522dc2ab8433f6b5414ecf">OvsInitVxlanTunnel</a>(usrParamsCtx-&gt;<a class="code" href="struct__OVS__USER__PARAMS__CONTEXT.html#a62897133c5bab84e74c88b538931124c">irp</a>,</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                                    vport,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                                    dstPort,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                    <a class="code" href="Vport_8c.html#ac03074bde235c54e2618cfa7b6b08297">OvsTunnelVportPendingInit</a>,</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                    (PVOID)tunnelContext);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">if</span> (status != STATUS_PENDING) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            <a class="code" href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a>(tunnelContext, <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            tunnelContext = NULL;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        }</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a>:</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        status = <a class="code" href="Stt_8c.html#aa368b6f3a71f1b3c21fc46dafe8f3477">OvsInitSttTunnel</a>(vport, dstPort);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;        ASSERT(0);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div>
<div class="ttc" id="Vport_8h_html_abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb"><div class="ttname"><a href="Vport_8h.html#abb7621346fd1817c79de758a7fa38500a104dff900611aecef40cc4f5a03beaeb">OVS_STATE_PORT_CREATED</a></div><div class="ttdef"><b>Definition:</b> Vport.h:54</div></div>
<div class="ttc" id="struct__OVS__USER__PARAMS__CONTEXT_html_a0a421a5594267176b7f9cb2c242a6a24"><div class="ttname"><a href="struct__OVS__USER__PARAMS__CONTEXT.html#a0a421a5594267176b7f9cb2c242a6a24">_OVS_USER_PARAMS_CONTEXT::outputBuffer</a></div><div class="ttdeci">PVOID outputBuffer</div><div class="ttdef"><b>Definition:</b> Datapath.h:90</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__TUNFLT__INIT__CONTEXT_html_ae3e6fa878eeb47950b4fee9661efa692"><div class="ttname"><a href="struct__OVS__TUNFLT__INIT__CONTEXT.html#ae3e6fa878eeb47950b4fee9661efa692">_OVS_TUNFLT_INIT_CONTEXT::outputBuffer</a></div><div class="ttdeci">PVOID outputBuffer</div><div class="ttdef"><b>Definition:</b> Vport.c:56</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d">OVS_VPORT_TYPE_GRE</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:228</div></div>
<div class="ttc" id="struct__OVS__USER__PARAMS__CONTEXT_html"><div class="ttname"><a href="struct__OVS__USER__PARAMS__CONTEXT.html">_OVS_USER_PARAMS_CONTEXT</a></div><div class="ttdef"><b>Definition:</b> Datapath.h:83</div></div>
<div class="ttc" id="struct__OVS__TUNFLT__INIT__CONTEXT_html_a6e994bc6c28e6a6bec4e748e0bf5cfee"><div class="ttname"><a href="struct__OVS__TUNFLT__INIT__CONTEXT.html#a6e994bc6c28e6a6bec4e748e0bf5cfee">_OVS_TUNFLT_INIT_CONTEXT::vport</a></div><div class="ttdeci">POVS_VPORT_ENTRY vport</div><div class="ttdef"><b>Definition:</b> Vport.c:58</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_aac53fa02e3879901b16a6dd441b1b0d8"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#aac53fa02e3879901b16a6dd441b1b0d8">_OVS_VPORT_ENTRY::ovsState</a></div><div class="ttdeci">OVS_VPORT_STATE ovsState</div><div class="ttdef"><b>Definition:</b> Vport.h:91</div></div>
<div class="ttc" id="struct__OVS__USER__PARAMS__CONTEXT_html_ae713efa94c570f15b3097f5f7fa23716"><div class="ttname"><a href="struct__OVS__USER__PARAMS__CONTEXT.html#ae713efa94c570f15b3097f5f7fa23716">_OVS_USER_PARAMS_CONTEXT::outputLength</a></div><div class="ttdeci">UINT32 outputLength</div><div class="ttdef"><b>Definition:</b> Datapath.h:92</div></div>
<div class="ttc" id="struct__OVS__USER__PARAMS__CONTEXT_html_a41beba71b744aca9e1ad9c23a9fbfb4b"><div class="ttname"><a href="struct__OVS__USER__PARAMS__CONTEXT.html#a41beba71b744aca9e1ad9c23a9fbfb4b">_OVS_USER_PARAMS_CONTEXT::inputBuffer</a></div><div class="ttdeci">PVOID inputBuffer</div><div class="ttdef"><b>Definition:</b> Datapath.h:88</div></div>
<div class="ttc" id="Vxlan_8c_html_a00ae84f3dc522dc2ab8433f6b5414ecf"><div class="ttname"><a href="Vxlan_8c.html#a00ae84f3dc522dc2ab8433f6b5414ecf">OvsInitVxlanTunnel</a></div><div class="ttdeci">NTSTATUS OvsInitVxlanTunnel(PIRP irp, POVS_VPORT_ENTRY vport, UINT16 udpDestPort, PFNTunnelVportPendingOp callback, PVOID tunnelContext)</div><div class="ttdef"><b>Definition:</b> Vxlan.c:97</div></div>
<div class="ttc" id="Util_8c_html_ac8f761db04ca2512e0c5b157ab5a8e6a"><div class="ttname"><a href="Util_8c.html#ac8f761db04ca2512e0c5b157ab5a8e6a">OvsAllocateMemoryWithTag</a></div><div class="ttdeci">VOID * OvsAllocateMemoryWithTag(size_t size, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:28</div></div>
<div class="ttc" id="struct__OVS__USER__PARAMS__CONTEXT_html_a62897133c5bab84e74c88b538931124c"><div class="ttname"><a href="struct__OVS__USER__PARAMS__CONTEXT.html#a62897133c5bab84e74c88b538931124c">_OVS_USER_PARAMS_CONTEXT::irp</a></div><div class="ttdeci">PIRP irp</div><div class="ttdef"><b>Definition:</b> Datapath.h:84</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:232</div></div>
<div class="ttc" id="Vport_8c_html_ac03074bde235c54e2618cfa7b6b08297"><div class="ttname"><a href="Vport_8c.html#ac03074bde235c54e2618cfa7b6b08297">OvsTunnelVportPendingInit</a></div><div class="ttdeci">static VOID OvsTunnelVportPendingInit(PVOID context, NTSTATUS status, UINT32 *replyLen)</div><div class="ttdef"><b>Definition:</b> Vport.c:2553</div></div>
<div class="ttc" id="Util_8c_html_a0157966a9647ad0512c5314a245c010a"><div class="ttname"><a href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a></div><div class="ttdeci">VOID OvsFreeMemoryWithTag(VOID *ptr, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:36</div></div>
<div class="ttc" id="Datapath_8h_html_a1ba5df4e5b845af8001c5fd1942eed93"><div class="ttname"><a href="Datapath_8h.html#a1ba5df4e5b845af8001c5fd1942eed93">POVS_USER_PARAMS_CONTEXT</a></div><div class="ttdeci">struct _OVS_USER_PARAMS_CONTEXT * POVS_USER_PARAMS_CONTEXT</div></div>
<div class="ttc" id="struct__OVS__TUNFLT__INIT__CONTEXT_html_aa8586f9064f77a00a96d1fb3312b8442"><div class="ttname"><a href="struct__OVS__TUNFLT__INIT__CONTEXT.html#aa8586f9064f77a00a96d1fb3312b8442">_OVS_TUNFLT_INIT_CONTEXT::outputLength</a></div><div class="ttdeci">UINT32 outputLength</div><div class="ttdef"><b>Definition:</b> Vport.c:55</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6e4ac2b0b398a29e69f898179a47c6f7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">_OVS_VPORT_ENTRY::isBridgeInternal</a></div><div class="ttdeci">BOOLEAN isBridgeInternal</div><div class="ttdef"><b>Definition:</b> Vport.h:131</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:229</div></div>
<div class="ttc" id="Stt_8c_html_aa368b6f3a71f1b3c21fc46dafe8f3477"><div class="ttname"><a href="Stt_8c.html#aa368b6f3a71f1b3c21fc46dafe8f3477">OvsInitSttTunnel</a></div><div class="ttdeci">NTSTATUS OvsInitSttTunnel(POVS_VPORT_ENTRY vport, UINT16 tcpDestPort)</div><div class="ttdef"><b>Definition:</b> Stt.c:53</div></div>
<div class="ttc" id="struct__OVS__TUNFLT__INIT__CONTEXT_html"><div class="ttname"><a href="struct__OVS__TUNFLT__INIT__CONTEXT.html">_OVS_TUNFLT_INIT_CONTEXT</a></div><div class="ttdef"><b>Definition:</b> Vport.c:53</div></div>
<div class="ttc" id="Util_8h_html_a186f710164dd337b2eee76cdd0b3917d"><div class="ttname"><a href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a></div><div class="ttdeci">#define OVS_VPORT_POOL_TAG</div><div class="ttdef"><b>Definition:</b> Util.h:35</div></div>
<div class="ttc" id="struct__OVS__TUNFLT__INIT__CONTEXT_html_afca65b867310b384a387abd05dbd309a"><div class="ttname"><a href="struct__OVS__TUNFLT__INIT__CONTEXT.html#afca65b867310b384a387abd05dbd309a">_OVS_TUNFLT_INIT_CONTEXT::inputBuffer</a></div><div class="ttdeci">PVOID inputBuffer</div><div class="ttdef"><b>Definition:</b> Vport.c:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21d8230b720cc06b6b39c8da9122060f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline BOOLEAN OvsIsBridgeInternalVport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>vport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">isBridgeInternal</a>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;       ASSERT(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a> == <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">isBridgeInternal</a> == TRUE;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6e4ac2b0b398a29e69f898179a47c6f7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">_OVS_VPORT_ENTRY::isBridgeInternal</a></div><div class="ttdeci">BOOLEAN isBridgeInternal</div><div class="ttdef"><b>Definition:</b> Vport.h:131</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:227</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ce8578a596efbf9d62e85df0aec71a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline BOOLEAN OvsIsInternalVportType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a>&#160;</td>
          <td class="paramname"><em>ovsType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> ovsType == <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:227</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae88d9a409778eaa19e4f153867bcf879"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __inline BOOLEAN OvsIsTunnelVportType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="OvsDpInterfaceExt_8h.html#a4662d316777fe03a616ac573ed86b0f3">OVS_VPORT_TYPE</a>&#160;</td>
          <td class="paramname"><em>ovsType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> ovsType == <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a> ||</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;           ovsType == <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a> ||</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;           ovsType == <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d">OVS_VPORT_TYPE_GRE</a>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d">OVS_VPORT_TYPE_GRE</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:228</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:232</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adaf28ae506a9ea6de577ea78a29d1e1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NTSTATUS OvsRemoveAndDeleteVport </td>
          <td>(</td>
          <td class="paramtype">PVOID&#160;</td>
          <td class="paramname"><em>usrParamsCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a7503a5ce08b160390615596c9d86bc09">POVS_SWITCH_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>switchContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Switch_8h.html#a41a0a7a50d232916d005ffcc68b9f9f1">POVS_VPORT_ENTRY</a>&#160;</td>
          <td class="paramname"><em>vport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOLEAN&#160;</td>
          <td class="paramname"><em>hvDelete</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOLEAN&#160;</td>
          <td class="paramname"><em>ovsDelete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;{</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <a class="code" href="struct__OVS__USER__PARAMS__CONTEXT.html">POVS_USER_PARAMS_CONTEXT</a> usrParamsCtx =</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        (<a class="code" href="Datapath_8h.html#a1ba5df4e5b845af8001c5fd1942eed93">POVS_USER_PARAMS_CONTEXT</a>)usrParamsContext;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    BOOLEAN hvSwitchPort = FALSE;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    BOOLEAN deletedOnOvs = FALSE;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    BOOLEAN deletedOnHv = FALSE;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordflow">switch</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a>) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a>:</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="keywordflow">if</span> (!vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">isBridgeInternal</a>) {</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            <span class="keywordflow">if</span> (hvDelete &amp;&amp; vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a> == FALSE) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a32b1e8d96a1b48d9520b079e1685f397">internalPortId</a> = 0;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a79acfa977569d531ce6212c632515b93">internalVport</a> = NULL;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                <a class="code" href="IpHelper_8c.html#af83b0e7e4223cf6ee9e16603d22dd881">OvsInternalAdapterDown</a>();</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            hvSwitchPort = TRUE;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a>:</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;        NTSTATUS status;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        status = <a class="code" href="Vport_8c.html#a47ddbc088b1793dff05ebe30b788cfcb">OvsRemoveTunnelVport</a>(usrParamsCtx, switchContext, vport,</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                      hvDelete, ovsDelete);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">if</span> (status != STATUS_SUCCESS) {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;            <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a>:</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <a class="code" href="Stt_8c.html#a0e152abdb66074f2198809f80b8c9541">OvsCleanupSttTunnel</a>(vport);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d">OVS_VPORT_TYPE_GRE</a>:</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa825efa4a45bf501996d8d8fbb83887dd">OVS_VPORT_TYPE_NETDEV</a>:</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a8a99ffc44307e2a46d0b63f7a2404ee6">isExternal</a>) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">nicIndex</a> == 0) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                <span class="comment">/* Such a vport is not part of any of the hash tables, since it</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">                 * is not exposed to userspace. See Vport.h for explanation. */</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                ASSERT(hvDelete == TRUE);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                ASSERT(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a4b0443361638f3ab588f3fb34344fb2c">numPhysicalNics</a> == 0);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a65334e167df16ba6fa1c3b169f239424">virtualExternalPortId</a> = 0;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">virtualExternalVport</a> = NULL;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                <a class="code" href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a>(vport, <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                <span class="keywordflow">return</span> STATUS_SUCCESS;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;            }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        hvSwitchPort = TRUE;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment">     * &#39;hvDelete&#39; == TRUE indicates that the port should be removed from the</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment">     * &#39;portIdHashArray&#39;, while &#39;ovsDelete&#39; == TRUE indicates that the port</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment">     * should be removed from &#39;portNoHashArray&#39; and the &#39;ovsPortNameHashArray&#39;.</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">     * Both &#39;hvDelete&#39; and &#39;ovsDelete&#39; can be set to TRUE by the caller.</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a> == TRUE) {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        deletedOnHv = TRUE;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a> == <a class="code" href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a>) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        deletedOnOvs = TRUE;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (hvDelete &amp;&amp; !deletedOnHv) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">isAbsentOnHv</a> = TRUE;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordflow">if</span> (vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a8a99ffc44307e2a46d0b63f7a2404ee6">isExternal</a>) {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            ASSERT(vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">nicIndex</a> != 0);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;            ASSERT(switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a4b0443361638f3ab588f3fb34344fb2c">numPhysicalNics</a>);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;            switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a4b0443361638f3ab588f3fb34344fb2c">numPhysicalNics</a>--;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="comment">/* Remove the port from the relevant lists. */</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        RemoveEntryList(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adcb291580e34ece712b9d089677972bf">portIdLink</a>);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adcb291580e34ece712b9d089677972bf">portIdLink</a>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        deletedOnHv = TRUE;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keywordflow">if</span> (ovsDelete &amp;&amp; !deletedOnOvs) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">portNo</a> = <a class="code" href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">ovsName</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="comment">/* Remove the port from the relevant lists. */</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        RemoveEntryList(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">ovsNameLink</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">ovsNameLink</a>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        RemoveEntryList(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">portNoLink</a>);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">portNoLink</a>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a> == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a> ||</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;            <a class="code" href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a> == vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">ovsType</a>) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;            RemoveEntryList(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a4a86b816c7f31ea51b1d9b8733dd3e07">tunnelVportLink</a>);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;            InitializeListHead(&amp;vport-&gt;<a class="code" href="struct__OVS__VPORT__ENTRY.html#a4a86b816c7f31ea51b1d9b8733dd3e07">tunnelVportLink</a>);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        deletedOnOvs = TRUE;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">     * Deallocate the port if it has been deleted on the Hyper-V switch as well</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">     * as OVS userspace.</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (deletedOnHv &amp;&amp; deletedOnOvs) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keywordflow">if</span> (hvSwitchPort) {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;            switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#afc160fac68c247864577246ac2b7f417">numHvVports</a>--;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            switchContext-&gt;<a class="code" href="struct__OVS__SWITCH__CONTEXT.html#a6e93c14bb3e3a25f2e05187e26aa2562">numNonHvVports</a>--;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <a class="code" href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a>(vport, <a class="code" href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">return</span> STATUS_SUCCESS;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;}</div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_af65b9cf76d47a93178b3be08f4a8dd82"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#af65b9cf76d47a93178b3be08f4a8dd82">_OVS_SWITCH_CONTEXT::virtualExternalVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY virtualExternalVport</div><div class="ttdef"><b>Definition:</b> Switch.h:131</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adb13b4c5be2916f7576370f66b41523a"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adb13b4c5be2916f7576370f66b41523a">_OVS_VPORT_ENTRY::ovsType</a></div><div class="ttdeci">OVS_VPORT_TYPE ovsType</div><div class="ttdef"><b>Definition:</b> Vport.h:92</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_afc160fac68c247864577246ac2b7f417"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#afc160fac68c247864577246ac2b7f417">_OVS_SWITCH_CONTEXT::numHvVports</a></div><div class="ttdeci">UINT32 numHvVports</div><div class="ttdef"><b>Definition:</b> Switch.h:163</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6df479a183f045b104375a67609d5dee"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6df479a183f045b104375a67609d5dee">_OVS_VPORT_ENTRY::isAbsentOnHv</a></div><div class="ttdeci">BOOLEAN isAbsentOnHv</div><div class="ttdef"><b>Definition:</b> Vport.h:135</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a8a99ffc44307e2a46d0b63f7a2404ee6"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a8a99ffc44307e2a46d0b63f7a2404ee6">_OVS_VPORT_ENTRY::isExternal</a></div><div class="ttdeci">BOOLEAN isExternal</div><div class="ttdef"><b>Definition:</b> Vport.h:132</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a6e93c14bb3e3a25f2e05187e26aa2562"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a6e93c14bb3e3a25f2e05187e26aa2562">_OVS_SWITCH_CONTEXT::numNonHvVports</a></div><div class="ttdeci">UINT32 numNonHvVports</div><div class="ttdef"><b>Definition:</b> Switch.h:164</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a79acfa977569d531ce6212c632515b93"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a79acfa977569d531ce6212c632515b93">_OVS_SWITCH_CONTEXT::internalVport</a></div><div class="ttdeci">POVS_VPORT_ENTRY internalVport</div><div class="ttdef"><b>Definition:</b> Switch.h:132</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a27fef079a0a083f0312ae858c8a987bd"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a27fef079a0a083f0312ae858c8a987bd">_OVS_VPORT_ENTRY::ovsNameLink</a></div><div class="ttdeci">LIST_ENTRY ovsNameLink</div><div class="ttdef"><b>Definition:</b> Vport.h:86</div></div>
<div class="ttc" id="Stt_8c_html_a0e152abdb66074f2198809f80b8c9541"><div class="ttname"><a href="Stt_8c.html#a0e152abdb66074f2198809f80b8c9541">OvsCleanupSttTunnel</a></div><div class="ttdeci">void OvsCleanupSttTunnel(POVS_VPORT_ENTRY vport)</div><div class="ttdef"><b>Definition:</b> Stt.c:78</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaf65a369c5ba48431dc28ec57a839068d">OVS_VPORT_TYPE_GRE</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:228</div></div>
<div class="ttc" id="struct__OVS__USER__PARAMS__CONTEXT_html"><div class="ttname"><a href="struct__OVS__USER__PARAMS__CONTEXT.html">_OVS_USER_PARAMS_CONTEXT</a></div><div class="ttdef"><b>Definition:</b> Datapath.h:83</div></div>
<div class="ttc" id="Vport_8h_html_ab1d1db4e6e156a4c4c99da1b5cbb4f04"><div class="ttname"><a href="Vport_8h.html#ab1d1db4e6e156a4c4c99da1b5cbb4f04">OVS_DPPORT_NUMBER_INVALID</a></div><div class="ttdeci">#define OVS_DPPORT_NUMBER_INVALID</div><div class="ttdef"><b>Definition:</b> Vport.h:25</div></div>
<div class="ttc" id="Vport_8c_html_a47ddbc088b1793dff05ebe30b788cfcb"><div class="ttname"><a href="Vport_8c.html#a47ddbc088b1793dff05ebe30b788cfcb">OvsRemoveTunnelVport</a></div><div class="ttdeci">static NTSTATUS OvsRemoveTunnelVport(POVS_USER_PARAMS_CONTEXT usrParamsCtx, POVS_SWITCH_CONTEXT switchContext, POVS_VPORT_ENTRY vport, BOOLEAN hvDelete, BOOLEAN ovsDelete)</div><div class="ttdef"><b>Definition:</b> Vport.c:1261</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aaae60ab231553b32a64b09211537fdaf5">OVS_VPORT_TYPE_STT</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:232</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a4a86b816c7f31ea51b1d9b8733dd3e07"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a4a86b816c7f31ea51b1d9b8733dd3e07">_OVS_VPORT_ENTRY::tunnelVportLink</a></div><div class="ttdeci">LIST_ENTRY tunnelVportLink</div><div class="ttdef"><b>Definition:</b> Vport.h:89</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ad4a74979cfb52cb0c9f6e1fd23ec6f66"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ad4a74979cfb52cb0c9f6e1fd23ec6f66">_OVS_VPORT_ENTRY::nicIndex</a></div><div class="ttdeci">NDIS_SWITCH_NIC_INDEX nicIndex</div><div class="ttdef"><b>Definition:</b> Vport.h:102</div></div>
<div class="ttc" id="Util_8c_html_a0157966a9647ad0512c5314a245c010a"><div class="ttname"><a href="Util_8c.html#a0157966a9647ad0512c5314a245c010a">OvsFreeMemoryWithTag</a></div><div class="ttdeci">VOID OvsFreeMemoryWithTag(VOID *ptr, ULONG tag)</div><div class="ttdef"><b>Definition:</b> Util.c:36</div></div>
<div class="ttc" id="Datapath_8h_html_a1ba5df4e5b845af8001c5fd1942eed93"><div class="ttname"><a href="Datapath_8h.html#a1ba5df4e5b845af8001c5fd1942eed93">POVS_USER_PARAMS_CONTEXT</a></div><div class="ttdeci">struct _OVS_USER_PARAMS_CONTEXT * POVS_USER_PARAMS_CONTEXT</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a4b0443361638f3ab588f3fb34344fb2c"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a4b0443361638f3ab588f3fb34344fb2c">_OVS_SWITCH_CONTEXT::numPhysicalNics</a></div><div class="ttdeci">UINT32 numPhysicalNics</div><div class="ttdef"><b>Definition:</b> Switch.h:161</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_adcb291580e34ece712b9d089677972bf"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#adcb291580e34ece712b9d089677972bf">_OVS_VPORT_ENTRY::portIdLink</a></div><div class="ttdeci">LIST_ENTRY portIdLink</div><div class="ttdef"><b>Definition:</b> Vport.h:87</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a6e4ac2b0b398a29e69f898179a47c6f7"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a6e4ac2b0b398a29e69f898179a47c6f7">_OVS_VPORT_ENTRY::isBridgeInternal</a></div><div class="ttdeci">BOOLEAN isBridgeInternal</div><div class="ttdef"><b>Definition:</b> Vport.h:131</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa825efa4a45bf501996d8d8fbb83887dd"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa825efa4a45bf501996d8d8fbb83887dd">OVS_VPORT_TYPE_NETDEV</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:226</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a65334e167df16ba6fa1c3b169f239424"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a65334e167df16ba6fa1c3b169f239424">_OVS_SWITCH_CONTEXT::virtualExternalPortId</a></div><div class="ttdeci">NDIS_SWITCH_PORT_ID virtualExternalPortId</div><div class="ttdef"><b>Definition:</b> Switch.h:129</div></div>
<div class="ttc" id="struct__OVS__SWITCH__CONTEXT_html_a32b1e8d96a1b48d9520b079e1685f397"><div class="ttname"><a href="struct__OVS__SWITCH__CONTEXT.html#a32b1e8d96a1b48d9520b079e1685f397">_OVS_SWITCH_CONTEXT::internalPortId</a></div><div class="ttdeci">NDIS_SWITCH_PORT_ID internalPortId</div><div class="ttdef"><b>Definition:</b> Switch.h:130</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_ac54c2fc2ad8eaf2184ac4422f5d9a1d0"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#ac54c2fc2ad8eaf2184ac4422f5d9a1d0">_OVS_VPORT_ENTRY::portNoLink</a></div><div class="ttdeci">LIST_ENTRY portNoLink</div><div class="ttdef"><b>Definition:</b> Vport.h:88</div></div>
<div class="ttc" id="IpHelper_8c_html_af83b0e7e4223cf6ee9e16603d22dd881"><div class="ttname"><a href="IpHelper_8c.html#af83b0e7e4223cf6ee9e16603d22dd881">OvsInternalAdapterDown</a></div><div class="ttdeci">VOID OvsInternalAdapterDown(VOID)</div><div class="ttdef"><b>Definition:</b> IpHelper.c:1059</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aa99034286803fd0adf04dde0fa7e69f00">OVS_VPORT_TYPE_INTERNAL</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:227</div></div>
<div class="ttc" id="openvswitch_8h_html_a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0"><div class="ttname"><a href="openvswitch_8h.html#a9a1b861aa99bd83177a2b10b34745b0aabd94b320598ca17b189318d8e27ac1b0">OVS_VPORT_TYPE_VXLAN</a></div><div class="ttdef"><b>Definition:</b> openvswitch.h:229</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a9cfaf48c00ce38e60a335ab82718b0d2"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a9cfaf48c00ce38e60a335ab82718b0d2">_OVS_VPORT_ENTRY::ovsName</a></div><div class="ttdeci">CHAR ovsName[OVS_MAX_PORT_NAME_LENGTH]</div><div class="ttdef"><b>Definition:</b> Vport.h:98</div></div>
<div class="ttc" id="Util_8h_html_a186f710164dd337b2eee76cdd0b3917d"><div class="ttname"><a href="Util_8h.html#a186f710164dd337b2eee76cdd0b3917d">OVS_VPORT_POOL_TAG</a></div><div class="ttdeci">#define OVS_VPORT_POOL_TAG</div><div class="ttdef"><b>Definition:</b> Util.h:35</div></div>
<div class="ttc" id="struct__OVS__VPORT__ENTRY_html_a3a9d3df1b8e22f200bffe63a1871f407"><div class="ttname"><a href="struct__OVS__VPORT__ENTRY.html#a3a9d3df1b8e22f200bffe63a1871f407">_OVS_VPORT_ENTRY::portNo</a></div><div class="ttdeci">UINT32 portNo</div><div class="ttdef"><b>Definition:</b> Vport.h:95</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_f2900611ffc28c38a5f48f852f1327f6.html">datapath-windows</a></li><li class="navelem"><a class="el" href="dir_edd792a05d1f2ac16301a0c4190fb123.html">ovsext</a></li><li class="navelem"><a class="el" href="Vport_8h.html">Vport.h</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:07:25 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
