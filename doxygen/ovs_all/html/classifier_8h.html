<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/lib/classifier.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classifier_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">classifier.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="cmap_8h_source.html">cmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="match_8h_source.html">match.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="meta-flow_8h_source.html">meta-flow.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pvector_8h_source.html">pvector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lib_2rculist_8h_source.html">rculist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type-props_8h_source.html">type-props.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for classifier.h:</div>
<div class="dyncontent">
<div class="center"><img src="classifier_8h__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2lib_2classifier_8h" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2lib_2classifier_8h" id="_2home_2vladn_2git_2ovs_2lib_2classifier_8h">
<area shape="rect" id="node2" href="cmap_8h.html" title="cmap.h" alt="" coords="403,244,469,271"/><area shape="rect" id="node24" href="match_8h.html" title="match.h" alt="" coords="1512,95,1581,121"/><area shape="rect" id="node45" href="meta-flow_8h.html" title="meta&#45;flow.h" alt="" coords="1797,95,1888,121"/><area shape="rect" id="node48" href="pvector_8h.html" title="pvector.h" alt="" coords="957,244,1033,271"/><area shape="rect" id="node49" href="lib_2rculist_8h.html" title="rculist.h" alt="" coords="862,244,930,271"/><area shape="rect" id="node50" href="type-props_8h.html" title="type&#45;props.h" alt="" coords="3478,169,3573,196"/><area shape="rect" id="node5" href="ovs-rcu_8h.html" title="ovs&#45;rcu.h" alt="" coords="398,319,474,345"/><area shape="rect" id="node12" href="lib_2util_8h.html" title="util.h" alt="" coords="1673,468,1724,495"/><area shape="rect" id="node6" href="lib_2compiler_8h.html" title="compiler.h" alt="" coords="189,543,272,569"/><area shape="rect" id="node8" href="ovs-atomic_8h.html" title="ovs&#45;atomic.h" alt="" coords="525,393,622,420"/><area shape="rect" id="node7" href="include_2openvswitch_2compiler_8h.html" title="openvswitch/compiler.h" alt="" coords="151,617,310,644"/><area shape="rect" id="node10" href="pthread_8h.html" title="pthread.h" alt="" coords="398,468,474,495"/><area shape="rect" id="node11" href="stddef_8h.html" title="stddef.h" alt="" coords="1380,543,1449,569"/><area shape="rect" id="node23" href="ovs-atomic-pthreads_8h.html" title="ovs&#45;atomic&#45;pthreads.h" alt="" coords="498,468,649,495"/><area shape="rect" id="node16" href="stdio_8h.html" title="stdio.h" alt="" coords="1201,543,1263,569"/><area shape="rect" id="node18" href="string_8h.html" title="string.h" alt="" coords="1865,543,1930,569"/><area shape="rect" id="node19" href="include_2openvswitch_2types_8h.html" title="openvswitch/types.h" alt="" coords="2107,543,2250,569"/><area shape="rect" id="node21" href="include_2openvswitch_2util_8h.html" title="openvswitch/util.h" alt="" coords="1714,543,1841,569"/><area shape="rect" id="node22" href="version_8h.html" title="openvswitch/version.h" alt="" coords="1701,617,1853,644"/><area shape="rect" id="node25" href="lib_2flow_8h.html" title="flow.h" alt="" coords="1814,169,1871,196"/><area shape="rect" id="node37" href="packets_8h.html" title="packets.h" alt="" coords="1979,244,2058,271"/><area shape="rect" id="node41" href="tun-metadata_8h.html" title="tun&#45;metadata.h" alt="" coords="1288,319,1397,345"/><area shape="rect" id="node27" href="bitmap_8h.html" title="bitmap.h" alt="" coords="1792,393,1864,420"/><area shape="rect" id="node28" href="byte-order_8h.html" title="byte&#45;order.h" alt="" coords="2339,468,2429,495"/><area shape="rect" id="node29" href="nicira-ext_8h.html" title="openflow/nicira&#45;ext.h" alt="" coords="2507,319,2650,345"/><area shape="rect" id="node30" href="openflow_8h.html" title="openflow/openflow.h" alt="" coords="2853,393,2995,420"/><area shape="rect" id="node40" href="hash_8h.html" title="hash.h" alt="" coords="1504,393,1565,420"/><area shape="rect" id="node31" href="openflow-1_80_8h.html" title="openflow/openflow&#45;1.0.h" alt="" coords="2715,468,2877,495"/><area shape="rect" id="node32" href="openflow-1_81_8h.html" title="openflow/openflow&#45;1.1.h" alt="" coords="3079,692,3241,719"/><area shape="rect" id="node33" href="openflow-1_82_8h.html" title="openflow/openflow&#45;1.2.h" alt="" coords="3139,617,3301,644"/><area shape="rect" id="node34" href="openflow-1_83_8h.html" title="openflow/openflow&#45;1.3.h" alt="" coords="3189,543,3352,569"/><area shape="rect" id="node35" href="openflow-1_84_8h.html" title="openflow/openflow&#45;1.4.h" alt="" coords="3240,468,3403,495"/><area shape="rect" id="node36" href="openflow-1_85_8h.html" title="openflow/openflow&#45;1.5.h" alt="" coords="2901,468,3064,495"/><area shape="rect" id="node38" href="lib_2geneve_8h.html" title="geneve.h" alt="" coords="2141,393,2216,420"/><area shape="rect" id="node39" href="lib_2random_8h.html" title="random.h" alt="" coords="1901,468,1977,495"/><area shape="rect" id="node42" href="dynamic-string_8h.html" title="dynamic&#45;string.h" alt="" coords="1029,468,1147,495"/><area shape="rect" id="node43" href="lib_2netlink_8h.html" title="netlink.h" alt="" coords="1274,468,1345,495"/><area shape="rect" id="node44" href="ofpbuf_8h.html" title="ofpbuf.h" alt="" coords="1323,393,1392,420"/><area shape="rect" id="node47" href="ofp-errors_8h.html" title="ofp&#45;errors.h" alt="" coords="1573,319,1661,345"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="classifier_8h__dep__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2lib_2classifier_8hdep" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2lib_2classifier_8hdep" id="_2home_2vladn_2git_2ovs_2lib_2classifier_8hdep">
<area shape="rect" id="node2" href="classifier_8c.html" title="/home/vladn/git/ovs\l/lib/classifier.c" alt="" coords="5,95,141,136"/><area shape="rect" id="node3" href="learning-switch_8c.html" title="/home/vladn/git/ovs\l/lib/learning&#45;switch.c" alt="" coords="165,95,307,136"/><area shape="rect" id="node4" href="meta-flow_8c.html" title="/home/vladn/git/ovs\l/lib/meta&#45;flow.c" alt="" coords="331,95,467,136"/><area shape="rect" id="node5" href="nx-match_8c.html" title="/home/vladn/git/ovs\l/lib/nx&#45;match.c" alt="" coords="491,95,627,136"/><area shape="rect" id="node6" href="ofp-util_8c.html" title="/home/vladn/git/ovs\l/lib/ofp&#45;util.c" alt="" coords="651,95,787,136"/><area shape="rect" id="node7" href="ovs-router_8c.html" title="/home/vladn/git/ovs\l/lib/ovs&#45;router.c" alt="" coords="811,95,947,136"/><area shape="rect" id="node8" href="tnl-ports_8c.html" title="/home/vladn/git/ovs\l/lib/tnl&#45;ports.c" alt="" coords="971,95,1107,136"/><area shape="rect" id="node9" href="ofproto-provider_8h.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;provider.h" alt="" coords="1497,191,1668,233"/><area shape="rect" id="node18" href="fail-open_8c.html" title="/home/vladn/git/ovs\l/ofproto/fail&#45;open.c" alt="" coords="1251,392,1387,433"/><area shape="rect" id="node26" href="connmgr_8h.html" title="/home/vladn/git/ovs\l/ofproto/connmgr.h" alt="" coords="1096,295,1232,337"/><area shape="rect" id="node28" href="ofproto_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto.c" alt="" coords="829,489,965,530"/><area shape="rect" id="node29" href="in-band_8c.html" title="/home/vladn/git/ovs\l/ofproto/in&#45;band.c" alt="" coords="2324,295,2460,337"/><area shape="rect" id="node31" href="ofproto_8h.html" title="/home/vladn/git/ovs\l/ofproto/ofproto.h" alt="" coords="2012,95,2148,136"/><area shape="rect" id="node36" href="ovs-ofctl_8c.html" title="/home/vladn/git/ovs\l/utilities/ovs&#45;ofctl.c" alt="" coords="2585,191,2721,233"/><area shape="rect" id="node37" href="expr_8h.html" title="/home/vladn/git/ovs\l/ovn/lib/expr.h" alt="" coords="2796,95,2932,136"/><area shape="rect" id="node42" href="test-classifier_8c.html" title="/home/vladn/git/ovs\l/tests/test&#45;classifier.c" alt="" coords="2955,95,3103,136"/><area shape="rect" id="node43" href="test-flows_8c.html" title="/home/vladn/git/ovs\l/tests/test&#45;flows.c" alt="" coords="3127,95,3263,136"/><area shape="rect" id="node10" href="bond_8h.html" title="/home/vladn/git/ovs\l/ofproto/bond.h" alt="" coords="2573,392,2709,433"/><area shape="rect" id="node11" href="bond_8c.html" title="/home/vladn/git/ovs\l/ofproto/bond.c" alt="" coords="2637,489,2773,530"/><area shape="rect" id="node12" href="ofproto-dpif-xlate_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;xlate.c" alt="" coords="1761,585,1897,641"/><area shape="rect" id="node13" href="ofproto-dpif_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif.c" alt="" coords="1520,593,1667,634"/><area shape="rect" id="node15" href="fail-open_8h.html" title="/home/vladn/git/ovs\l/ofproto/fail&#45;open.h" alt="" coords="1515,295,1651,337"/><area shape="rect" id="node16" href="bundles_8c.html" title="/home/vladn/git/ovs\l/ofproto/bundles.c" alt="" coords="1496,489,1632,530"/><area shape="rect" id="node17" href="connmgr_8c.html" title="/home/vladn/git/ovs\l/ofproto/connmgr.c" alt="" coords="1137,489,1273,530"/><area shape="rect" id="node19" href="ofproto-dpif_8h.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif.h" alt="" coords="1867,392,2013,433"/><area shape="rect" id="node22" href="ofproto-dpif-rid_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif&#45;rid.c" alt="" coords="2289,489,2453,530"/><area shape="rect" id="node27" href="bundles_8h.html" title="/home/vladn/git/ovs\l/ofproto/bundles.h" alt="" coords="1091,392,1227,433"/><area shape="rect" id="node30" href="ofproto-dpif-sflow_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;sflow.c" alt="" coords="2063,288,2199,344"/><area shape="rect" id="node14" href="bridge_8c.html" title="/home/vladn/git/ovs\l/vswitchd/bridge.c" alt="" coords="2899,489,3035,530"/><area shape="rect" id="node24" href="ofproto-dpif-upcall_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;upcall.c" alt="" coords="1289,585,1425,641"/><area shape="rect" id="node20" href="ofproto-dpif-ipfix_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;ipfix.c" alt="" coords="2477,481,2613,537"/><area shape="rect" id="node21" href="ofproto-dpif-monitor_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;monitor.c" alt="" coords="1917,481,2053,537"/><area shape="rect" id="node23" href="ofproto-dpif-xlate_8h.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;xlate.h" alt="" coords="1656,481,1792,537"/><area shape="rect" id="node25" href="tunnel_8c.html" title="/home/vladn/git/ovs\l/ofproto/tunnel.c" alt="" coords="2077,489,2213,530"/><area shape="rect" id="node32" href="rstp_8c.html" title="/home/vladn/git/ovs\l/lib/rstp.c" alt="" coords="2375,191,2511,233"/><area shape="rect" id="node33" href="names_8c.html" title="/home/vladn/git/ovs\l/ofproto/names.c" alt="" coords="1692,191,1828,233"/><area shape="rect" id="node34" href="netflow_8c.html" title="/home/vladn/git/ovs\l/ofproto/netflow.c" alt="" coords="1852,191,1988,233"/><area shape="rect" id="node35" href="ofproto-dpif-mirror_8c.html" title="/home/vladn/git/ovs\l/ofproto/ofproto&#45;dpif\l&#45;mirror.c" alt="" coords="2012,184,2148,240"/><area shape="rect" id="node38" href="lflow_8c.html" title="/home/vladn/git/ovs\l/ovn/controller/lflow.c" alt="" coords="3116,191,3263,233"/><area shape="rect" id="node39" href="ovn_2lib_2actions_8c.html" title="/home/vladn/git/ovs\l/ovn/lib/actions.c" alt="" coords="3287,191,3423,233"/><area shape="rect" id="node40" href="expr_8c.html" title="/home/vladn/git/ovs\l/ovn/lib/expr.c" alt="" coords="2796,191,2932,233"/><area shape="rect" id="node41" href="test-ovn_8c.html" title="/home/vladn/git/ovs\l/tests/test&#45;ovn.c" alt="" coords="2956,191,3092,233"/></map>
</div>
</div>
<p><a href="classifier_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcls__trie.html">cls_trie</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclassifier.html">classifier</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcls__conjunction.html">cls_conjunction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcls__rule.html">cls_rule</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcls__cursor.html">cls_cursor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af53d0e2aa3b92c85662aae3f40cfd1c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#af53d0e2aa3b92c85662aae3f40cfd1c9">CLS_MIN_VERSION</a>&#160;&#160;&#160;0                  /* Default version number to use. */</td></tr>
<tr class="separator:af53d0e2aa3b92c85662aae3f40cfd1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fb84a2d7ede3d5c704d15c0b5738b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a98fb84a2d7ede3d5c704d15c0b5738b2">CLS_MAX_VERSION</a>&#160;&#160;&#160;(<a class="el" href="type-props_8h.html#aad90a29db1a9d2a06699b022c1b70230">TYPE_MAXIMUM</a>(<a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>) - 1)</td></tr>
<tr class="separator:a98fb84a2d7ede3d5c704d15c0b5738b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2449ce834470390cd504232063a77858"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a2449ce834470390cd504232063a77858">CLS_NOT_REMOVED_VERSION</a>&#160;&#160;&#160;<a class="el" href="type-props_8h.html#aad90a29db1a9d2a06699b022c1b70230">TYPE_MAXIMUM</a>(<a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:a2449ce834470390cd504232063a77858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36fc0c547927c126ee1651c5c74c1d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ad36fc0c547927c126ee1651c5c74c1d0">CLS_FOR_EACH</a>(RULE,  MEMBER,  CLS)&#160;&#160;&#160;<a class="el" href="classifier_8h.html#a591daf7f26341119c1f2ad503634a377">CLS_FOR_EACH_TARGET</a>(RULE, MEMBER, CLS, NULL, <a class="el" href="classifier_8h.html#a98fb84a2d7ede3d5c704d15c0b5738b2">CLS_MAX_VERSION</a>)</td></tr>
<tr class="separator:ad36fc0c547927c126ee1651c5c74c1d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591daf7f26341119c1f2ad503634a377"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a591daf7f26341119c1f2ad503634a377">CLS_FOR_EACH_TARGET</a>(RULE,  MEMBER,  CLS,  TARGET,  <a class="el" href="config_8h.html#a1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a>)</td></tr>
<tr class="separator:a591daf7f26341119c1f2ad503634a377"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a15b69fcc6ad4d2d040c00ec025940eac"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a></td></tr>
<tr class="separator:a15b69fcc6ad4d2d040c00ec025940eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9a3be2d66956bd67c0b66c32d8b30f17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a> = 3, 
<a class="el" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a> = 3
 }</td></tr>
<tr class="separator:a9a3be2d66956bd67c0b66c32d8b30f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae52f0b408a50cf63836a57d8babf4310"><td class="memItemLeft" align="right" valign="top">typedef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ae52f0b408a50cf63836a57d8babf4310">OVSRCU_TYPE</a> (struct <a class="el" href="structtrie__node.html">trie_node</a> *) rcu_trie_ptr</td></tr>
<tr class="separator:ae52f0b408a50cf63836a57d8babf4310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2bf6b4dc43166499d51a32c498c8de6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ae2bf6b4dc43166499d51a32c498c8de6">cls_rule_init</a> (struct <a class="el" href="structcls__rule.html">cls_rule</a> *, const struct <a class="el" href="structmatch.html">match</a> *, int <a class="el" href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a>)</td></tr>
<tr class="separator:ae2bf6b4dc43166499d51a32c498c8de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e70e9896c9e723d5051bceb5c3bd9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#af8e70e9896c9e723d5051bceb5c3bd9d">cls_rule_init_from_minimatch</a> (struct <a class="el" href="structcls__rule.html">cls_rule</a> *, const struct <a class="el" href="structminimatch.html">minimatch</a> *, int <a class="el" href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a>)</td></tr>
<tr class="separator:af8e70e9896c9e723d5051bceb5c3bd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac856ff5b50bdaf2cb3f6ab8f8999cdeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ac856ff5b50bdaf2cb3f6ab8f8999cdeb">cls_rule_clone</a> (struct <a class="el" href="structcls__rule.html">cls_rule</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *)</td></tr>
<tr class="separator:ac856ff5b50bdaf2cb3f6ab8f8999cdeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353ceabe5d51172d6d8e5c0f251e0cb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a353ceabe5d51172d6d8e5c0f251e0cb0">cls_rule_move</a> (struct <a class="el" href="structcls__rule.html">cls_rule</a> *<a class="el" href="datapath_2flow_8h.html#a6747ad3b5d60480ea073cd12c9b78aaa">dst</a>, struct <a class="el" href="structcls__rule.html">cls_rule</a> *<a class="el" href="datapath_2flow_8h.html#a2e7e37e9dfe6465386d6c500f83ef144">src</a>)</td></tr>
<tr class="separator:a353ceabe5d51172d6d8e5c0f251e0cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828b5ae9355eafc791a81582a5d41f7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a828b5ae9355eafc791a81582a5d41f7b">cls_rule_destroy</a> (struct <a class="el" href="structcls__rule.html">cls_rule</a> *)</td></tr>
<tr class="separator:a828b5ae9355eafc791a81582a5d41f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4131c9dbde263f72d579fff8a26ff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a7f4131c9dbde263f72d579fff8a26ff8">cls_rule_set_conjunctions</a> (struct <a class="el" href="structcls__rule.html">cls_rule</a> *, const struct <a class="el" href="structcls__conjunction.html">cls_conjunction</a> *, size_t n)</td></tr>
<tr class="separator:a7f4131c9dbde263f72d579fff8a26ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebe8711b7a1d9d5f1ef7a3d36ad075c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#aeebe8711b7a1d9d5f1ef7a3d36ad075c">cls_rule_equal</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *)</td></tr>
<tr class="separator:aeebe8711b7a1d9d5f1ef7a3d36ad075c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83671231989b63705a4d35fcc740b21a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a83671231989b63705a4d35fcc740b21a">cls_rule_format</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, struct <a class="el" href="structds.html">ds</a> *)</td></tr>
<tr class="separator:a83671231989b63705a4d35fcc740b21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe675ac9b958530b389c70d4048df514"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#abe675ac9b958530b389c70d4048df514">cls_rule_is_catchall</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *)</td></tr>
<tr class="separator:abe675ac9b958530b389c70d4048df514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534a88f116662b928b09b06035cf48b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a534a88f116662b928b09b06035cf48b9">cls_rule_is_loose_match</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *<a class="el" href="structrule.html">rule</a>, const struct <a class="el" href="structminimatch.html">minimatch</a> *<a class="el" href="ovs-ofctl_8c.html#ade7922ca1fd012d9a6cfd683e9302d01">criteria</a>)</td></tr>
<tr class="separator:a534a88f116662b928b09b06035cf48b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9622c189d91becff24aaf9ce923ca908"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a9622c189d91becff24aaf9ce923ca908">cls_rule_visible_in_version</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:a9622c189d91becff24aaf9ce923ca908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d84cea24317ad97d50f7696fa2f455"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ab3d84cea24317ad97d50f7696fa2f455">cls_rule_make_invisible_in_version</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:ab3d84cea24317ad97d50f7696fa2f455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ad49c86ae3a67a40b24adca557d38f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a85ad49c86ae3a67a40b24adca557d38f">cls_rule_restore_visibility</a> (const struct <a class="el" href="structcls__rule.html">cls_rule</a> *)</td></tr>
<tr class="separator:a85ad49c86ae3a67a40b24adca557d38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17035f35f1115c981b7c6cff73fef129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a17035f35f1115c981b7c6cff73fef129">classifier_init</a> (struct <a class="el" href="structclassifier.html">classifier</a> *, const <a class="el" href="Types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *flow_segments)</td></tr>
<tr class="separator:a17035f35f1115c981b7c6cff73fef129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d28fd49914d6b7e9e789c3e2714344"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a16d28fd49914d6b7e9e789c3e2714344">classifier_destroy</a> (struct <a class="el" href="structclassifier.html">classifier</a> *)</td></tr>
<tr class="separator:a16d28fd49914d6b7e9e789c3e2714344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea1c624cb0d14989d9e404a11402a0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#adea1c624cb0d14989d9e404a11402a0f">classifier_set_prefix_fields</a> (struct <a class="el" href="structclassifier.html">classifier</a> *, const enum <a class="el" href="meta-flow_8h.html#a0edbde96ea59752c694d70a0e1b19f65">mf_field_id</a> *<a class="el" href="test-classifier_8c.html#aacda1d3733a155efb57ac6fe101fdc25">trie_fields</a>, unsigned int n_trie_fields)</td></tr>
<tr class="separator:adea1c624cb0d14989d9e404a11402a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7f0b25780eb60d4a08059e6448b21b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a1d7f0b25780eb60d4a08059e6448b21b">classifier_insert</a> (struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>, const struct <a class="el" href="structcls__conjunction.html">cls_conjunction</a> *, size_t n_conjunctions)</td></tr>
<tr class="separator:a1d7f0b25780eb60d4a08059e6448b21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2357e09ce11d3e2bca1a2c108c335e4c"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a2357e09ce11d3e2bca1a2c108c335e4c">classifier_replace</a> (struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>, const struct <a class="el" href="structcls__conjunction.html">cls_conjunction</a> *, size_t n_conjunctions)</td></tr>
<tr class="separator:a2357e09ce11d3e2bca1a2c108c335e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d8c646ef0f7af2a739c0721a40de85"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#af8d8c646ef0f7af2a739c0721a40de85">classifier_remove</a> (struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *)</td></tr>
<tr class="separator:af8d8c646ef0f7af2a739c0721a40de85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081fa9ba7b7ba4bdb7f7c99d9606b6a4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a081fa9ba7b7ba4bdb7f7c99d9606b6a4">classifier_defer</a> (struct <a class="el" href="structclassifier.html">classifier</a> *)</td></tr>
<tr class="separator:a081fa9ba7b7ba4bdb7f7c99d9606b6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae23358b120b21fa610c712cfd3acbbf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#aae23358b120b21fa610c712cfd3acbbf">classifier_publish</a> (struct <a class="el" href="structclassifier.html">classifier</a> *)</td></tr>
<tr class="separator:aae23358b120b21fa610c712cfd3acbbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae422517ae6703863ecd28b029bf631b2"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ae422517ae6703863ecd28b029bf631b2">classifier_lookup</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>, struct <a class="el" href="structflow.html">flow</a> *, struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *)</td></tr>
<tr class="separator:ae422517ae6703863ecd28b029bf631b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42fe7b305087b3940858c98a35b831c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#ae42fe7b305087b3940858c98a35b831c">classifier_rule_overlaps</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:ae42fe7b305087b3940858c98a35b831c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837b8749cb5eff8ec126f8bb69f6a3fa"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a837b8749cb5eff8ec126f8bb69f6a3fa">classifier_find_rule_exactly</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:a837b8749cb5eff8ec126f8bb69f6a3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630dc7b4e2bbf47686ac2d45f6919d87"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a630dc7b4e2bbf47686ac2d45f6919d87">classifier_find_match_exactly</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structmatch.html">match</a> *, int <a class="el" href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a>, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:a630dc7b4e2bbf47686ac2d45f6919d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb1b2de8d423845df3559a88255ed10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a8eb1b2de8d423845df3559a88255ed10">classifier_is_empty</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *)</td></tr>
<tr class="separator:a8eb1b2de8d423845df3559a88255ed10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30516797534c381586e1db51fdec0fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#aa30516797534c381586e1db51fdec0fe">classifier_count</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *)</td></tr>
<tr class="separator:aa30516797534c381586e1db51fdec0fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c97769952e3fa0d6901bbe5c035b5d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcls__cursor.html">cls_cursor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a19c97769952e3fa0d6901bbe5c035b5d">cls_cursor_start</a> (const struct <a class="el" href="structclassifier.html">classifier</a> *, const struct <a class="el" href="structcls__rule.html">cls_rule</a> *<a class="el" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>, <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td></tr>
<tr class="separator:a19c97769952e3fa0d6901bbe5c035b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fde4baacacc61fc56dc3761488ecefd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classifier_8h.html#a3fde4baacacc61fc56dc3761488ecefd">cls_cursor_advance</a> (struct <a class="el" href="structcls__cursor.html">cls_cursor</a> *)</td></tr>
<tr class="separator:a3fde4baacacc61fc56dc3761488ecefd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad36fc0c547927c126ee1651c5c74c1d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLS_FOR_EACH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">RULE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">MEMBER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CLS&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="classifier_8h.html#a591daf7f26341119c1f2ad503634a377">CLS_FOR_EACH_TARGET</a>(RULE, MEMBER, CLS, NULL, <a class="el" href="classifier_8h.html#a98fb84a2d7ede3d5c704d15c0b5738b2">CLS_MAX_VERSION</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a591daf7f26341119c1f2ad503634a377"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLS_FOR_EACH_TARGET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">RULE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">MEMBER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">CLS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TARGET, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="config_8h.html#a1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">struct</span> <a class="code" href="structcls__cursor.html">cls_cursor</a> cursor__ = <a class="code" href="classifier_8h.html#a19c97769952e3fa0d6901bbe5c035b5d">cls_cursor_start</a>(CLS, TARGET, <a class="code" href="config_8h.html#a1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a>); \</div>
<div class="line">         (cursor__.rule                                                 \</div>
<div class="line">          ? (<a class="code" href="lib_2util_8h.html#acc4bc37c89a7cf784f802d4a48dc8889">INIT_CONTAINER</a>(RULE, cursor__.rule, MEMBER),               <a class="code" href="classifier_8h.html#a3fde4baacacc61fc56dc3761488ecefd">\</a></div>
<div class="line"><a class="code" href="classifier_8h.html#a3fde4baacacc61fc56dc3761488ecefd">             cls_cursor_advance</a>(&amp;cursor__),                             \</div>
<div class="line">             true)                                                      \</div>
<div class="line">          : <span class="keyword">false</span>);                                                     \</div>
<div class="line">        )</div>
<div class="ttc" id="classifier_8h_html_a19c97769952e3fa0d6901bbe5c035b5d"><div class="ttname"><a href="classifier_8h.html#a19c97769952e3fa0d6901bbe5c035b5d">cls_cursor_start</a></div><div class="ttdeci">struct cls_cursor cls_cursor_start(const struct classifier *, const struct cls_rule *target, cls_version_t)</div><div class="ttdef"><b>Definition:</b> classifier.c:1356</div></div>
<div class="ttc" id="lib_2util_8h_html_acc4bc37c89a7cf784f802d4a48dc8889"><div class="ttname"><a href="lib_2util_8h.html#acc4bc37c89a7cf784f802d4a48dc8889">INIT_CONTAINER</a></div><div class="ttdeci">#define INIT_CONTAINER(OBJECT, POINTER, MEMBER)</div><div class="ttdef"><b>Definition:</b> util.h:233</div></div>
<div class="ttc" id="config_8h_html_a1c6d5de492ac61ad29aec7aa9a436bbf"><div class="ttname"><a href="config_8h.html#a1c6d5de492ac61ad29aec7aa9a436bbf">VERSION</a></div><div class="ttdeci">#define VERSION</div><div class="ttdef"><b>Definition:</b> config.h:229</div></div>
<div class="ttc" id="classifier_8h_html_a3fde4baacacc61fc56dc3761488ecefd"><div class="ttname"><a href="classifier_8h.html#a3fde4baacacc61fc56dc3761488ecefd">cls_cursor_advance</a></div><div class="ttdeci">void cls_cursor_advance(struct cls_cursor *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1410</div></div>
<div class="ttc" id="structcls__cursor_html"><div class="ttname"><a href="structcls__cursor.html">cls_cursor</a></div><div class="ttdef"><b>Definition:</b> classifier.h:434</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98fb84a2d7ede3d5c704d15c0b5738b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLS_MAX_VERSION&#160;&#160;&#160;(<a class="el" href="type-props_8h.html#aad90a29db1a9d2a06699b022c1b70230">TYPE_MAXIMUM</a>(<a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>) - 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af53d0e2aa3b92c85662aae3f40cfd1c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLS_MIN_VERSION&#160;&#160;&#160;0                  /* Default version number to use. */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2449ce834470390cd504232063a77858"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLS_NOT_REMOVED_VERSION&#160;&#160;&#160;<a class="el" href="type-props_8h.html#aad90a29db1a9d2a06699b022c1b70230">TYPE_MAXIMUM</a>(<a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a15b69fcc6ad4d2d040c00ec025940eac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> <a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a9a3be2d66956bd67c0b66c32d8b30f17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6"></a>CLS_MAX_INDICES&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5"></a>CLS_MAX_TRIES&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;     {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a> = 3,   <span class="comment">/* Maximum number of lookup indices per subtable. */</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a> = 3      <span class="comment">/* Maximum number of prefix trees per classifier. */</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;};</div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:333</div></div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:332</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa30516797534c381586e1db51fdec0fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int classifier_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">/* n_rules is an int, so in the presence of concurrent writers this will</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">     * return either the old or a new value. */</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">n_rules</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="structclassifier_html_a7d0a15178eb08d4d0b24ab5c0a6d1305"><div class="ttname"><a href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">classifier::n_rules</a></div><div class="ttdeci">int n_rules</div><div class="ttdef"><b>Definition:</b> classifier.h:338</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a081fa9ba7b7ba4bdb7f7c99d9606b6a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void classifier_defer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;{</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    cls-&gt;<a class="code" href="structclassifier.html#a68161e6c18a42295750fb0363674d714">publish</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="ttc" id="structclassifier_html_a68161e6c18a42295750fb0363674d714"><div class="ttname"><a href="structclassifier.html#a68161e6c18a42295750fb0363674d714">classifier::publish</a></div><div class="ttdeci">bool publish</div><div class="ttdef"><b>Definition:</b> classifier.h:347</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16d28fd49914d6b7e9e789c3e2714344"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void classifier_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a>; i++) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            <a class="code" href="classifier_8c.html#a228976dfe04d7fcae831b7a3bec1aac5">trie_destroy</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">tries</a>[i].<a class="code" href="structcls__trie.html#a074bc05622a2671371fc44e72131b7f8">root</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a> (subtable, <a class="code" href="structcmap__node.html">cmap_node</a>, &amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a224e9f78574faff7673b44ddad182624">subtables_map</a>) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <a class="code" href="classifier_8c.html#a1be469bfced98ae618768a38eb15e82c">destroy_subtable</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, subtable);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <a class="code" href="cmap_8c.html#a48824c69a56295b55010890497c6e16b">cmap_destroy</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a224e9f78574faff7673b44ddad182624">subtables_map</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="pvector_8c.html#a0263b34ced95759178f7b7afd7e74d8c">pvector_destroy</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="structcmap__node_html"><div class="ttname"><a href="structcmap__node.html">cmap_node</a></div><div class="ttdef"><b>Definition:</b> cmap.h:61</div></div>
<div class="ttc" id="structclassifier_html_aa15fbbca1b252aa18a3a6d0d45f63d95"><div class="ttname"><a href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">classifier::subtables</a></div><div class="ttdeci">struct pvector subtables</div><div class="ttdef"><b>Definition:</b> classifier.h:343</div></div>
<div class="ttc" id="cmap_8c_html_a48824c69a56295b55010890497c6e16b"><div class="ttname"><a href="cmap_8c.html#a48824c69a56295b55010890497c6e16b">cmap_destroy</a></div><div class="ttdeci">void cmap_destroy(struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:252</div></div>
<div class="ttc" id="classifier_8c_html_a1be469bfced98ae618768a38eb15e82c"><div class="ttname"><a href="classifier_8c.html#a1be469bfced98ae618768a38eb15e82c">destroy_subtable</a></div><div class="ttdeci">static void destroy_subtable(struct classifier *cls, struct cls_subtable *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1524</div></div>
<div class="ttc" id="pvector_8c_html_a0263b34ced95759178f7b7afd7e74d8c"><div class="ttname"><a href="pvector_8c.html#a0263b34ced95759178f7b7afd7e74d8c">pvector_destroy</a></div><div class="ttdeci">void pvector_destroy(struct pvector *pvec)</div><div class="ttdef"><b>Definition:</b> pvector.c:64</div></div>
<div class="ttc" id="structclassifier_html_ac60d51ae6eca172fefa83d2aa5fb1eb4"><div class="ttname"><a href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">classifier::tries</a></div><div class="ttdeci">struct cls_trie tries[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier.h:345</div></div>
<div class="ttc" id="structcls__trie_html_a074bc05622a2671371fc44e72131b7f8"><div class="ttname"><a href="structcls__trie.html#a074bc05622a2671371fc44e72131b7f8">cls_trie::root</a></div><div class="ttdeci">rcu_trie_ptr root</div><div class="ttdef"><b>Definition:</b> classifier.h:322</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="structclassifier_html_a224e9f78574faff7673b44ddad182624"><div class="ttname"><a href="structclassifier.html#a224e9f78574faff7673b44ddad182624">classifier::subtables_map</a></div><div class="ttdeci">struct cmap subtables_map</div><div class="ttdef"><b>Definition:</b> classifier.h:342</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="classifier_8c_html_a228976dfe04d7fcae831b7a3bec1aac5"><div class="ttname"><a href="classifier_8c.html#a228976dfe04d7fcae831b7a3bec1aac5">trie_destroy</a></div><div class="ttdeci">static void trie_destroy(rcu_trie_ptr *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1939</div></div>
<div class="ttc" id="structclassifier_html_aa4459a1c815f73f67da4805d22a4c389"><div class="ttname"><a href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">classifier::n_tries</a></div><div class="ttdeci">unsigned int n_tries</div><div class="ttdef"><b>Definition:</b> classifier.h:346</div></div>
<div class="ttc" id="cmap_8h_html_aa9ed969abc5b04fb7ad29f82ce4eb5b9"><div class="ttname"><a href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a></div><div class="ttdeci">#define CMAP_FOR_EACH(NODE, MEMBER, CMAP)</div><div class="ttdef"><b>Definition:</b> cmap.h:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a630dc7b4e2bbf47686ac2d45f6919d87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structcls__rule.html">cls_rule</a>* classifier_find_match_exactly </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmatch.html">match</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;{</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcls__rule.html">cls_rule</a> *retval;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__rule.html">cls_rule</a> cr;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="classifier_8c.html#a5cd53fb41fcfcbf95dbee7b7cfd93b30">cls_rule_init</a>(&amp;cr, <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>, <a class="code" href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a>);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    retval = <a class="code" href="classifier_8c.html#af5d1ea44b683ad3001a386db79c3d4b6">classifier_find_rule_exactly</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, &amp;cr, <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <a class="code" href="classifier_8c.html#a435b7e67ebcbb9bc49e7678dd6cfb748">cls_rule_destroy</a>(&amp;cr);</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;}</div>
<div class="ttc" id="classifier_8c_html_a435b7e67ebcbb9bc49e7678dd6cfb748"><div class="ttname"><a href="classifier_8c.html#a435b7e67ebcbb9bc49e7678dd6cfb748">cls_rule_destroy</a></div><div class="ttdeci">void cls_rule_destroy(struct cls_rule *rule) OVS_NO_THREAD_SAFETY_ANALYSIS</div><div class="ttdef"><b>Definition:</b> classifier.c:230</div></div>
<div class="ttc" id="classifier_8c_html_a5cd53fb41fcfcbf95dbee7b7cfd93b30"><div class="ttname"><a href="classifier_8c.html#a5cd53fb41fcfcbf95dbee7b7cfd93b30">cls_rule_init</a></div><div class="ttdeci">void cls_rule_init(struct cls_rule *rule, const struct match *match, int priority)</div><div class="ttdef"><b>Definition:</b> classifier.c:187</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a5fb304013ae6aaeaee9d7fdcfd343292"><div class="ttname"><a href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a></div><div class="ttdeci">struct in6_addr target</div><div class="ttdef"><b>Definition:</b> flow.h:153</div></div>
<div class="ttc" id="classifier_8c_html_af5d1ea44b683ad3001a386db79c3d4b6"><div class="ttname"><a href="classifier_8c.html#af5d1ea44b683ad3001a386db79c3d4b6">classifier_find_rule_exactly</a></div><div class="ttdeci">const struct cls_rule * classifier_find_rule_exactly(const struct classifier *cls, const struct cls_rule *target, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier.c:1185</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
<div class="ttc" id="structcls__rule_html"><div class="ttname"><a href="structcls__rule.html">cls_rule</a></div><div class="ttdef"><b>Definition:</b> classifier.h:357</div></div>
<div class="ttc" id="datapath_2flow_8h_html_afff29fa49545fb51e4ff641e79d7f2c3"><div class="ttname"><a href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a></div><div class="ttdeci">u32 priority</div><div class="ttdef"><b>Definition:</b> flow.h:107</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a837b8749cb5eff8ec126f8bb69f6a3fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structcls__rule.html">cls_rule</a>* classifier_find_rule_exactly </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *head, *<a class="code" href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a>;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    subtable = <a class="code" href="classifier_8c.html#a597408cb4254065365d47e29f73dee46">find_subtable</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;match.mask);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">if</span> (!subtable) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    head = <a class="code" href="classifier_8c.html#af206bd8ab27883f28c7fe5f281be46cc">find_equal</a>(subtable, <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;match.flow,</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                      <a class="code" href="classifier-private_8h.html#ac7c9fdca89d64f2619f246db3333093e">miniflow_hash_in_minimask</a>(<a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;match.flow,</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                                <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;match.mask, 0));</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (!head) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="classifier-private_8h.html#a1d66efd36de128063095ac5646adc740">CLS_MATCH_FOR_EACH</a> (rule, head) {</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a> &lt; <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;priority) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;            <span class="keywordflow">break</span>; <span class="comment">/* Not found. */</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a> == <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;priority</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            &amp;&amp; <a class="code" href="classifier-private_8h.html#a11fd45afe0c64b417b05d3efec0fa64b">cls_match_visible_in_version</a>(rule, <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>)) {</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;            <span class="keywordflow">return</span> rule-&gt;<a class="code" href="structcls__match.html#a3ebc12264a2e6b7591c7fed52c13c457">cls_rule</a>;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div>
<div class="ttc" id="structcls__match_html"><div class="ttname"><a href="structcls__match.html">cls_match</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:63</div></div>
<div class="ttc" id="structcls__match_html_ae39bacac9255caf59976099036c22e9d"><div class="ttname"><a href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">cls_match::priority</a></div><div class="ttdeci">const int priority</div><div class="ttdef"><b>Definition:</b> classifier-private.h:69</div></div>
<div class="ttc" id="classifier-private_8h_html_ac7c9fdca89d64f2619f246db3333093e"><div class="ttname"><a href="classifier-private_8h.html#ac7c9fdca89d64f2619f246db3333093e">miniflow_hash_in_minimask</a></div><div class="ttdeci">static uint32_t miniflow_hash_in_minimask(const struct miniflow *flow, const struct minimask *mask, uint32_t basis)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:247</div></div>
<div class="ttc" id="classifier_8c_html_af206bd8ab27883f28c7fe5f281be46cc"><div class="ttname"><a href="classifier_8c.html#af206bd8ab27883f28c7fe5f281be46cc">find_equal</a></div><div class="ttdeci">static struct cls_match * find_equal(const struct cls_subtable *, const struct miniflow *, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> classifier.c:1802</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a5fb304013ae6aaeaee9d7fdcfd343292"><div class="ttname"><a href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a></div><div class="ttdeci">struct in6_addr target</div><div class="ttdef"><b>Definition:</b> flow.h:153</div></div>
<div class="ttc" id="structcls__match_html_a3ebc12264a2e6b7591c7fed52c13c457"><div class="ttname"><a href="structcls__match.html#a3ebc12264a2e6b7591c7fed52c13c457">cls_match::cls_rule</a></div><div class="ttdeci">const struct cls_rule * cls_rule</div><div class="ttdef"><b>Definition:</b> classifier-private.h:83</div></div>
<div class="ttc" id="classifier-private_8h_html_a11fd45afe0c64b417b05d3efec0fa64b"><div class="ttname"><a href="classifier-private_8h.html#a11fd45afe0c64b417b05d3efec0fa64b">cls_match_visible_in_version</a></div><div class="ttdeci">static bool cls_match_visible_in_version(const struct cls_match *rule, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:98</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="ofproto_8c_html_a74a61fd843d1c71e1998e674df07164e"><div class="ttname"><a href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a></div><div class="ttdeci">ovs_mutex_lock &amp; rule</div><div class="ttdef"><b>Definition:</b> ofproto.c:5234</div></div>
<div class="ttc" id="classifier-private_8h_html_a1d66efd36de128063095ac5646adc740"><div class="ttname"><a href="classifier-private_8h.html#a1d66efd36de128063095ac5646adc740">CLS_MATCH_FOR_EACH</a></div><div class="ttdeci">#define CLS_MATCH_FOR_EACH(ITER, HEAD)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:185</div></div>
<div class="ttc" id="classifier_8c_html_a597408cb4254065365d47e29f73dee46"><div class="ttname"><a href="classifier_8c.html#a597408cb4254065365d47e29f73dee46">find_subtable</a></div><div class="ttdeci">static struct cls_subtable * find_subtable(const struct classifier *cls, const struct minimask *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1416</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a17035f35f1115c981b7c6cff73fef129"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void classifier_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>flow_segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">n_rules</a> = 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="cmap_8c.html#a3629638de0cf2d390c7799afd0a15d40">cmap_init</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a224e9f78574faff7673b44ddad182624">subtables_map</a>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="pvector_8c.html#a6e450365051de44aa7d6af9c80bcfb30">pvector_init</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a2bb54d79c64f314912c49ffb7221af97">n_flow_segments</a> = 0;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (flow_segments) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a2bb54d79c64f314912c49ffb7221af97">n_flow_segments</a> &lt; <a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;               &amp;&amp; *flow_segments &lt; <a class="code" href="lib_2flow_8h.html#a30d119d60a637562dd2fd9d4d257161b">FLOW_U64S</a>) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a4645ba9b41c305150ca15d04d4513449">flow_segments</a>[<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a2bb54d79c64f314912c49ffb7221af97">n_flow_segments</a>++] = *flow_segments++;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a> = 0;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a>; i++) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="classifier_8c.html#a3a561fa99fd2df46ae476df5c5ee8003">trie_init</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, i, NULL);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a68161e6c18a42295750fb0363674d714">publish</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:333</div></div>
<div class="ttc" id="structclassifier_html_aa15fbbca1b252aa18a3a6d0d45f63d95"><div class="ttname"><a href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">classifier::subtables</a></div><div class="ttdeci">struct pvector subtables</div><div class="ttdef"><b>Definition:</b> classifier.h:343</div></div>
<div class="ttc" id="cmap_8c_html_a3629638de0cf2d390c7799afd0a15d40"><div class="ttname"><a href="cmap_8c.html#a3629638de0cf2d390c7799afd0a15d40">cmap_init</a></div><div class="ttdeci">void cmap_init(struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:242</div></div>
<div class="ttc" id="lib_2flow_8h_html_a30d119d60a637562dd2fd9d4d257161b"><div class="ttname"><a href="lib_2flow_8h.html#a30d119d60a637562dd2fd9d4d257161b">FLOW_U64S</a></div><div class="ttdeci">#define FLOW_U64S</div><div class="ttdef"><b>Definition:</b> flow.h:141</div></div>
<div class="ttc" id="structclassifier_html_a224e9f78574faff7673b44ddad182624"><div class="ttname"><a href="structclassifier.html#a224e9f78574faff7673b44ddad182624">classifier::subtables_map</a></div><div class="ttdeci">struct cmap subtables_map</div><div class="ttdef"><b>Definition:</b> classifier.h:342</div></div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:332</div></div>
<div class="ttc" id="classifier_8c_html_a3a561fa99fd2df46ae476df5c5ee8003"><div class="ttname"><a href="classifier_8c.html#a3a561fa99fd2df46ae476df5c5ee8003">trie_init</a></div><div class="ttdeci">static void trie_init(struct classifier *cls, int trie_idx, const struct mf_field *)</div><div class="ttdef"><b>Definition:</b> classifier.c:441</div></div>
<div class="ttc" id="pvector_8c_html_a6e450365051de44aa7d6af9c80bcfb30"><div class="ttname"><a href="pvector_8c.html#a6e450365051de44aa7d6af9c80bcfb30">pvector_init</a></div><div class="ttdeci">void pvector_init(struct pvector *pvec)</div><div class="ttdef"><b>Definition:</b> pvector.c:53</div></div>
<div class="ttc" id="structclassifier_html_a4645ba9b41c305150ca15d04d4513449"><div class="ttname"><a href="structclassifier.html#a4645ba9b41c305150ca15d04d4513449">classifier::flow_segments</a></div><div class="ttdeci">uint8_t flow_segments[CLS_MAX_INDICES]</div><div class="ttdef"><b>Definition:</b> classifier.h:340</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="structclassifier_html_aa4459a1c815f73f67da4805d22a4c389"><div class="ttname"><a href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">classifier::n_tries</a></div><div class="ttdeci">unsigned int n_tries</div><div class="ttdef"><b>Definition:</b> classifier.h:346</div></div>
<div class="ttc" id="structclassifier_html_a7d0a15178eb08d4d0b24ab5c0a6d1305"><div class="ttname"><a href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">classifier::n_rules</a></div><div class="ttdeci">int n_rules</div><div class="ttdef"><b>Definition:</b> classifier.h:338</div></div>
<div class="ttc" id="structclassifier_html_a68161e6c18a42295750fb0363674d714"><div class="ttname"><a href="structclassifier.html#a68161e6c18a42295750fb0363674d714">classifier::publish</a></div><div class="ttdeci">bool publish</div><div class="ttdef"><b>Definition:</b> classifier.h:347</div></div>
<div class="ttc" id="structclassifier_html_a2bb54d79c64f314912c49ffb7221af97"><div class="ttname"><a href="structclassifier.html#a2bb54d79c64f314912c49ffb7221af97">classifier::n_flow_segments</a></div><div class="ttdeci">uint8_t n_flow_segments</div><div class="ttdef"><b>Definition:</b> classifier.h:339</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1d7f0b25780eb60d4a08059e6448b21b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void classifier_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__conjunction.html">cls_conjunction</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_conjunctions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8eb1b2de8d423845df3559a88255ed10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> classifier_is_empty </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="cmap_8c.html#a92dab45b29bd7d80452a56610ec29447">cmap_is_empty</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a224e9f78574faff7673b44ddad182624">subtables_map</a>);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="ttc" id="structclassifier_html_a224e9f78574faff7673b44ddad182624"><div class="ttname"><a href="structclassifier.html#a224e9f78574faff7673b44ddad182624">classifier::subtables_map</a></div><div class="ttdeci">struct cmap subtables_map</div><div class="ttdef"><b>Definition:</b> classifier.h:342</div></div>
<div class="ttc" id="cmap_8c_html_a92dab45b29bd7d80452a56610ec29447"><div class="ttname"><a href="cmap_8c.html#a92dab45b29bd7d80452a56610ec29447">cmap_is_empty</a></div><div class="ttdeci">bool cmap_is_empty(const struct cmap *cmap)</div><div class="ttdef"><b>Definition:</b> cmap.c:268</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae422517ae6703863ecd28b029bf631b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structcls__rule.html">cls_rule</a>* classifier_lookup </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflow.html">flow</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structflow__wildcards.html">flow_wildcards</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;{</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classifier_8c.html#a27a64cce3a0d4c6df05fada6f1f74a72">classifier_lookup__</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>, <a class="code" href="structflow.html">flow</a>, wc, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div>
<div class="ttc" id="classifier_8c_html_a27a64cce3a0d4c6df05fada6f1f74a72"><div class="ttname"><a href="classifier_8c.html#a27a64cce3a0d4c6df05fada6f1f74a72">classifier_lookup__</a></div><div class="ttdeci">static const struct cls_rule * classifier_lookup__(const struct classifier *cls, cls_version_t version, struct flow *flow, struct flow_wildcards *wc, bool allow_conjunctive_matches)</div><div class="ttdef"><b>Definition:</b> classifier.c:946</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="structflow_html"><div class="ttname"><a href="structflow.html">flow</a></div><div class="ttdef"><b>Definition:</b> flow.h:94</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae23358b120b21fa610c712cfd3acbbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void classifier_publish </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    cls-&gt;<a class="code" href="structclassifier.html#a68161e6c18a42295750fb0363674d714">publish</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="pvector_8h.html#a8f45039e50184cc2b4eee4eb60cda4a0">pvector_publish</a>(&amp;cls-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;}</div>
<div class="ttc" id="structclassifier_html_aa15fbbca1b252aa18a3a6d0d45f63d95"><div class="ttname"><a href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">classifier::subtables</a></div><div class="ttdeci">struct pvector subtables</div><div class="ttdef"><b>Definition:</b> classifier.h:343</div></div>
<div class="ttc" id="structclassifier_html_a68161e6c18a42295750fb0363674d714"><div class="ttname"><a href="structclassifier.html#a68161e6c18a42295750fb0363674d714">classifier::publish</a></div><div class="ttdeci">bool publish</div><div class="ttdef"><b>Definition:</b> classifier.h:347</div></div>
<div class="ttc" id="pvector_8h_html_a8f45039e50184cc2b4eee4eb60cda4a0"><div class="ttname"><a href="pvector_8h.html#a8f45039e50184cc2b4eee4eb60cda4a0">pvector_publish</a></div><div class="ttdeci">static void pvector_publish(struct pvector *)</div><div class="ttdef"><b>Definition:</b> pvector.h:234</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8d8c646ef0f7af2a739c0721a40de85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structcls__rule.html">cls_rule</a>* classifier_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;{</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *<a class="code" href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a>, *prev, *next, *head;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__conjunction__set.html">cls_conjunction_set</a> *conj_set;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> basis = 0, hash, ihash[<a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a>];</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask_offset;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="test-classifier_8c.html#a2e08c79547ac882db37734d5b045359e">n_rules</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    rule = <a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a5ee499a1b3b22ef046edb9352e47b8e7">cls_match</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (!rule) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">/* Mark as removed. */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structcls__rule.html">cls_rule</a> *, <a class="code" href="structcls__rule.html">cls_rule</a>)-&gt;cls_match = NULL;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">/* Remove &#39;cls_rule&#39; from the subtable&#39;s rules list. */</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="lib_2rculist_8h.html#ad657bc9949efb052e31ec82f7eadd923">rculist_remove</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structrculist.html">rculist</a> *, &amp;<a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a241f61bd3a21de7b39b2aaf7d32ed1e4">node</a>));</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    subtable = <a class="code" href="classifier_8c.html#a597408cb4254065365d47e29f73dee46">find_subtable</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, <a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>.<a class="code" href="structminimatch.html#ab4803a5b0acb7b88c144eba10d81fe84">mask</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(subtable);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    mask_offset = 0;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; subtable-&gt;<a class="code" href="structcls__subtable.html#a7180b6dca189cd5a7621f39250775c05">n_indices</a>; i++) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        ihash[i] = <a class="code" href="classifier-private_8h.html#a573aafe905230feab8629623f7cc77bf">minimatch_hash_range</a>(&amp;<a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>,</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                                        subtable-&gt;<a class="code" href="structcls__subtable.html#ac7872582aad761d47ed110317cecc610">index_maps</a>[i],</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                                        &amp;mask_offset, &amp;basis);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    }</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    hash = <a class="code" href="classifier-private_8h.html#a573aafe905230feab8629623f7cc77bf">minimatch_hash_range</a>(&amp;<a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>, subtable-&gt;<a class="code" href="structcls__subtable.html#ac7872582aad761d47ed110317cecc610">index_maps</a>[i],</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                                &amp;mask_offset, &amp;basis);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    head = <a class="code" href="classifier_8c.html#af206bd8ab27883f28c7fe5f281be46cc">find_equal</a>(subtable, <a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>.<a class="code" href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">flow</a>, hash);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">/* Check if the rule is not the head rule. */</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (rule != head) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *iter;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="comment">/* Not the head rule, but potentially one with the same priority. */</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">/* Remove from the list of equal rules. */</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="classifier-private_8h.html#a437b89e0a88c0213ea4de69c92f75735">FOR_EACH_RULE_IN_LIST_PROTECTED</a> (iter, prev, head) {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            <span class="keywordflow">if</span> (rule == iter) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(iter == rule);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <a class="code" href="classifier-private_8h.html#a48cdb4ff337700002e0c3fa8dfb2b96b">cls_match_remove</a>(prev, rule);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">goto</span> check_priority;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">/* &#39;rule&#39; is the head rule.  Check if there is another rule to</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">     * replace &#39;rule&#39; in the data structures. */</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    next = <a class="code" href="classifier-private_8h.html#ad7da68d5200653c96964bcd4110bb922">cls_match_next_protected</a>(rule);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> (next) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <a class="code" href="classifier_8c.html#acdc9a220389261c66e6f1cb33b6b4d14">subtable_replace_head_rule</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, subtable, rule, next, hash, ihash);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">goto</span> check_priority;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">/* &#39;rule&#39; is last of the kind in the classifier, must remove from all the</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">     * data structures. */</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">if</span> (subtable-&gt;<a class="code" href="structcls__subtable.html#ac8fb9ed6d2d0f908ec541e9d5d85f671">ports_mask_len</a>) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <a class="code" href="Types_8h.html#ae1eb23768e4dd2d6b787d319e31cda8e">ovs_be32</a> masked_ports = <a class="code" href="classifier_8c.html#a70baaa04b4cc9a3d054790c109af68a0">minimatch_get_ports</a>(&amp;<a class="code" href="structcls__rule.html">cls_rule</a>-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="classifier_8c.html#a102ff3b24105e2a1daa50f807cf58c42">trie_remove_prefix</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a1dc98c8ee96d1c6d749c3107f73c0f74">ports_trie</a>,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                           &amp;masked_ports, subtable-&gt;<a class="code" href="structcls__subtable.html#ac8fb9ed6d2d0f908ec541e9d5d85f671">ports_mask_len</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a>; i++) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">if</span> (subtable-&gt;<a class="code" href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">trie_plen</a>[i]) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <a class="code" href="classifier_8c.html#a54752a4a49809a0bf95a0f7bcc9cea65">trie_remove</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">tries</a>[i], <a class="code" href="structcls__rule.html">cls_rule</a>, subtable-&gt;<a class="code" href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">trie_plen</a>[i]);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">/* Remove rule node from indices. */</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; subtable-&gt;<a class="code" href="structcls__subtable.html#a7180b6dca189cd5a7621f39250775c05">n_indices</a>; i++) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="cmap_8h.html#a441ab12d89e8a9956416e5ae73539466">cmap_remove</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a6a80d73afc1b22e9b29d0c205adef357">indices</a>[i], &amp;rule-&gt;<a class="code" href="structcls__match.html#a0a3284697172984c8887555d8b796a9b">index_nodes</a>[i], ihash[i]);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    n_rules = <a class="code" href="cmap_8h.html#a441ab12d89e8a9956416e5ae73539466">cmap_remove</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a466d209ab3eef587a06e8c4a1feab8a8">rules</a>, &amp;rule-&gt;<a class="code" href="structcls__match.html#ae7ec383824f2044b6fe13aea4a1c5016">cmap_node</a>, hash);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span> (n_rules == 0) {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <a class="code" href="classifier_8c.html#a1be469bfced98ae618768a38eb15e82c">destroy_subtable</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, subtable);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;check_priority:</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="keywordflow">if</span> (subtable-&gt;<a class="code" href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">max_priority</a> == rule-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            &amp;&amp; --subtable-&gt;<a class="code" href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">max_count</a> == 0) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            <span class="comment">/* Find the new &#39;max_priority&#39; and &#39;max_count&#39;. */</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;            <span class="keywordtype">int</span> max_priority = INT_MIN;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *head;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <a class="code" href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a> (head, <a class="code" href="structcmap__node.html">cmap_node</a>, &amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a466d209ab3eef587a06e8c4a1feab8a8">rules</a>) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                <span class="keywordflow">if</span> (head-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a> &gt; max_priority) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    max_priority = head-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    subtable-&gt;<a class="code" href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">max_count</a> = 1;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (head-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a> == max_priority) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                    ++subtable-&gt;<a class="code" href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">max_count</a>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            subtable-&gt;<a class="code" href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">max_priority</a> = max_priority;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <a class="code" href="pvector_8c.html#a71cfa353f46cbdd6bab6926e962c05c6">pvector_change_priority</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>, subtable, max_priority);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a68161e6c18a42295750fb0363674d714">publish</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <a class="code" href="pvector_8h.html#a8f45039e50184cc2b4eee4eb60cda4a0">pvector_publish</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">/* free the rule. */</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    conj_set = <a class="code" href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a>(<span class="keyword">struct</span> <a class="code" href="structcls__conjunction__set.html">cls_conjunction_set</a> *,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                                    &amp;rule-&gt;conj_set);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (conj_set) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(free, conj_set);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(<a class="code" href="classifier_8c.html#ae260cfd2b49d55cf278e70e9dc89320f">cls_match_free_cb</a>, rule);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">n_rules</a>--;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structcls__match.html#a3ebc12264a2e6b7591c7fed52c13c457">cls_rule</a>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;}</div>
<div class="ttc" id="structcmap__node_html"><div class="ttname"><a href="structcmap__node.html">cmap_node</a></div><div class="ttdef"><b>Definition:</b> cmap.h:61</div></div>
<div class="ttc" id="structcls__match_html"><div class="ttname"><a href="structcls__match.html">cls_match</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:63</div></div>
<div class="ttc" id="test-classifier_8c_html_a2e08c79547ac882db37734d5b045359e"><div class="ttname"><a href="test-classifier_8c.html#a2e08c79547ac882db37734d5b045359e">n_rules</a></div><div class="ttdeci">static int n_rules</div><div class="ttdef"><b>Definition:</b> test-classifier.c:1276</div></div>
<div class="ttc" id="classifier_8c_html_ae260cfd2b49d55cf278e70e9dc89320f"><div class="ttname"><a href="classifier_8c.html#ae260cfd2b49d55cf278e70e9dc89320f">cls_match_free_cb</a></div><div class="ttdeci">void cls_match_free_cb(struct cls_match *rule)</div><div class="ttdef"><b>Definition:</b> classifier.c:2262</div></div>
<div class="ttc" id="classifier_8c_html_a102ff3b24105e2a1daa50f807cf58c42"><div class="ttname"><a href="classifier_8c.html#a102ff3b24105e2a1daa50f807cf58c42">trie_remove_prefix</a></div><div class="ttdeci">static void trie_remove_prefix(rcu_trie_ptr *, const ovs_be32 *prefix, int mlen)</div><div class="ttdef"><b>Definition:</b> classifier.c:2187</div></div>
<div class="ttc" id="lib_2util_8h_html_ac236d3d8f33428ab822cc4e277a451c8"><div class="ttname"><a href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a></div><div class="ttdeci">#define ovs_assert(CONDITION)</div><div class="ttdef"><b>Definition:</b> util.h:73</div></div>
<div class="ttc" id="structcls__rule_html_a5ee499a1b3b22ef046edb9352e47b8e7"><div class="ttname"><a href="structcls__rule.html#a5ee499a1b3b22ef046edb9352e47b8e7">cls_rule::cls_match</a></div><div class="ttdeci">struct cls_match * cls_match</div><div class="ttdef"><b>Definition:</b> classifier.h:360</div></div>
<div class="ttc" id="classifier-private_8h_html_a48cdb4ff337700002e0c3fa8dfb2b96b"><div class="ttname"><a href="classifier-private_8h.html#a48cdb4ff337700002e0c3fa8dfb2b96b">cls_match_remove</a></div><div class="ttdeci">static void cls_match_remove(struct cls_match *prev, struct cls_match *rule)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:178</div></div>
<div class="ttc" id="structcls__subtable_html_a6a80d73afc1b22e9b29d0c205adef357"><div class="ttname"><a href="structcls__subtable.html#a6a80d73afc1b22e9b29d0c205adef357">cls_subtable::indices</a></div><div class="ttdeci">struct cmap indices[CLS_MAX_INDICES]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:47</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a51d7fd9d7daaac25bac13bb577778e57"><div class="ttname"><a href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a></div><div class="ttdeci">#define ovsrcu_get_protected(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:178</div></div>
<div class="ttc" id="structclassifier_html_aa15fbbca1b252aa18a3a6d0d45f63d95"><div class="ttname"><a href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">classifier::subtables</a></div><div class="ttdeci">struct pvector subtables</div><div class="ttdef"><b>Definition:</b> classifier.h:343</div></div>
<div class="ttc" id="classifier_8c_html_a1be469bfced98ae618768a38eb15e82c"><div class="ttname"><a href="classifier_8c.html#a1be469bfced98ae618768a38eb15e82c">destroy_subtable</a></div><div class="ttdeci">static void destroy_subtable(struct classifier *cls, struct cls_subtable *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1524</div></div>
<div class="ttc" id="structcls__match_html_ae7ec383824f2044b6fe13aea4a1c5016"><div class="ttname"><a href="structcls__match.html#ae7ec383824f2044b6fe13aea4a1c5016">cls_match::cmap_node</a></div><div class="ttdeci">struct cmap_node cmap_node</div><div class="ttdef"><b>Definition:</b> classifier-private.h:73</div></div>
<div class="ttc" id="structcls__subtable_html_ab96f0525ba70a481c6f6eb9ab770264f"><div class="ttname"><a href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">cls_subtable::max_priority</a></div><div class="ttdeci">int max_priority</div><div class="ttdef"><b>Definition:</b> classifier-private.h:32</div></div>
<div class="ttc" id="structcls__match_html_ae39bacac9255caf59976099036c22e9d"><div class="ttname"><a href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">cls_match::priority</a></div><div class="ttdeci">const int priority</div><div class="ttdef"><b>Definition:</b> classifier-private.h:69</div></div>
<div class="ttc" id="classifier-private_8h_html_ad7da68d5200653c96964bcd4110bb922"><div class="ttname"><a href="classifier-private_8h.html#ad7da68d5200653c96964bcd4110bb922">cls_match_next_protected</a></div><div class="ttdeci">static struct cls_match * cls_match_next_protected(const struct cls_match *rule)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:132</div></div>
<div class="ttc" id="cmap_8h_html_a441ab12d89e8a9956416e5ae73539466"><div class="ttname"><a href="cmap_8h.html#a441ab12d89e8a9956416e5ae73539466">cmap_remove</a></div><div class="ttdeci">static size_t cmap_remove(struct cmap *, struct cmap_node *, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> cmap.h:263</div></div>
<div class="ttc" id="Types_8h_html_ae1eb23768e4dd2d6b787d319e31cda8e"><div class="ttname"><a href="Types_8h.html#ae1eb23768e4dd2d6b787d319e31cda8e">ovs_be32</a></div><div class="ttdeci">unsigned int ovs_be32</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="structcls__match_html_a0a3284697172984c8887555d8b796a9b"><div class="ttname"><a href="structcls__match.html#a0a3284697172984c8887555d8b796a9b">cls_match::index_nodes</a></div><div class="ttdeci">struct cmap_node index_nodes[CLS_MAX_INDICES]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:70</div></div>
<div class="ttc" id="classifier-private_8h_html_a437b89e0a88c0213ea4de69c92f75735"><div class="ttname"><a href="classifier-private_8h.html#a437b89e0a88c0213ea4de69c92f75735">FOR_EACH_RULE_IN_LIST_PROTECTED</a></div><div class="ttdeci">#define FOR_EACH_RULE_IN_LIST_PROTECTED(ITER, PREV, HEAD)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:192</div></div>
<div class="ttc" id="structclassifier_html_ac60d51ae6eca172fefa83d2aa5fb1eb4"><div class="ttname"><a href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">classifier::tries</a></div><div class="ttdeci">struct cls_trie tries[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier.h:345</div></div>
<div class="ttc" id="structcls__subtable_html_a1dc98c8ee96d1c6d749c3107f73c0f74"><div class="ttname"><a href="structcls__subtable.html#a1dc98c8ee96d1c6d749c3107f73c0f74">cls_subtable::ports_trie</a></div><div class="ttdeci">rcu_trie_ptr ports_trie</div><div class="ttdef"><b>Definition:</b> classifier-private.h:48</div></div>
<div class="ttc" id="classifier_8c_html_a54752a4a49809a0bf95a0f7bcc9cea65"><div class="ttname"><a href="classifier_8c.html#a54752a4a49809a0bf95a0f7bcc9cea65">trie_remove</a></div><div class="ttdeci">static void trie_remove(struct cls_trie *, const struct cls_rule *, int mlen)</div><div class="ttdef"><b>Definition:</b> classifier.c:2178</div></div>
<div class="ttc" id="classifier_8c_html_af206bd8ab27883f28c7fe5f281be46cc"><div class="ttname"><a href="classifier_8c.html#af206bd8ab27883f28c7fe5f281be46cc">find_equal</a></div><div class="ttdeci">static struct cls_match * find_equal(const struct cls_subtable *, const struct miniflow *, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> classifier.c:1802</div></div>
<div class="ttc" id="structcls__conjunction__set_html"><div class="ttname"><a href="structcls__conjunction__set.html">cls_conjunction_set</a></div><div class="ttdef"><b>Definition:</b> classifier.c:36</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="structcls__subtable_html_a7180b6dca189cd5a7621f39250775c05"><div class="ttname"><a href="structcls__subtable.html#a7180b6dca189cd5a7621f39250775c05">cls_subtable::n_indices</a></div><div class="ttdeci">const uint8_t n_indices</div><div class="ttdef"><b>Definition:</b> classifier-private.h:42</div></div>
<div class="ttc" id="structcls__subtable_html_ac7872582aad761d47ed110317cecc610"><div class="ttname"><a href="structcls__subtable.html#ac7872582aad761d47ed110317cecc610">cls_subtable::index_maps</a></div><div class="ttdeci">const struct flowmap index_maps[CLS_MAX_INDICES+1]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:43</div></div>
<div class="ttc" id="lib_2rculist_8h_html_ad657bc9949efb052e31ec82f7eadd923"><div class="ttname"><a href="lib_2rculist_8h.html#ad657bc9949efb052e31ec82f7eadd923">rculist_remove</a></div><div class="ttdeci">static struct rculist * rculist_remove(struct rculist *elem)</div><div class="ttdef"><b>Definition:</b> rculist.h:265</div></div>
<div class="ttc" id="classifier-private_8h_html_a573aafe905230feab8629623f7cc77bf"><div class="ttname"><a href="classifier-private_8h.html#a573aafe905230feab8629623f7cc77bf">minimatch_hash_range</a></div><div class="ttdeci">static uint32_t minimatch_hash_range(const struct minimatch *match, const struct flowmap range, unsigned int *offset, uint32_t *basis)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:354</div></div>
<div class="ttc" id="structcls__rule_html_a241f61bd3a21de7b39b2aaf7d32ed1e4"><div class="ttname"><a href="structcls__rule.html#a241f61bd3a21de7b39b2aaf7d32ed1e4">cls_rule::node</a></div><div class="ttdeci">struct rculist node</div><div class="ttdef"><b>Definition:</b> classifier.h:358</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a1b7f87ff376b63796578cfdc6505925a"><div class="ttname"><a href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a></div><div class="ttdeci">#define ovsrcu_postpone(FUNCTION, ARG)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:209</div></div>
<div class="ttc" id="structcls__match_html_a3ebc12264a2e6b7591c7fed52c13c457"><div class="ttname"><a href="structcls__match.html#a3ebc12264a2e6b7591c7fed52c13c457">cls_match::cls_rule</a></div><div class="ttdeci">const struct cls_rule * cls_rule</div><div class="ttdef"><b>Definition:</b> classifier-private.h:83</div></div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:332</div></div>
<div class="ttc" id="structcls__rule_html_a5588c9729840acadecd373959ae29942"><div class="ttname"><a href="structcls__rule.html#a5588c9729840acadecd373959ae29942">cls_rule::match</a></div><div class="ttdeci">const struct minimatch match</div><div class="ttdef"><b>Definition:</b> classifier.h:361</div></div>
<div class="ttc" id="structminimatch_html_a19fd18141202635bcd95a13c38b26005"><div class="ttname"><a href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">minimatch::flow</a></div><div class="ttdeci">struct miniflow * flow</div><div class="ttdef"><b>Definition:</b> match.h:178</div></div>
<div class="ttc" id="structcls__rule_html"><div class="ttname"><a href="structcls__rule.html">cls_rule</a></div><div class="ttdef"><b>Definition:</b> classifier.h:357</div></div>
<div class="ttc" id="Types_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="structcls__subtable_html_ac8fb9ed6d2d0f908ec541e9d5d85f671"><div class="ttname"><a href="structcls__subtable.html#ac8fb9ed6d2d0f908ec541e9d5d85f671">cls_subtable::ports_mask_len</a></div><div class="ttdeci">const int ports_mask_len</div><div class="ttdef"><b>Definition:</b> classifier-private.h:46</div></div>
<div class="ttc" id="structcls__subtable_html_a491e61f30f28314f5730ce89dac367fc"><div class="ttname"><a href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">cls_subtable::max_count</a></div><div class="ttdeci">unsigned int max_count</div><div class="ttdef"><b>Definition:</b> classifier-private.h:33</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="classifier_8c_html_a70baaa04b4cc9a3d054790c109af68a0"><div class="ttname"><a href="classifier_8c.html#a70baaa04b4cc9a3d054790c109af68a0">minimatch_get_ports</a></div><div class="ttdeci">static ovs_be32 minimatch_get_ports(const struct minimatch *match)</div><div class="ttdef"><b>Definition:</b> classifier.c:489</div></div>
<div class="ttc" id="structclassifier_html_aa4459a1c815f73f67da4805d22a4c389"><div class="ttname"><a href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">classifier::n_tries</a></div><div class="ttdeci">unsigned int n_tries</div><div class="ttdef"><b>Definition:</b> classifier.h:346</div></div>
<div class="ttc" id="ofproto_8c_html_a74a61fd843d1c71e1998e674df07164e"><div class="ttname"><a href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a></div><div class="ttdeci">ovs_mutex_lock &amp; rule</div><div class="ttdef"><b>Definition:</b> ofproto.c:5234</div></div>
<div class="ttc" id="structminimatch_html_ab4803a5b0acb7b88c144eba10d81fe84"><div class="ttname"><a href="structminimatch.html#ab4803a5b0acb7b88c144eba10d81fe84">minimatch::mask</a></div><div class="ttdeci">struct minimask * mask</div><div class="ttdef"><b>Definition:</b> match.h:179</div></div>
<div class="ttc" id="structrculist_html"><div class="ttname"><a href="structrculist.html">rculist</a></div><div class="ttdef"><b>Definition:</b> rculist.h:62</div></div>
<div class="ttc" id="classifier_8c_html_acdc9a220389261c66e6f1cb33b6b4d14"><div class="ttname"><a href="classifier_8c.html#acdc9a220389261c66e6f1cb33b6b4d14">subtable_replace_head_rule</a></div><div class="ttdeci">static void subtable_replace_head_rule(struct classifier *cls OVS_UNUSED, struct cls_subtable *subtable, struct cls_match *head, struct cls_match *new, uint32_t hash, uint32_t ihash[CLS_MAX_INDICES])</div><div class="ttdef"><b>Definition:</b> classifier.c:497</div></div>
<div class="ttc" id="pvector_8c_html_a71cfa353f46cbdd6bab6926e962c05c6"><div class="ttname"><a href="pvector_8c.html#a71cfa353f46cbdd6bab6926e962c05c6">pvector_change_priority</a></div><div class="ttdeci">void pvector_change_priority(struct pvector *pvec, void *ptr, int priority)</div><div class="ttdef"><b>Definition:</b> pvector.c:169</div></div>
<div class="ttc" id="structclassifier_html_a7d0a15178eb08d4d0b24ab5c0a6d1305"><div class="ttname"><a href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">classifier::n_rules</a></div><div class="ttdeci">int n_rules</div><div class="ttdef"><b>Definition:</b> classifier.h:338</div></div>
<div class="ttc" id="cmap_8h_html_aa9ed969abc5b04fb7ad29f82ce4eb5b9"><div class="ttname"><a href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a></div><div class="ttdeci">#define CMAP_FOR_EACH(NODE, MEMBER, CMAP)</div><div class="ttdef"><b>Definition:</b> cmap.h:225</div></div>
<div class="ttc" id="classifier_8c_html_a597408cb4254065365d47e29f73dee46"><div class="ttname"><a href="classifier_8c.html#a597408cb4254065365d47e29f73dee46">find_subtable</a></div><div class="ttdeci">static struct cls_subtable * find_subtable(const struct classifier *cls, const struct minimask *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1416</div></div>
<div class="ttc" id="structclassifier_html_a68161e6c18a42295750fb0363674d714"><div class="ttname"><a href="structclassifier.html#a68161e6c18a42295750fb0363674d714">classifier::publish</a></div><div class="ttdeci">bool publish</div><div class="ttdef"><b>Definition:</b> classifier.h:347</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
<div class="ttc" id="structcls__subtable_html_a466d209ab3eef587a06e8c4a1feab8a8"><div class="ttname"><a href="structcls__subtable.html#a466d209ab3eef587a06e8c4a1feab8a8">cls_subtable::rules</a></div><div class="ttdeci">struct cmap rules</div><div class="ttdef"><b>Definition:</b> classifier-private.h:51</div></div>
<div class="ttc" id="structcls__subtable_html_aba7843b593af8bc8834f9f4b87e27b75"><div class="ttname"><a href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">cls_subtable::trie_plen</a></div><div class="ttdeci">unsigned int trie_plen[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:44</div></div>
<div class="ttc" id="pvector_8h_html_a8f45039e50184cc2b4eee4eb60cda4a0"><div class="ttname"><a href="pvector_8h.html#a8f45039e50184cc2b4eee4eb60cda4a0">pvector_publish</a></div><div class="ttdeci">static void pvector_publish(struct pvector *)</div><div class="ttdef"><b>Definition:</b> pvector.h:234</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2357e09ce11d3e2bca1a2c108c335e4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structcls__rule.html">cls_rule</a>* classifier_replace </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__conjunction.html">cls_conjunction</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_conjunctions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *<span class="keyword">new</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> ihash[<a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a>];</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *head;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask_offset;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="test-classifier_8c.html#a2e08c79547ac882db37734d5b045359e">n_rules</a> = 0;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> basis;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> hash;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">/* &#39;new&#39; is initially invisible to lookups. */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keyword">new</span> = <a class="code" href="classifier_8c.html#ae7617fbae18ab46efa4d97b0aa882c1c">cls_match_alloc</a>(<a class="code" href="structrule.html">rule</a>, <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>, conjs, n_conjs);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structcls__rule.html">cls_rule</a> *, <a class="code" href="structrule.html">rule</a>)-&gt;cls_match = <span class="keyword">new</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    subtable = <a class="code" href="classifier_8c.html#a597408cb4254065365d47e29f73dee46">find_subtable</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, <a class="code" href="structrule.html">rule</a>-&gt;match.mask);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (!subtable) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        subtable = <a class="code" href="classifier_8c.html#a83dccc0f912058863c2c71b9bb684d23">insert_subtable</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, <a class="code" href="structrule.html">rule</a>-&gt;match.mask);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">/* Compute hashes in segments. */</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    basis = 0;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    mask_offset = 0;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; subtable-&gt;<a class="code" href="structcls__subtable.html#a7180b6dca189cd5a7621f39250775c05">n_indices</a>; i++) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        ihash[i] = <a class="code" href="classifier-private_8h.html#a573aafe905230feab8629623f7cc77bf">minimatch_hash_range</a>(&amp;<a class="code" href="structrule.html">rule</a>-&gt;match, subtable-&gt;<a class="code" href="structcls__subtable.html#ac7872582aad761d47ed110317cecc610">index_maps</a>[i],</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                                        &amp;mask_offset, &amp;basis);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    hash = <a class="code" href="classifier-private_8h.html#a573aafe905230feab8629623f7cc77bf">minimatch_hash_range</a>(&amp;<a class="code" href="structrule.html">rule</a>-&gt;match, subtable-&gt;<a class="code" href="structcls__subtable.html#ac7872582aad761d47ed110317cecc610">index_maps</a>[i],</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                &amp;mask_offset, &amp;basis);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    head = <a class="code" href="classifier_8c.html#af206bd8ab27883f28c7fe5f281be46cc">find_equal</a>(subtable, <a class="code" href="structrule.html">rule</a>-&gt;match.flow, hash);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">if</span> (!head) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">/* Add rule to tries.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">         * Concurrent readers might miss seeing the rule until this update,</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">         * which might require being fixed up by revalidation later. */</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a>; i++) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            <span class="keywordflow">if</span> (subtable-&gt;<a class="code" href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">trie_plen</a>[i]) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <a class="code" href="classifier_8c.html#ac52b93fdf0f113b53589f1ff8ee77a6c">trie_insert</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">tries</a>[i], <a class="code" href="structrule.html">rule</a>, subtable-&gt;<a class="code" href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">trie_plen</a>[i]);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="comment">/* Add rule to ports trie. */</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> (subtable-&gt;<a class="code" href="structcls__subtable.html#ac8fb9ed6d2d0f908ec541e9d5d85f671">ports_mask_len</a>) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <span class="comment">/* We mask the value to be inserted to always have the wildcarded</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">             * bits in known (zero) state, so we can include them in comparison</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">             * and they will always match (== their original value does not</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">             * matter). */</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <a class="code" href="Types_8h.html#ae1eb23768e4dd2d6b787d319e31cda8e">ovs_be32</a> masked_ports = <a class="code" href="classifier_8c.html#a70baaa04b4cc9a3d054790c109af68a0">minimatch_get_ports</a>(&amp;<a class="code" href="structrule.html">rule</a>-&gt;match);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <a class="code" href="classifier_8c.html#a9e4f968ba30d868b813263c0f75d5f44">trie_insert_prefix</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a1dc98c8ee96d1c6d749c3107f73c0f74">ports_trie</a>, &amp;masked_ports,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                               subtable-&gt;<a class="code" href="structcls__subtable.html#ac8fb9ed6d2d0f908ec541e9d5d85f671">ports_mask_len</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="comment">/* Add new node to segment indices.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">         *</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">         * Readers may find the rule in the indices before the rule is visible</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">         * in the subtables &#39;rules&#39; map.  This may result in us losing the</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">         * opportunity to quit lookups earlier, resulting in sub-optimal</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">         * wildcarding.  This will be fixed later by revalidation (always</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">         * scheduled after flow table changes). */</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; subtable-&gt;<a class="code" href="structcls__subtable.html#a7180b6dca189cd5a7621f39250775c05">n_indices</a>; i++) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <a class="code" href="cmap_8c.html#a5860560ceb52fe8558f373326c8980fb">cmap_insert</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a6a80d73afc1b22e9b29d0c205adef357">indices</a>[i], &amp;new-&gt;index_nodes[i], ihash[i]);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        n_rules = <a class="code" href="cmap_8c.html#a5860560ceb52fe8558f373326c8980fb">cmap_insert</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a466d209ab3eef587a06e8c4a1feab8a8">rules</a>, &amp;new-&gt;cmap_node, hash);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    } <span class="keywordflow">else</span> {   <span class="comment">/* Equal rules exist in the classifier already. */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *prev, *iter;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">/* Scan the list for the insertion point that will keep the list in</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">         * order of decreasing priority.  Insert after rules marked invisible</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">         * in any version of the same priority. */</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <a class="code" href="classifier-private_8h.html#a437b89e0a88c0213ea4de69c92f75735">FOR_EACH_RULE_IN_LIST_PROTECTED</a> (iter, prev, head) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structrule.html">rule</a>-&gt;priority &gt; iter-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                || (<a class="code" href="structrule.html">rule</a>-&gt;priority == iter-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    &amp;&amp; !<a class="code" href="classifier-private_8h.html#af5705f6d98fa864d9f02231f5015934e">cls_match_is_eventually_invisible</a>(iter))) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="comment">/* Replace &#39;iter&#39; with &#39;new&#39; or insert &#39;new&#39; between &#39;prev&#39; and</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">         * &#39;iter&#39;. */</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (iter) {</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keyword">struct </span><a class="code" href="structcls__rule.html">cls_rule</a> *old;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structrule.html">rule</a>-&gt;priority == iter-&gt;<a class="code" href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">priority</a>) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                <a class="code" href="classifier-private_8h.html#adf5c038daa2175dc5e22d33942ea45c2">cls_match_replace</a>(prev, iter, <span class="keyword">new</span>);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                old = <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structcls__rule.html">cls_rule</a> *, iter-&gt;<a class="code" href="structcls__match.html#a3ebc12264a2e6b7591c7fed52c13c457">cls_rule</a>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                <a class="code" href="classifier-private_8h.html#ac7d268718a3b3c9cec9ca1f06dba0ca1">cls_match_insert</a>(prev, iter, <span class="keyword">new</span>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                old = NULL;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="comment">/* Replace the existing head in data structures, if rule is the new</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">             * head. */</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <span class="keywordflow">if</span> (iter == head) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <a class="code" href="classifier_8c.html#acdc9a220389261c66e6f1cb33b6b4d14">subtable_replace_head_rule</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, subtable, head, <span class="keyword">new</span>, hash,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                                           ihash);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">if</span> (old) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keyword">struct </span><a class="code" href="structcls__conjunction__set.html">cls_conjunction_set</a> *conj_set;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                conj_set = <a class="code" href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a>(<span class="keyword">struct</span> <a class="code" href="structcls__conjunction__set.html">cls_conjunction_set</a> *,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                                &amp;iter-&gt;conj_set);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">if</span> (conj_set) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                    <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(free, conj_set);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(<a class="code" href="classifier_8c.html#ae260cfd2b49d55cf278e70e9dc89320f">cls_match_free_cb</a>, iter);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                old-&gt;<a class="code" href="structcls__rule.html#a5ee499a1b3b22ef046edb9352e47b8e7">cls_match</a> = NULL;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                <span class="comment">/* No change in subtable&#39;s max priority or max count. */</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="comment">/* Make &#39;new&#39; visible to lookups in the appropriate version. */</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                <a class="code" href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a>(<span class="keyword">new</span>, <a class="code" href="classifier_8h.html#a2449ce834470390cd504232063a77858">CLS_NOT_REMOVED_VERSION</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                <span class="comment">/* Make rule visible to iterators (immediately). */</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                <a class="code" href="lib_2rculist_8h.html#a8f788d70d20a1f30d6caef003ba81d26">rculist_replace</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structrculist.html">rculist</a> *, &amp;<a class="code" href="structrule.html">rule</a>-&gt;node),</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                &amp;old-&gt;<a class="code" href="structcls__rule.html#a241f61bd3a21de7b39b2aaf7d32ed1e4">node</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <span class="comment">/* Return displaced rule.  Caller is responsible for keeping it</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">                 * around until all threads quiesce. */</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                <span class="keywordflow">return</span> old;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <span class="comment">/* &#39;new&#39; is new node after &#39;prev&#39; */</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <a class="code" href="classifier-private_8h.html#ac7d268718a3b3c9cec9ca1f06dba0ca1">cls_match_insert</a>(prev, iter, <span class="keyword">new</span>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">/* Make &#39;new&#39; visible to lookups in the appropriate version. */</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a>(<span class="keyword">new</span>, <a class="code" href="classifier_8h.html#a2449ce834470390cd504232063a77858">CLS_NOT_REMOVED_VERSION</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">/* Make rule visible to iterators (immediately). */</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="lib_2rculist_8h.html#a1329b8f875b5a3265e21cf6ac96b8dbc">rculist_push_back</a>(&amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a26091b59340a7c5e04963ecadbe00c12">rules_list</a>,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                      <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structrculist.html">rculist</a> *, &amp;<a class="code" href="structrule.html">rule</a>-&gt;node));</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">/* Rule was added, not replaced.  Update &#39;subtable&#39;s &#39;max_priority&#39; and</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">     * &#39;max_count&#39;, if necessary.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">     * The rule was already inserted, but concurrent readers may not see the</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">     * rule yet as the subtables vector is not updated yet.  This will have to</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">     * be fixed by revalidation later. */</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (n_rules == 1) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        subtable-&gt;<a class="code" href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">max_priority</a> = <a class="code" href="structrule.html">rule</a>-&gt;priority;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        subtable-&gt;<a class="code" href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">max_count</a> = 1;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="pvector_8c.html#a57da845a8a76e7f84d39109802ce9a87">pvector_insert</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>, subtable, <a class="code" href="structrule.html">rule</a>-&gt;priority);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structrule.html">rule</a>-&gt;priority == subtable-&gt;<a class="code" href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">max_priority</a>) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        ++subtable-&gt;<a class="code" href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">max_count</a>;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structrule.html">rule</a>-&gt;priority &gt; subtable-&gt;<a class="code" href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">max_priority</a>) {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        subtable-&gt;<a class="code" href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">max_priority</a> = <a class="code" href="structrule.html">rule</a>-&gt;priority;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        subtable-&gt;<a class="code" href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">max_count</a> = 1;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        <a class="code" href="pvector_8c.html#a71cfa353f46cbdd6bab6926e962c05c6">pvector_change_priority</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>, subtable, <a class="code" href="structrule.html">rule</a>-&gt;priority);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">/* Nothing was replaced. */</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">n_rules</a>++;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a68161e6c18a42295750fb0363674d714">publish</a>) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="pvector_8h.html#a8f45039e50184cc2b4eee4eb60cda4a0">pvector_publish</a>(&amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="ttc" id="structcls__match_html"><div class="ttname"><a href="structcls__match.html">cls_match</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:63</div></div>
<div class="ttc" id="test-classifier_8c_html_a2e08c79547ac882db37734d5b045359e"><div class="ttname"><a href="test-classifier_8c.html#a2e08c79547ac882db37734d5b045359e">n_rules</a></div><div class="ttdeci">static int n_rules</div><div class="ttdef"><b>Definition:</b> test-classifier.c:1276</div></div>
<div class="ttc" id="classifier_8c_html_a83dccc0f912058863c2c71b9bb684d23"><div class="ttname"><a href="classifier_8c.html#a83dccc0f912058863c2c71b9bb684d23">insert_subtable</a></div><div class="ttdeci">static struct cls_subtable * insert_subtable(struct classifier *cls, const struct minimask *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1462</div></div>
<div class="ttc" id="classifier_8c_html_ae260cfd2b49d55cf278e70e9dc89320f"><div class="ttname"><a href="classifier_8c.html#ae260cfd2b49d55cf278e70e9dc89320f">cls_match_free_cb</a></div><div class="ttdeci">void cls_match_free_cb(struct cls_match *rule)</div><div class="ttdef"><b>Definition:</b> classifier.c:2262</div></div>
<div class="ttc" id="structcls__rule_html_a5ee499a1b3b22ef046edb9352e47b8e7"><div class="ttname"><a href="structcls__rule.html#a5ee499a1b3b22ef046edb9352e47b8e7">cls_rule::cls_match</a></div><div class="ttdeci">struct cls_match * cls_match</div><div class="ttdef"><b>Definition:</b> classifier.h:360</div></div>
<div class="ttc" id="structcls__subtable_html_a6a80d73afc1b22e9b29d0c205adef357"><div class="ttname"><a href="structcls__subtable.html#a6a80d73afc1b22e9b29d0c205adef357">cls_subtable::indices</a></div><div class="ttdeci">struct cmap indices[CLS_MAX_INDICES]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:47</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a51d7fd9d7daaac25bac13bb577778e57"><div class="ttname"><a href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a></div><div class="ttdeci">#define ovsrcu_get_protected(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:178</div></div>
<div class="ttc" id="structclassifier_html_aa15fbbca1b252aa18a3a6d0d45f63d95"><div class="ttname"><a href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">classifier::subtables</a></div><div class="ttdeci">struct pvector subtables</div><div class="ttdef"><b>Definition:</b> classifier.h:343</div></div>
<div class="ttc" id="structcls__subtable_html_ab96f0525ba70a481c6f6eb9ab770264f"><div class="ttname"><a href="structcls__subtable.html#ab96f0525ba70a481c6f6eb9ab770264f">cls_subtable::max_priority</a></div><div class="ttdeci">int max_priority</div><div class="ttdef"><b>Definition:</b> classifier-private.h:32</div></div>
<div class="ttc" id="structcls__match_html_ae39bacac9255caf59976099036c22e9d"><div class="ttname"><a href="structcls__match.html#ae39bacac9255caf59976099036c22e9d">cls_match::priority</a></div><div class="ttdeci">const int priority</div><div class="ttdef"><b>Definition:</b> classifier-private.h:69</div></div>
<div class="ttc" id="lib_2rculist_8h_html_a8f788d70d20a1f30d6caef003ba81d26"><div class="ttname"><a href="lib_2rculist_8h.html#a8f788d70d20a1f30d6caef003ba81d26">rculist_replace</a></div><div class="ttdeci">static void rculist_replace(struct rculist *replacement, struct rculist *replaced)</div><div class="ttdef"><b>Definition:</b> rculist.h:218</div></div>
<div class="ttc" id="classifier-private_8h_html_ad9fb2b6dc385f0331bc4e12338b455eb"><div class="ttname"><a href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a></div><div class="ttdeci">static void cls_match_set_remove_version(struct cls_match *rule, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:92</div></div>
<div class="ttc" id="pvector_8c_html_a57da845a8a76e7f84d39109802ce9a87"><div class="ttname"><a href="pvector_8c.html#a57da845a8a76e7f84d39109802ce9a87">pvector_insert</a></div><div class="ttdeci">void pvector_insert(struct pvector *pvec, void *ptr, int priority)</div><div class="ttdef"><b>Definition:</b> pvector.c:116</div></div>
<div class="ttc" id="Types_8h_html_ae1eb23768e4dd2d6b787d319e31cda8e"><div class="ttname"><a href="Types_8h.html#ae1eb23768e4dd2d6b787d319e31cda8e">ovs_be32</a></div><div class="ttdeci">unsigned int ovs_be32</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="classifier-private_8h_html_a437b89e0a88c0213ea4de69c92f75735"><div class="ttname"><a href="classifier-private_8h.html#a437b89e0a88c0213ea4de69c92f75735">FOR_EACH_RULE_IN_LIST_PROTECTED</a></div><div class="ttdeci">#define FOR_EACH_RULE_IN_LIST_PROTECTED(ITER, PREV, HEAD)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:192</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="structclassifier_html_ac60d51ae6eca172fefa83d2aa5fb1eb4"><div class="ttname"><a href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">classifier::tries</a></div><div class="ttdeci">struct cls_trie tries[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier.h:345</div></div>
<div class="ttc" id="structcls__subtable_html_a1dc98c8ee96d1c6d749c3107f73c0f74"><div class="ttname"><a href="structcls__subtable.html#a1dc98c8ee96d1c6d749c3107f73c0f74">cls_subtable::ports_trie</a></div><div class="ttdeci">rcu_trie_ptr ports_trie</div><div class="ttdef"><b>Definition:</b> classifier-private.h:48</div></div>
<div class="ttc" id="classifier-private_8h_html_adf5c038daa2175dc5e22d33942ea45c2"><div class="ttname"><a href="classifier-private_8h.html#adf5c038daa2175dc5e22d33942ea45c2">cls_match_replace</a></div><div class="ttdeci">static void cls_match_replace(struct cls_match *prev, struct cls_match *old_rule, struct cls_match *new_rule)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:161</div></div>
<div class="ttc" id="classifier_8c_html_af206bd8ab27883f28c7fe5f281be46cc"><div class="ttname"><a href="classifier_8c.html#af206bd8ab27883f28c7fe5f281be46cc">find_equal</a></div><div class="ttdeci">static struct cls_match * find_equal(const struct cls_subtable *, const struct miniflow *, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> classifier.c:1802</div></div>
<div class="ttc" id="structcls__conjunction__set_html"><div class="ttname"><a href="structcls__conjunction__set.html">cls_conjunction_set</a></div><div class="ttdef"><b>Definition:</b> classifier.c:36</div></div>
<div class="ttc" id="structcls__subtable_html_a26091b59340a7c5e04963ecadbe00c12"><div class="ttname"><a href="structcls__subtable.html#a26091b59340a7c5e04963ecadbe00c12">cls_subtable::rules_list</a></div><div class="ttdeci">struct rculist rules_list</div><div class="ttdef"><b>Definition:</b> classifier-private.h:36</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="structcls__subtable_html_a7180b6dca189cd5a7621f39250775c05"><div class="ttname"><a href="structcls__subtable.html#a7180b6dca189cd5a7621f39250775c05">cls_subtable::n_indices</a></div><div class="ttdeci">const uint8_t n_indices</div><div class="ttdef"><b>Definition:</b> classifier-private.h:42</div></div>
<div class="ttc" id="structcls__subtable_html_ac7872582aad761d47ed110317cecc610"><div class="ttname"><a href="structcls__subtable.html#ac7872582aad761d47ed110317cecc610">cls_subtable::index_maps</a></div><div class="ttdeci">const struct flowmap index_maps[CLS_MAX_INDICES+1]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:43</div></div>
<div class="ttc" id="classifier-private_8h_html_a573aafe905230feab8629623f7cc77bf"><div class="ttname"><a href="classifier-private_8h.html#a573aafe905230feab8629623f7cc77bf">minimatch_hash_range</a></div><div class="ttdeci">static uint32_t minimatch_hash_range(const struct minimatch *match, const struct flowmap range, unsigned int *offset, uint32_t *basis)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:354</div></div>
<div class="ttc" id="structcls__rule_html_a241f61bd3a21de7b39b2aaf7d32ed1e4"><div class="ttname"><a href="structcls__rule.html#a241f61bd3a21de7b39b2aaf7d32ed1e4">cls_rule::node</a></div><div class="ttdeci">struct rculist node</div><div class="ttdef"><b>Definition:</b> classifier.h:358</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a1b7f87ff376b63796578cfdc6505925a"><div class="ttname"><a href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a></div><div class="ttdeci">#define ovsrcu_postpone(FUNCTION, ARG)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:209</div></div>
<div class="ttc" id="structcls__match_html_a3ebc12264a2e6b7591c7fed52c13c457"><div class="ttname"><a href="structcls__match.html#a3ebc12264a2e6b7591c7fed52c13c457">cls_match::cls_rule</a></div><div class="ttdeci">const struct cls_rule * cls_rule</div><div class="ttdef"><b>Definition:</b> classifier-private.h:83</div></div>
<div class="ttc" id="classifier_8c_html_a9e4f968ba30d868b813263c0f75d5f44"><div class="ttname"><a href="classifier_8c.html#a9e4f968ba30d868b813263c0f75d5f44">trie_insert_prefix</a></div><div class="ttdeci">static void trie_insert_prefix(rcu_trie_ptr *, const ovs_be32 *prefix, int mlen)</div><div class="ttdef"><b>Definition:</b> classifier.c:2130</div></div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a99ea361e4d57e3ffd2bc65b57a24f1e6">CLS_MAX_INDICES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:332</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
<div class="ttc" id="lib_2rculist_8h_html_a1329b8f875b5a3265e21cf6ac96b8dbc"><div class="ttname"><a href="lib_2rculist_8h.html#a1329b8f875b5a3265e21cf6ac96b8dbc">rculist_push_back</a></div><div class="ttdeci">static void rculist_push_back(struct rculist *list, struct rculist *elem)</div><div class="ttdef"><b>Definition:</b> rculist.h:205</div></div>
<div class="ttc" id="classifier_8c_html_ae7617fbae18ab46efa4d97b0aa882c1c"><div class="ttname"><a href="classifier_8c.html#ae7617fbae18ab46efa4d97b0aa882c1c">cls_match_alloc</a></div><div class="ttdeci">static struct cls_match * cls_match_alloc(const struct cls_rule *rule, cls_version_t version, const struct cls_conjunction conj[], size_t n)</div><div class="ttdef"><b>Definition:</b> classifier.c:90</div></div>
<div class="ttc" id="structcls__rule_html"><div class="ttname"><a href="structcls__rule.html">cls_rule</a></div><div class="ttdef"><b>Definition:</b> classifier.h:357</div></div>
<div class="ttc" id="Types_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="Types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> Types.h:24</div></div>
<div class="ttc" id="structcls__subtable_html_ac8fb9ed6d2d0f908ec541e9d5d85f671"><div class="ttname"><a href="structcls__subtable.html#ac8fb9ed6d2d0f908ec541e9d5d85f671">cls_subtable::ports_mask_len</a></div><div class="ttdeci">const int ports_mask_len</div><div class="ttdef"><b>Definition:</b> classifier-private.h:46</div></div>
<div class="ttc" id="structcls__subtable_html_a491e61f30f28314f5730ce89dac367fc"><div class="ttname"><a href="structcls__subtable.html#a491e61f30f28314f5730ce89dac367fc">cls_subtable::max_count</a></div><div class="ttdeci">unsigned int max_count</div><div class="ttdef"><b>Definition:</b> classifier-private.h:33</div></div>
<div class="ttc" id="classifier_8h_html_a2449ce834470390cd504232063a77858"><div class="ttname"><a href="classifier_8h.html#a2449ce834470390cd504232063a77858">CLS_NOT_REMOVED_VERSION</a></div><div class="ttdeci">#define CLS_NOT_REMOVED_VERSION</div><div class="ttdef"><b>Definition:</b> classifier.h:329</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="classifier-private_8h_html_af5705f6d98fa864d9f02231f5015934e"><div class="ttname"><a href="classifier-private_8h.html#af5705f6d98fa864d9f02231f5015934e">cls_match_is_eventually_invisible</a></div><div class="ttdeci">static bool cls_match_is_eventually_invisible(const struct cls_match *rule)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:111</div></div>
<div class="ttc" id="classifier_8c_html_a70baaa04b4cc9a3d054790c109af68a0"><div class="ttname"><a href="classifier_8c.html#a70baaa04b4cc9a3d054790c109af68a0">minimatch_get_ports</a></div><div class="ttdeci">static ovs_be32 minimatch_get_ports(const struct minimatch *match)</div><div class="ttdef"><b>Definition:</b> classifier.c:489</div></div>
<div class="ttc" id="structclassifier_html_aa4459a1c815f73f67da4805d22a4c389"><div class="ttname"><a href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">classifier::n_tries</a></div><div class="ttdeci">unsigned int n_tries</div><div class="ttdef"><b>Definition:</b> classifier.h:346</div></div>
<div class="ttc" id="structrculist_html"><div class="ttname"><a href="structrculist.html">rculist</a></div><div class="ttdef"><b>Definition:</b> rculist.h:62</div></div>
<div class="ttc" id="classifier_8c_html_acdc9a220389261c66e6f1cb33b6b4d14"><div class="ttname"><a href="classifier_8c.html#acdc9a220389261c66e6f1cb33b6b4d14">subtable_replace_head_rule</a></div><div class="ttdeci">static void subtable_replace_head_rule(struct classifier *cls OVS_UNUSED, struct cls_subtable *subtable, struct cls_match *head, struct cls_match *new, uint32_t hash, uint32_t ihash[CLS_MAX_INDICES])</div><div class="ttdef"><b>Definition:</b> classifier.c:497</div></div>
<div class="ttc" id="pvector_8c_html_a71cfa353f46cbdd6bab6926e962c05c6"><div class="ttname"><a href="pvector_8c.html#a71cfa353f46cbdd6bab6926e962c05c6">pvector_change_priority</a></div><div class="ttdeci">void pvector_change_priority(struct pvector *pvec, void *ptr, int priority)</div><div class="ttdef"><b>Definition:</b> pvector.c:169</div></div>
<div class="ttc" id="structclassifier_html_a7d0a15178eb08d4d0b24ab5c0a6d1305"><div class="ttname"><a href="structclassifier.html#a7d0a15178eb08d4d0b24ab5c0a6d1305">classifier::n_rules</a></div><div class="ttdeci">int n_rules</div><div class="ttdef"><b>Definition:</b> classifier.h:338</div></div>
<div class="ttc" id="classifier_8c_html_a597408cb4254065365d47e29f73dee46"><div class="ttname"><a href="classifier_8c.html#a597408cb4254065365d47e29f73dee46">find_subtable</a></div><div class="ttdeci">static struct cls_subtable * find_subtable(const struct classifier *cls, const struct minimask *)</div><div class="ttdef"><b>Definition:</b> classifier.c:1416</div></div>
<div class="ttc" id="structclassifier_html_a68161e6c18a42295750fb0363674d714"><div class="ttname"><a href="structclassifier.html#a68161e6c18a42295750fb0363674d714">classifier::publish</a></div><div class="ttdeci">bool publish</div><div class="ttdef"><b>Definition:</b> classifier.h:347</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
<div class="ttc" id="classifier_8c_html_ac52b93fdf0f113b53589f1ff8ee77a6c"><div class="ttname"><a href="classifier_8c.html#ac52b93fdf0f113b53589f1ff8ee77a6c">trie_insert</a></div><div class="ttdeci">static void trie_insert(struct cls_trie *, const struct cls_rule *, int mlen)</div><div class="ttdef"><b>Definition:</b> classifier.c:2123</div></div>
<div class="ttc" id="structcls__subtable_html_a466d209ab3eef587a06e8c4a1feab8a8"><div class="ttname"><a href="structcls__subtable.html#a466d209ab3eef587a06e8c4a1feab8a8">cls_subtable::rules</a></div><div class="ttdeci">struct cmap rules</div><div class="ttdef"><b>Definition:</b> classifier-private.h:51</div></div>
<div class="ttc" id="classifier-private_8h_html_ac7d268718a3b3c9cec9ca1f06dba0ca1"><div class="ttname"><a href="classifier-private_8h.html#ac7d268718a3b3c9cec9ca1f06dba0ca1">cls_match_insert</a></div><div class="ttdeci">static void cls_match_insert(struct cls_match *prev, struct cls_match *next, struct cls_match *rule)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:143</div></div>
<div class="ttc" id="structcls__subtable_html_aba7843b593af8bc8834f9f4b87e27b75"><div class="ttname"><a href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">cls_subtable::trie_plen</a></div><div class="ttdeci">unsigned int trie_plen[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:44</div></div>
<div class="ttc" id="cmap_8c_html_a5860560ceb52fe8558f373326c8980fb"><div class="ttname"><a href="cmap_8c.html#a5860560ceb52fe8558f373326c8980fb">cmap_insert</a></div><div class="ttdeci">size_t cmap_insert(struct cmap *cmap, struct cmap_node *node, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> cmap.c:775</div></div>
<div class="ttc" id="pvector_8h_html_a8f45039e50184cc2b4eee4eb60cda4a0"><div class="ttname"><a href="pvector_8h.html#a8f45039e50184cc2b4eee4eb60cda4a0">pvector_publish</a></div><div class="ttdeci">static void pvector_publish(struct pvector *)</div><div class="ttdef"><b>Definition:</b> pvector.h:234</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae42fe7b305087b3940858c98a35b831c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> classifier_rule_overlaps </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;{</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">/* Iterate subtables in the descending max priority order. */</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="pvector_8h.html#a707bbe5c5330c8c256da0a251808c616">PVECTOR_FOR_EACH_PRIORITY</a> (subtable, <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;priority - 1, 2,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                               <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structcls__subtable.html">cls_subtable</a>), &amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">subtables</a>) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <span class="keyword">struct </span><a class="code" href="structminimask.html">minimask</a> <a class="code" href="structcls__subtable.html#a2a07e3f9d9e609fa43567bafb481d146">mask</a>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> storage[<a class="code" href="lib_2flow_8h.html#a30d119d60a637562dd2fd9d4d257161b">FLOW_U64S</a>];</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        } m;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcls__rule.html">cls_rule</a> *<a class="code" href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <a class="code" href="lib_2flow_8c.html#a5166a70f02414c9d220e671d6d8de053">minimask_combine</a>(&amp;m.mask, <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;match.mask, &amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a2a07e3f9d9e609fa43567bafb481d146">mask</a>,</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                         m.storage);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <a class="code" href="lib_2rculist_8h.html#a3d020b40732360944a36642e1dc645f5">RCULIST_FOR_EACH</a> (rule, <a class="code" href="structcls__rule.html#a241f61bd3a21de7b39b2aaf7d32ed1e4">node</a>, &amp;subtable-&gt;<a class="code" href="structcls__subtable.html#a26091b59340a7c5e04963ecadbe00c12">rules_list</a>) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">if</span> (rule-&gt;<a class="code" href="structcls__rule.html#ab82445abcfff1183e41a46637fb41ee4">priority</a> == <a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;priority</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                &amp;&amp; <a class="code" href="lib_2flow_8c.html#a0463847020dd227659a32a5f4380d882">miniflow_equal_in_minimask</a>(<a class="code" href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a>-&gt;match.flow,</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                                              rule-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>.<a class="code" href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">flow</a>, &amp;m.mask)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                &amp;&amp; <a class="code" href="classifier-private_8h.html#a11fd45afe0c64b417b05d3efec0fa64b">cls_match_visible_in_version</a>(rule-&gt;<a class="code" href="structcls__rule.html#a5ee499a1b3b22ef046edb9352e47b8e7">cls_match</a>, <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>)) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            }</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        }</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;}</div>
<div class="ttc" id="structcls__rule_html_ab82445abcfff1183e41a46637fb41ee4"><div class="ttname"><a href="structcls__rule.html#ab82445abcfff1183e41a46637fb41ee4">cls_rule::priority</a></div><div class="ttdeci">const int priority</div><div class="ttdef"><b>Definition:</b> classifier.h:359</div></div>
<div class="ttc" id="structcls__rule_html_a5ee499a1b3b22ef046edb9352e47b8e7"><div class="ttname"><a href="structcls__rule.html#a5ee499a1b3b22ef046edb9352e47b8e7">cls_rule::cls_match</a></div><div class="ttdeci">struct cls_match * cls_match</div><div class="ttdef"><b>Definition:</b> classifier.h:360</div></div>
<div class="ttc" id="structclassifier_html_aa15fbbca1b252aa18a3a6d0d45f63d95"><div class="ttname"><a href="structclassifier.html#aa15fbbca1b252aa18a3a6d0d45f63d95">classifier::subtables</a></div><div class="ttdeci">struct pvector subtables</div><div class="ttdef"><b>Definition:</b> classifier.h:343</div></div>
<div class="ttc" id="lib_2flow_8c_html_a5166a70f02414c9d220e671d6d8de053"><div class="ttname"><a href="lib_2flow_8c.html#a5166a70f02414c9d220e671d6d8de053">minimask_combine</a></div><div class="ttdeci">void minimask_combine(struct minimask *dst_, const struct minimask *a_, const struct minimask *b_, uint64_t storage[FLOW_U64S])</div><div class="ttdef"><b>Definition:</b> flow.c:2408</div></div>
<div class="ttc" id="lib_2flow_8h_html_a30d119d60a637562dd2fd9d4d257161b"><div class="ttname"><a href="lib_2flow_8h.html#a30d119d60a637562dd2fd9d4d257161b">FLOW_U64S</a></div><div class="ttdeci">#define FLOW_U64S</div><div class="ttdef"><b>Definition:</b> flow.h:141</div></div>
<div class="ttc" id="lib_2flow_8c_html_a0463847020dd227659a32a5f4380d882"><div class="ttname"><a href="lib_2flow_8c.html#a0463847020dd227659a32a5f4380d882">miniflow_equal_in_minimask</a></div><div class="ttdeci">bool miniflow_equal_in_minimask(const struct miniflow *a, const struct miniflow *b, const struct minimask *mask)</div><div class="ttdef"><b>Definition:</b> flow.c:2354</div></div>
<div class="ttc" id="pvector_8h_html_a707bbe5c5330c8c256da0a251808c616"><div class="ttname"><a href="pvector_8h.html#a707bbe5c5330c8c256da0a251808c616">PVECTOR_FOR_EACH_PRIORITY</a></div><div class="ttdeci">#define PVECTOR_FOR_EACH_PRIORITY(PTR, PRIORITY, N, SZ, PVECTOR)</div><div class="ttdef"><b>Definition:</b> pvector.h:163</div></div>
<div class="ttc" id="structcls__subtable_html_a26091b59340a7c5e04963ecadbe00c12"><div class="ttname"><a href="structcls__subtable.html#a26091b59340a7c5e04963ecadbe00c12">cls_subtable::rules_list</a></div><div class="ttdeci">struct rculist rules_list</div><div class="ttdef"><b>Definition:</b> classifier-private.h:36</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a5fb304013ae6aaeaee9d7fdcfd343292"><div class="ttname"><a href="datapath_2flow_8h.html#a5fb304013ae6aaeaee9d7fdcfd343292">target</a></div><div class="ttdeci">struct in6_addr target</div><div class="ttdef"><b>Definition:</b> flow.h:153</div></div>
<div class="ttc" id="structcls__rule_html_a241f61bd3a21de7b39b2aaf7d32ed1e4"><div class="ttname"><a href="structcls__rule.html#a241f61bd3a21de7b39b2aaf7d32ed1e4">cls_rule::node</a></div><div class="ttdeci">struct rculist node</div><div class="ttdef"><b>Definition:</b> classifier.h:358</div></div>
<div class="ttc" id="classifier-private_8h_html_a11fd45afe0c64b417b05d3efec0fa64b"><div class="ttname"><a href="classifier-private_8h.html#a11fd45afe0c64b417b05d3efec0fa64b">cls_match_visible_in_version</a></div><div class="ttdeci">static bool cls_match_visible_in_version(const struct cls_match *rule, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:98</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
<div class="ttc" id="structcls__rule_html_a5588c9729840acadecd373959ae29942"><div class="ttname"><a href="structcls__rule.html#a5588c9729840acadecd373959ae29942">cls_rule::match</a></div><div class="ttdeci">const struct minimatch match</div><div class="ttdef"><b>Definition:</b> classifier.h:361</div></div>
<div class="ttc" id="structminimatch_html_a19fd18141202635bcd95a13c38b26005"><div class="ttname"><a href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">minimatch::flow</a></div><div class="ttdeci">struct miniflow * flow</div><div class="ttdef"><b>Definition:</b> match.h:178</div></div>
<div class="ttc" id="structcls__rule_html"><div class="ttname"><a href="structcls__rule.html">cls_rule</a></div><div class="ttdef"><b>Definition:</b> classifier.h:357</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="ofproto_8c_html_a74a61fd843d1c71e1998e674df07164e"><div class="ttname"><a href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a></div><div class="ttdeci">ovs_mutex_lock &amp; rule</div><div class="ttdef"><b>Definition:</b> ofproto.c:5234</div></div>
<div class="ttc" id="structminimask_html"><div class="ttname"><a href="structminimask.html">minimask</a></div><div class="ttdef"><b>Definition:</b> flow.h:828</div></div>
<div class="ttc" id="lib_2rculist_8h_html_a3d020b40732360944a36642e1dc645f5"><div class="ttname"><a href="lib_2rculist_8h.html#a3d020b40732360944a36642e1dc645f5">RCULIST_FOR_EACH</a></div><div class="ttdeci">#define RCULIST_FOR_EACH(ITER, MEMBER, RCULIST)</div><div class="ttdef"><b>Definition:</b> rculist.h:368</div></div>
<div class="ttc" id="structcls__subtable_html_a2a07e3f9d9e609fa43567bafb481d146"><div class="ttname"><a href="structcls__subtable.html#a2a07e3f9d9e609fa43567bafb481d146">cls_subtable::mask</a></div><div class="ttdeci">const struct minimask mask</div><div class="ttdef"><b>Definition:</b> classifier-private.h:52</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adea1c624cb0d14989d9e404a11402a0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> classifier_set_prefix_fields </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const enum <a class="el" href="meta-flow_8h.html#a0edbde96ea59752c694d70a0e1b19f65">mf_field_id</a> *&#160;</td>
          <td class="paramname"><em>trie_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_trie_fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structmf__field.html">mf_field</a> * new_fields[<a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a>];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keyword">struct </span><a class="code" href="structmf__bitmap.html">mf_bitmap</a> fields = <a class="code" href="meta-flow_8h.html#a13e02a18f9f0561d2a018062397725d2">MF_BITMAP_INITIALIZER</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordtype">int</span> i, n_tries = 0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; n_fields &amp;&amp; n_tries &lt; <a class="code" href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a>; i++) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structmf__field.html">mf_field</a> *field = <a class="code" href="meta-flow_8h.html#ac2787e4ce325204d2a499ad03e3d2f63">mf_from_id</a>(<a class="code" href="test-classifier_8c.html#aacda1d3733a155efb57ac6fe101fdc25">trie_fields</a>[i]);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">if</span> (field-&gt;<a class="code" href="structmf__field.html#a27b126ad1ba25e7193f138dd7c4b5a1b">flow_be32ofs</a> &lt; 0 || field-&gt;<a class="code" href="structmf__field.html#acc3a8e40179e2d8972dd5620b60d5bab">n_bits</a> % 32) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="comment">/* Incompatible field.  This is the only place where we</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">             * enforce these requirements, but the rest of the trie code</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">             * depends on the flow_be32ofs to be non-negative and the</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">             * field length to be a multiple of 32 bits. */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bitmap_8h.html#abb09983b78509467d01927823bce015d">bitmap_is_set</a>(fields.<a class="code" href="structmf__bitmap.html#a496adfaaed7ee9a41a439d51ba3c5dc2">bm</a>, <a class="code" href="test-classifier_8c.html#aacda1d3733a155efb57ac6fe101fdc25">trie_fields</a>[i])) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment">/* Duplicate field, there is no need to build more than</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">             * one index for any one field. */</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="bitmap_8h.html#a9a276edf6ab23b665d070ac1a8a6223d">bitmap_set1</a>(fields.<a class="code" href="structmf__bitmap.html#a496adfaaed7ee9a41a439d51ba3c5dc2">bm</a>, <a class="code" href="test-classifier_8c.html#aacda1d3733a155efb57ac6fe101fdc25">trie_fields</a>[i]);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        new_fields[n_tries] = NULL;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span> (n_tries &gt;= <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a> || field != <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">tries</a>[n_tries].<a class="code" href="structcls__trie.html#a0f503be6d0d183ff90753bf11cd4f78b">field</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            new_fields[n_tries] = field;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        n_tries++;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (changed || n_tries &lt; cls-&gt;n_tries) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">/* Trie configuration needs to change.  Disable trie lookups</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">         * for the tries that are changing and wait all the current readers</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">         * with the old configuration to be done. */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a> (subtable, <a class="code" href="structcmap__node.html">cmap_node</a>, &amp;<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#a224e9f78574faff7673b44ddad182624">subtables_map</a>) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a>; i++) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                <span class="keywordflow">if</span> ((i &lt; n_tries &amp;&amp; new_fields[i]) || i &gt;= n_tries) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    <span class="keywordflow">if</span> (subtable-&gt;<a class="code" href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">trie_plen</a>[i]) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        subtable-&gt;<a class="code" href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">trie_plen</a>[i] = 0;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="comment">/* Synchronize if any readers were using tries.  The readers may</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">         * temporarily function without the trie lookup based optimizations. */</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">if</span> (changed) {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            <span class="comment">/* ovsrcu_synchronize() functions as a memory barrier, so it does</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">             * not matter that subtable-&gt;trie_plen is not atomic. */</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            <a class="code" href="ovs-rcu_8c.html#a612467c9cd6ee71925a5769055dc41a9">ovsrcu_synchronize</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="comment">/* Now set up the tries. */</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; n_tries; i++) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="keywordflow">if</span> (new_fields[i]) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <a class="code" href="classifier_8c.html#a3a561fa99fd2df46ae476df5c5ee8003">trie_init</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, i, new_fields[i]);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="comment">/* Destroy the rest, if any. */</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">for</span> (; i &lt; <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a>; i++) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <a class="code" href="classifier_8c.html#a3a561fa99fd2df46ae476df5c5ee8003">trie_init</a>(<a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>, i, NULL);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>-&gt;<a class="code" href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">n_tries</a> = n_tries;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">/* No change. */</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="ttc" id="structcmap__node_html"><div class="ttname"><a href="structcmap__node.html">cmap_node</a></div><div class="ttdef"><b>Definition:</b> cmap.h:61</div></div>
<div class="ttc" id="structcls__trie_html_a0f503be6d0d183ff90753bf11cd4f78b"><div class="ttname"><a href="structcls__trie.html#a0f503be6d0d183ff90753bf11cd4f78b">cls_trie::field</a></div><div class="ttdeci">const struct mf_field * field</div><div class="ttdef"><b>Definition:</b> classifier.h:321</div></div>
<div class="ttc" id="classifier_8h_html_a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5"><div class="ttname"><a href="classifier_8h.html#a9a3be2d66956bd67c0b66c32d8b30f17a57759287e9591cdc35d8e9ce75fc31f5">CLS_MAX_TRIES</a></div><div class="ttdef"><b>Definition:</b> classifier.h:333</div></div>
<div class="ttc" id="structmf__field_html_a27b126ad1ba25e7193f138dd7c4b5a1b"><div class="ttname"><a href="structmf__field.html#a27b126ad1ba25e7193f138dd7c4b5a1b">mf_field::flow_be32ofs</a></div><div class="ttdeci">int flow_be32ofs</div><div class="ttdef"><b>Definition:</b> meta-flow.h:1736</div></div>
<div class="ttc" id="structclassifier_html_ac60d51ae6eca172fefa83d2aa5fb1eb4"><div class="ttname"><a href="structclassifier.html#ac60d51ae6eca172fefa83d2aa5fb1eb4">classifier::tries</a></div><div class="ttdeci">struct cls_trie tries[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier.h:345</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="meta-flow_8h_html_ac2787e4ce325204d2a499ad03e3d2f63"><div class="ttname"><a href="meta-flow_8h.html#ac2787e4ce325204d2a499ad03e3d2f63">mf_from_id</a></div><div class="ttdeci">static const struct mf_field * mf_from_id(enum mf_field_id id)</div><div class="ttdef"><b>Definition:</b> meta-flow.h:1814</div></div>
<div class="ttc" id="structmf__bitmap_html_a496adfaaed7ee9a41a439d51ba3c5dc2"><div class="ttname"><a href="structmf__bitmap.html#a496adfaaed7ee9a41a439d51ba3c5dc2">mf_bitmap::bm</a></div><div class="ttdeci">unsigned long bm[BITMAP_N_LONGS(MFF_N_IDS)]</div><div class="ttdef"><b>Definition:</b> meta-flow.h:1574</div></div>
<div class="ttc" id="test-classifier_8c_html_aacda1d3733a155efb57ac6fe101fdc25"><div class="ttname"><a href="test-classifier_8c.html#aacda1d3733a155efb57ac6fe101fdc25">trie_fields</a></div><div class="ttdeci">static enum mf_field_id trie_fields[2]</div><div class="ttdef"><b>Definition:</b> test-classifier.c:758</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a612467c9cd6ee71925a5769055dc41a9"><div class="ttname"><a href="ovs-rcu_8c.html#a612467c9cd6ee71925a5769055dc41a9">ovsrcu_synchronize</a></div><div class="ttdeci">void ovsrcu_synchronize(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:162</div></div>
<div class="ttc" id="meta-flow_8h_html_a13e02a18f9f0561d2a018062397725d2"><div class="ttname"><a href="meta-flow_8h.html#a13e02a18f9f0561d2a018062397725d2">MF_BITMAP_INITIALIZER</a></div><div class="ttdeci">#define MF_BITMAP_INITIALIZER</div><div class="ttdef"><b>Definition:</b> meta-flow.h:1576</div></div>
<div class="ttc" id="structclassifier_html_a224e9f78574faff7673b44ddad182624"><div class="ttname"><a href="structclassifier.html#a224e9f78574faff7673b44ddad182624">classifier::subtables_map</a></div><div class="ttdeci">struct cmap subtables_map</div><div class="ttdef"><b>Definition:</b> classifier.h:342</div></div>
<div class="ttc" id="bitmap_8h_html_abb09983b78509467d01927823bce015d"><div class="ttname"><a href="bitmap_8h.html#abb09983b78509467d01927823bce015d">bitmap_is_set</a></div><div class="ttdeci">static bool bitmap_is_set(const unsigned long *bitmap, size_t offset)</div><div class="ttdef"><b>Definition:</b> bitmap.h:93</div></div>
<div class="ttc" id="classifier_8c_html_a3a561fa99fd2df46ae476df5c5ee8003"><div class="ttname"><a href="classifier_8c.html#a3a561fa99fd2df46ae476df5c5ee8003">trie_init</a></div><div class="ttdeci">static void trie_init(struct classifier *cls, int trie_idx, const struct mf_field *)</div><div class="ttdef"><b>Definition:</b> classifier.c:441</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="structmf__bitmap_html"><div class="ttname"><a href="structmf__bitmap.html">mf_bitmap</a></div><div class="ttdef"><b>Definition:</b> meta-flow.h:1573</div></div>
<div class="ttc" id="structclassifier_html_aa4459a1c815f73f67da4805d22a4c389"><div class="ttname"><a href="structclassifier.html#aa4459a1c815f73f67da4805d22a4c389">classifier::n_tries</a></div><div class="ttdeci">unsigned int n_tries</div><div class="ttdef"><b>Definition:</b> classifier.h:346</div></div>
<div class="ttc" id="structmf__field_html_acc3a8e40179e2d8972dd5620b60d5bab"><div class="ttname"><a href="structmf__field.html#acc3a8e40179e2d8972dd5620b60d5bab">mf_field::n_bits</a></div><div class="ttdeci">unsigned int n_bits</div><div class="ttdef"><b>Definition:</b> meta-flow.h:1711</div></div>
<div class="ttc" id="bitmap_8h_html_a9a276edf6ab23b665d070ac1a8a6223d"><div class="ttname"><a href="bitmap_8h.html#a9a276edf6ab23b665d070ac1a8a6223d">bitmap_set1</a></div><div class="ttdeci">static unsigned long * bitmap_set1(unsigned long *bitmap, size_t offset)</div><div class="ttdef"><b>Definition:</b> bitmap.h:99</div></div>
<div class="ttc" id="cmap_8h_html_aa9ed969abc5b04fb7ad29f82ce4eb5b9"><div class="ttname"><a href="cmap_8h.html#aa9ed969abc5b04fb7ad29f82ce4eb5b9">CMAP_FOR_EACH</a></div><div class="ttdeci">#define CMAP_FOR_EACH(NODE, MEMBER, CMAP)</div><div class="ttdef"><b>Definition:</b> cmap.h:225</div></div>
<div class="ttc" id="structmf__field_html"><div class="ttname"><a href="structmf__field.html">mf_field</a></div><div class="ttdef"><b>Definition:</b> meta-flow.h:1692</div></div>
<div class="ttc" id="structcls__subtable_html_aba7843b593af8bc8834f9f4b87e27b75"><div class="ttname"><a href="structcls__subtable.html#aba7843b593af8bc8834f9f4b87e27b75">cls_subtable::trie_plen</a></div><div class="ttdeci">unsigned int trie_plen[CLS_MAX_TRIES]</div><div class="ttdef"><b>Definition:</b> classifier-private.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3fde4baacacc61fc56dc3761488ecefd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_cursor_advance </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__cursor.html">cls_cursor</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;{</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    cursor-&gt;rule = <a class="code" href="classifier_8c.html#a4de490618cf50c806a68bf5b9ccf5de8">cls_cursor_next</a>(cursor);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;}</div>
<div class="ttc" id="classifier_8c_html_a4de490618cf50c806a68bf5b9ccf5de8"><div class="ttname"><a href="classifier_8c.html#a4de490618cf50c806a68bf5b9ccf5de8">cls_cursor_next</a></div><div class="ttdeci">static const struct cls_rule * cls_cursor_next(struct cls_cursor *cursor)</div><div class="ttdef"><b>Definition:</b> classifier.c:1383</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a19c97769952e3fa0d6901bbe5c035b5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcls__cursor.html">cls_cursor</a> cls_cursor_start </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclassifier.html">classifier</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;{</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__cursor.html">cls_cursor</a> cursor;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__subtable.html">cls_subtable</a> *subtable;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    cursor.cls = <a class="code" href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    cursor.target = target &amp;&amp; !<a class="code" href="classifier_8c.html#a26858c2e7c7092d35de3ce3bcd6faa73">cls_rule_is_catchall</a>(target) ? target : NULL;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    cursor.version = <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    cursor.rule = NULL;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="comment">/* Find first rule. */</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="pvector_8h.html#a14d5ef3ffe885497db27524d8919ea29">PVECTOR_CURSOR_FOR_EACH</a> (subtable, &amp;cursor.subtables,</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                             &amp;cursor.cls-&gt;subtables) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcls__rule.html">cls_rule</a> *<a class="code" href="structrule.html">rule</a> = <a class="code" href="classifier_8c.html#a774598c9341f69797045ea09a4695bb0">search_subtable</a>(subtable, &amp;cursor);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <span class="keywordflow">if</span> (rule) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            cursor.subtable = subtable;</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            cursor.rule = <a class="code" href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        }</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    }</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keywordflow">return</span> cursor;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;}</div>
<div class="ttc" id="classifier_8c_html_a26858c2e7c7092d35de3ce3bcd6faa73"><div class="ttname"><a href="classifier_8c.html#a26858c2e7c7092d35de3ce3bcd6faa73">cls_rule_is_catchall</a></div><div class="ttdeci">bool cls_rule_is_catchall(const struct cls_rule *rule)</div><div class="ttdef"><b>Definition:</b> classifier.c:280</div></div>
<div class="ttc" id="pvector_8h_html_a14d5ef3ffe885497db27524d8919ea29"><div class="ttname"><a href="pvector_8h.html#a14d5ef3ffe885497db27524d8919ea29">PVECTOR_CURSOR_FOR_EACH</a></div><div class="ttdeci">#define PVECTOR_CURSOR_FOR_EACH(PTR, CURSOR, PVECTOR)</div><div class="ttdef"><b>Definition:</b> pvector.h:167</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="structcls__subtable_html"><div class="ttname"><a href="structcls__subtable.html">cls_subtable</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:28</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
<div class="ttc" id="structcls__cursor_html"><div class="ttname"><a href="structcls__cursor.html">cls_cursor</a></div><div class="ttdef"><b>Definition:</b> classifier.h:434</div></div>
<div class="ttc" id="structcls__rule_html"><div class="ttname"><a href="structcls__rule.html">cls_rule</a></div><div class="ttdef"><b>Definition:</b> classifier.h:357</div></div>
<div class="ttc" id="ovs-router_8c_html_aec6bfcd96963fc028bf94e5683ee189b"><div class="ttname"><a href="ovs-router_8c.html#aec6bfcd96963fc028bf94e5683ee189b">cls</a></div><div class="ttdeci">static struct classifier cls</div><div class="ttdef"><b>Definition:</b> ovs-router.c:44</div></div>
<div class="ttc" id="ofproto_8c_html_a74a61fd843d1c71e1998e674df07164e"><div class="ttname"><a href="ofproto_8c.html#a74a61fd843d1c71e1998e674df07164e">rule</a></div><div class="ttdeci">ovs_mutex_lock &amp; rule</div><div class="ttdef"><b>Definition:</b> ofproto.c:5234</div></div>
<div class="ttc" id="classifier_8c_html_a774598c9341f69797045ea09a4695bb0"><div class="ttname"><a href="classifier_8c.html#a774598c9341f69797045ea09a4695bb0">search_subtable</a></div><div class="ttdeci">static const struct cls_rule * search_subtable(const struct cls_subtable *subtable, struct cls_cursor *cursor)</div><div class="ttdef"><b>Definition:</b> classifier.c:1328</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac856ff5b50bdaf2cb3f6ab8f8999cdeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_clone </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a>(<a class="code" href="datapath_2flow_8h.html#a6747ad3b5d60480ea073cd12c9b78aaa">dst</a>, <a class="code" href="datapath_2flow_8h.html#a2e7e37e9dfe6465386d6c500f83ef144">src</a>-&gt;priority);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="match_8c.html#ad9a882995757647c831a75745db8a598">minimatch_clone</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structminimatch.html">minimatch</a> *, &amp;<a class="code" href="datapath_2flow_8h.html#a6747ad3b5d60480ea073cd12c9b78aaa">dst</a>-&gt;match), &amp;<a class="code" href="datapath_2flow_8h.html#a2e7e37e9dfe6465386d6c500f83ef144">src</a>-&gt;match);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;}</div>
<div class="ttc" id="match_8c_html_ad9a882995757647c831a75745db8a598"><div class="ttname"><a href="match_8c.html#ad9a882995757647c831a75745db8a598">minimatch_clone</a></div><div class="ttdeci">void minimatch_clone(struct minimatch *dst, const struct minimatch *src)</div><div class="ttdef"><b>Definition:</b> match.c:1202</div></div>
<div class="ttc" id="structminimatch_html"><div class="ttname"><a href="structminimatch.html">minimatch</a></div><div class="ttdef"><b>Definition:</b> match.h:175</div></div>
<div class="ttc" id="classifier_8c_html_aa637da78b6ffb84d606c8c9f34562110"><div class="ttname"><a href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a></div><div class="ttdeci">static void cls_rule_init__(struct cls_rule *rule, unsigned int priority)</div><div class="ttdef"><b>Definition:</b> classifier.c:171</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a2e7e37e9dfe6465386d6c500f83ef144"><div class="ttname"><a href="datapath_2flow_8h.html#a2e7e37e9dfe6465386d6c500f83ef144">src</a></div><div class="ttdeci">u8 src[ETH_ALEN]</div><div class="ttdef"><b>Definition:</b> flow.h:114</div></div>
<div class="ttc" id="datapath_2flow_8h_html_a6747ad3b5d60480ea073cd12c9b78aaa"><div class="ttname"><a href="datapath_2flow_8h.html#a6747ad3b5d60480ea073cd12c9b78aaa">dst</a></div><div class="ttdeci">u8 dst[ETH_ALEN]</div><div class="ttdef"><b>Definition:</b> flow.h:115</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a828b5ae9355eafc791a81582a5d41f7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(!<a class="code" href="structrule.html">rule</a>-&gt;cls_match);   <span class="comment">/* Must not be in a classifier. */</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">/* Check that the rule has been properly removed from the classifier. */</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(<a class="code" href="structrule.html">rule</a>-&gt;node.prev == <a class="code" href="lib_2rculist_8h.html#acb9e4ca504ae4a9db4a1cb9b908d1419">RCULIST_POISON</a></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;               || <a class="code" href="lib_2rculist_8h.html#ab1f342103cd50d260b14c978e06d520f">rculist_is_empty</a>(&amp;<a class="code" href="structrule.html">rule</a>-&gt;node));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="lib_2rculist_8h.html#a8ba21742323649569e653210977f1fd7">rculist_poison__</a>(&amp;<a class="code" href="structrule.html">rule</a>-&gt;node);   <span class="comment">/* Poisons also the next pointer. */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="match_8c.html#a52c4167c8b04595589cd4c1acef4ed61">minimatch_destroy</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structminimatch.html">minimatch</a> *, &amp;<a class="code" href="structrule.html">rule</a>-&gt;match));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="ttc" id="lib_2util_8h_html_ac236d3d8f33428ab822cc4e277a451c8"><div class="ttname"><a href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a></div><div class="ttdeci">#define ovs_assert(CONDITION)</div><div class="ttdef"><b>Definition:</b> util.h:73</div></div>
<div class="ttc" id="match_8c_html_a52c4167c8b04595589cd4c1acef4ed61"><div class="ttname"><a href="match_8c.html#a52c4167c8b04595589cd4c1acef4ed61">minimatch_destroy</a></div><div class="ttdeci">void minimatch_destroy(struct minimatch *match)</div><div class="ttdef"><b>Definition:</b> match.c:1225</div></div>
<div class="ttc" id="structminimatch_html"><div class="ttname"><a href="structminimatch.html">minimatch</a></div><div class="ttdef"><b>Definition:</b> match.h:175</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="lib_2rculist_8h_html_a8ba21742323649569e653210977f1fd7"><div class="ttname"><a href="lib_2rculist_8h.html#a8ba21742323649569e653210977f1fd7">rculist_poison__</a></div><div class="ttdeci">static void rculist_poison__(struct rculist *list) OVS_NO_THREAD_SAFETY_ANALYSIS</div><div class="ttdef"><b>Definition:</b> rculist.h:149</div></div>
<div class="ttc" id="lib_2rculist_8h_html_acb9e4ca504ae4a9db4a1cb9b908d1419"><div class="ttname"><a href="lib_2rculist_8h.html#acb9e4ca504ae4a9db4a1cb9b908d1419">RCULIST_POISON</a></div><div class="ttdeci">#define RCULIST_POISON</div><div class="ttdef"><b>Definition:</b> rculist.h:132</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
<div class="ttc" id="lib_2rculist_8h_html_ab1f342103cd50d260b14c978e06d520f"><div class="ttname"><a href="lib_2rculist_8h.html#ab1f342103cd50d260b14c978e06d520f">rculist_is_empty</a></div><div class="ttdeci">static bool rculist_is_empty(const struct rculist *)</div><div class="ttdef"><b>Definition:</b> rculist.h:345</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeebe8711b7a1d9d5f1ef7a3d36ad075c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> cls_rule_equal </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>-&gt;priority == b-&gt;priority &amp;&amp; <a class="code" href="match_8c.html#a37c29b9576053b66cb8cf7f549baaa8a">minimatch_equal</a>(&amp;<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>-&gt;match, &amp;b-&gt;match);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="match_8c_html_a37c29b9576053b66cb8cf7f549baaa8a"><div class="ttname"><a href="match_8c.html#a37c29b9576053b66cb8cf7f549baaa8a">minimatch_equal</a></div><div class="ttdeci">bool minimatch_equal(const struct minimatch *a, const struct minimatch *b)</div><div class="ttdef"><b>Definition:</b> match.c:1241</div></div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a83671231989b63705a4d35fcc740b21a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_format </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structds.html">ds</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;{</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="match_8c.html#a28c0d294cc998a3642b6e31a6f9f1ae4">minimatch_format</a>(&amp;<a class="code" href="structrule.html">rule</a>-&gt;match, s, <a class="code" href="structrule.html">rule</a>-&gt;priority);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="match_8c_html_a28c0d294cc998a3642b6e31a6f9f1ae4"><div class="ttname"><a href="match_8c.html#a28c0d294cc998a3642b6e31a6f9f1ae4">minimatch_format</a></div><div class="ttdeci">void minimatch_format(const struct minimatch *match, struct ds *s, int priority)</div><div class="ttdef"><b>Definition:</b> match.c:1273</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2bf6b4dc43166499d51a32c498c8de6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structmatch.html">match</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a>(<a class="code" href="structrule.html">rule</a>, <a class="code" href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="match_8c.html#a7228704439df90abf22bf2bbfad0057d">minimatch_init</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structminimatch.html">minimatch</a> *, &amp;<a class="code" href="structrule.html">rule</a>-&gt;match), <a class="code" href="structmatch.html">match</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="ttc" id="structmatch_html"><div class="ttname"><a href="structmatch.html">match</a></div><div class="ttdef"><b>Definition:</b> match.h:34</div></div>
<div class="ttc" id="structminimatch_html"><div class="ttname"><a href="structminimatch.html">minimatch</a></div><div class="ttdef"><b>Definition:</b> match.h:175</div></div>
<div class="ttc" id="classifier_8c_html_aa637da78b6ffb84d606c8c9f34562110"><div class="ttname"><a href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a></div><div class="ttdeci">static void cls_rule_init__(struct cls_rule *rule, unsigned int priority)</div><div class="ttdef"><b>Definition:</b> classifier.c:171</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="datapath_2flow_8h_html_afff29fa49545fb51e4ff641e79d7f2c3"><div class="ttname"><a href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a></div><div class="ttdeci">u32 priority</div><div class="ttdef"><b>Definition:</b> flow.h:107</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
<div class="ttc" id="match_8c_html_a7228704439df90abf22bf2bbfad0057d"><div class="ttname"><a href="match_8c.html#a7228704439df90abf22bf2bbfad0057d">minimatch_init</a></div><div class="ttdeci">void minimatch_init(struct minimatch *dst, const struct match *src)</div><div class="ttdef"><b>Definition:</b> match.c:1188</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8e70e9896c9e723d5051bceb5c3bd9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_init_from_minimatch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structminimatch.html">minimatch</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a>(<a class="code" href="structrule.html">rule</a>, <a class="code" href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="match_8c.html#ad9a882995757647c831a75745db8a598">minimatch_clone</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structminimatch.html">minimatch</a> *, &amp;<a class="code" href="structrule.html">rule</a>-&gt;match), <a class="code" href="structmatch.html">match</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="ttc" id="match_8c_html_ad9a882995757647c831a75745db8a598"><div class="ttname"><a href="match_8c.html#ad9a882995757647c831a75745db8a598">minimatch_clone</a></div><div class="ttdeci">void minimatch_clone(struct minimatch *dst, const struct minimatch *src)</div><div class="ttdef"><b>Definition:</b> match.c:1202</div></div>
<div class="ttc" id="structmatch_html"><div class="ttname"><a href="structmatch.html">match</a></div><div class="ttdef"><b>Definition:</b> match.h:34</div></div>
<div class="ttc" id="structminimatch_html"><div class="ttname"><a href="structminimatch.html">minimatch</a></div><div class="ttdef"><b>Definition:</b> match.h:175</div></div>
<div class="ttc" id="classifier_8c_html_aa637da78b6ffb84d606c8c9f34562110"><div class="ttname"><a href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a></div><div class="ttdeci">static void cls_rule_init__(struct cls_rule *rule, unsigned int priority)</div><div class="ttdef"><b>Definition:</b> classifier.c:171</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="datapath_2flow_8h_html_afff29fa49545fb51e4ff641e79d7f2c3"><div class="ttname"><a href="datapath_2flow_8h.html#afff29fa49545fb51e4ff641e79d7f2c3">priority</a></div><div class="ttdeci">u32 priority</div><div class="ttdef"><b>Definition:</b> flow.h:107</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abe675ac9b958530b389c70d4048df514"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> cls_rule_is_catchall </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="lib_2flow_8h.html#a3cbab6b9b0b9a06851f01918ac4200f6">minimask_is_catchall</a>(<a class="code" href="structrule.html">rule</a>-&gt;match.mask);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="lib_2flow_8h_html_a3cbab6b9b0b9a06851f01918ac4200f6"><div class="ttname"><a href="lib_2flow_8h.html#a3cbab6b9b0b9a06851f01918ac4200f6">minimask_is_catchall</a></div><div class="ttdeci">static bool minimask_is_catchall(const struct minimask *mask)</div><div class="ttdef"><b>Definition:</b> flow.h:854</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a534a88f116662b928b09b06035cf48b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> cls_rule_is_loose_match </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"><em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structminimatch.html">minimatch</a> *&#160;</td>
          <td class="paramname"><em>criteria</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;{</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">return</span> (!<a class="code" href="lib_2flow_8c.html#a4d9ce87dd29869d8cce86459379e9213">minimask_has_extra</a>(rule-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>.<a class="code" href="structminimatch.html#ab4803a5b0acb7b88c144eba10d81fe84">mask</a>, criteria-&gt;<a class="code" href="structminimatch.html#ab4803a5b0acb7b88c144eba10d81fe84">mask</a>)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            &amp;&amp; <a class="code" href="lib_2flow_8c.html#a0463847020dd227659a32a5f4380d882">miniflow_equal_in_minimask</a>(rule-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>.<a class="code" href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">flow</a>, criteria-&gt;<a class="code" href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">flow</a>,</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                                          criteria-&gt;<a class="code" href="structminimatch.html#ab4803a5b0acb7b88c144eba10d81fe84">mask</a>));</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;}</div>
<div class="ttc" id="lib_2flow_8c_html_a4d9ce87dd29869d8cce86459379e9213"><div class="ttname"><a href="lib_2flow_8c.html#a4d9ce87dd29869d8cce86459379e9213">minimask_has_extra</a></div><div class="ttdeci">bool minimask_has_extra(const struct minimask *a, const struct minimask *b)</div><div class="ttdef"><b>Definition:</b> flow.c:2451</div></div>
<div class="ttc" id="lib_2flow_8c_html_a0463847020dd227659a32a5f4380d882"><div class="ttname"><a href="lib_2flow_8c.html#a0463847020dd227659a32a5f4380d882">miniflow_equal_in_minimask</a></div><div class="ttdeci">bool miniflow_equal_in_minimask(const struct miniflow *a, const struct miniflow *b, const struct minimask *mask)</div><div class="ttdef"><b>Definition:</b> flow.c:2354</div></div>
<div class="ttc" id="structcls__rule_html_a5588c9729840acadecd373959ae29942"><div class="ttname"><a href="structcls__rule.html#a5588c9729840acadecd373959ae29942">cls_rule::match</a></div><div class="ttdeci">const struct minimatch match</div><div class="ttdef"><b>Definition:</b> classifier.h:361</div></div>
<div class="ttc" id="structminimatch_html_a19fd18141202635bcd95a13c38b26005"><div class="ttname"><a href="structminimatch.html#a19fd18141202635bcd95a13c38b26005">minimatch::flow</a></div><div class="ttdeci">struct miniflow * flow</div><div class="ttdef"><b>Definition:</b> match.h:178</div></div>
<div class="ttc" id="structminimatch_html_ab4803a5b0acb7b88c144eba10d81fe84"><div class="ttname"><a href="structminimatch.html#ab4803a5b0acb7b88c144eba10d81fe84">minimatch::mask</a></div><div class="ttdeci">struct minimask * mask</div><div class="ttdef"><b>Definition:</b> match.h:179</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3d84cea24317ad97d50f7696fa2f455"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_make_invisible_in_version </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a>(remove_version &gt;= <a class="code" href="structrule.html">rule</a>-&gt;cls_match-&gt;add_version);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a>(<a class="code" href="structrule.html">rule</a>-&gt;cls_match, remove_version);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="ttc" id="lib_2util_8h_html_ac236d3d8f33428ab822cc4e277a451c8"><div class="ttname"><a href="lib_2util_8h.html#ac236d3d8f33428ab822cc4e277a451c8">ovs_assert</a></div><div class="ttdeci">#define ovs_assert(CONDITION)</div><div class="ttdef"><b>Definition:</b> util.h:73</div></div>
<div class="ttc" id="classifier-private_8h_html_ad9fb2b6dc385f0331bc4e12338b455eb"><div class="ttname"><a href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a></div><div class="ttdeci">static void cls_match_set_remove_version(struct cls_match *rule, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:92</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a353ceabe5d51172d6d8e5c0f251e0cb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_move </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a>(dst, src-&gt;<a class="code" href="structcls__rule.html#ab82445abcfff1183e41a46637fb41ee4">priority</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="match_8c.html#a5b988d6c81b8016bfa3de8d7546c25fb">minimatch_move</a>(<a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structminimatch.html">minimatch</a> *, &amp;dst-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>),</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                   <a class="code" href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a>(<span class="keyword">struct</span> <a class="code" href="structminimatch.html">minimatch</a> *, &amp;src-&gt;<a class="code" href="structcls__rule.html#a5588c9729840acadecd373959ae29942">match</a>));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="ttc" id="structcls__rule_html_ab82445abcfff1183e41a46637fb41ee4"><div class="ttname"><a href="structcls__rule.html#ab82445abcfff1183e41a46637fb41ee4">cls_rule::priority</a></div><div class="ttdeci">const int priority</div><div class="ttdef"><b>Definition:</b> classifier.h:359</div></div>
<div class="ttc" id="structminimatch_html"><div class="ttname"><a href="structminimatch.html">minimatch</a></div><div class="ttdef"><b>Definition:</b> match.h:175</div></div>
<div class="ttc" id="classifier_8c_html_aa637da78b6ffb84d606c8c9f34562110"><div class="ttname"><a href="classifier_8c.html#aa637da78b6ffb84d606c8c9f34562110">cls_rule_init__</a></div><div class="ttdeci">static void cls_rule_init__(struct cls_rule *rule, unsigned int priority)</div><div class="ttdef"><b>Definition:</b> classifier.c:171</div></div>
<div class="ttc" id="match_8c_html_a5b988d6c81b8016bfa3de8d7546c25fb"><div class="ttname"><a href="match_8c.html#a5b988d6c81b8016bfa3de8d7546c25fb">minimatch_move</a></div><div class="ttdeci">void minimatch_move(struct minimatch *dst, struct minimatch *src)</div><div class="ttdef"><b>Definition:</b> match.c:1216</div></div>
<div class="ttc" id="structcls__rule_html_a5588c9729840acadecd373959ae29942"><div class="ttname"><a href="structcls__rule.html#a5588c9729840acadecd373959ae29942">cls_rule::match</a></div><div class="ttdeci">const struct minimatch match</div><div class="ttdef"><b>Definition:</b> classifier.h:361</div></div>
<div class="ttc" id="lib_2util_8h_html_a4dcccb1a09e1d9f2734ab374cdad7f87"><div class="ttname"><a href="lib_2util_8h.html#a4dcccb1a09e1d9f2734ab374cdad7f87">CONST_CAST</a></div><div class="ttdeci">#define CONST_CAST(TYPE, POINTER)</div><div class="ttdef"><b>Definition:</b> util.h:88</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a85ad49c86ae3a67a40b24adca557d38f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_restore_visibility </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <a class="code" href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a>(<a class="code" href="structrule.html">rule</a>-&gt;cls_match, <a class="code" href="classifier_8h.html#a2449ce834470390cd504232063a77858">CLS_NOT_REMOVED_VERSION</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="ttc" id="classifier-private_8h_html_ad9fb2b6dc385f0331bc4e12338b455eb"><div class="ttname"><a href="classifier-private_8h.html#ad9fb2b6dc385f0331bc4e12338b455eb">cls_match_set_remove_version</a></div><div class="ttdeci">static void cls_match_set_remove_version(struct cls_match *rule, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:92</div></div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="classifier_8h_html_a2449ce834470390cd504232063a77858"><div class="ttname"><a href="classifier_8h.html#a2449ce834470390cd504232063a77858">CLS_NOT_REMOVED_VERSION</a></div><div class="ttdeci">#define CLS_NOT_REMOVED_VERSION</div><div class="ttdef"><b>Definition:</b> classifier.h:329</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f4131c9dbde263f72d579fff8a26ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cls_rule_set_conjunctions </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcls__conjunction.html">cls_conjunction</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__match.html">cls_match</a> *<a class="code" href="structmatch.html">match</a> = cr-&gt;cls_match;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__conjunction__set.html">cls_conjunction_set</a> *old</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        = <a class="code" href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a>(<span class="keyword">struct</span> <a class="code" href="structcls__conjunction__set.html">cls_conjunction_set</a> *, &amp;match-&gt;conj_set);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcls__conjunction.html">cls_conjunction</a> *old_conj = old ? old-&gt;<a class="code" href="structcls__conjunction__set.html#a66cbc50f963cf18c58555a1582e9afb7">conj</a> : NULL;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> old_n = old ? old-&gt;<a class="code" href="structcls__conjunction__set.html#a9ad477f11c3be51bf71cbe5782d9c85d">n</a> : 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (old_n != n || (n &amp;&amp; memcmp(old_conj, conj, n * <span class="keyword">sizeof</span> *conj))) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">if</span> (old) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a>(free, old);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="ovs-rcu_8h.html#ac66d454933b79d211d13eaedba461fe9">ovsrcu_set</a>(&amp;match-&gt;conj_set,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                   <a class="code" href="classifier_8c.html#ad5bd104ff1996371b05b648305b4dff6">cls_conjunction_set_alloc</a>(match, conj, n));</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="ttc" id="structcls__match_html"><div class="ttname"><a href="structcls__match.html">cls_match</a></div><div class="ttdef"><b>Definition:</b> classifier-private.h:63</div></div>
<div class="ttc" id="structmatch_html"><div class="ttname"><a href="structmatch.html">match</a></div><div class="ttdef"><b>Definition:</b> match.h:34</div></div>
<div class="ttc" id="ovs-rcu_8h_html_ac66d454933b79d211d13eaedba461fe9"><div class="ttname"><a href="ovs-rcu_8h.html#ac66d454933b79d211d13eaedba461fe9">ovsrcu_set</a></div><div class="ttdeci">#define ovsrcu_set(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:193</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a51d7fd9d7daaac25bac13bb577778e57"><div class="ttname"><a href="ovs-rcu_8h.html#a51d7fd9d7daaac25bac13bb577778e57">ovsrcu_get_protected</a></div><div class="ttdeci">#define ovsrcu_get_protected(TYPE, VAR)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:178</div></div>
<div class="ttc" id="structcls__conjunction__set_html_a9ad477f11c3be51bf71cbe5782d9c85d"><div class="ttname"><a href="structcls__conjunction__set.html#a9ad477f11c3be51bf71cbe5782d9c85d">cls_conjunction_set::n</a></div><div class="ttdeci">unsigned int n</div><div class="ttdef"><b>Definition:</b> classifier.c:49</div></div>
<div class="ttc" id="structcls__conjunction__set_html_a66cbc50f963cf18c58555a1582e9afb7"><div class="ttname"><a href="structcls__conjunction__set.html#a66cbc50f963cf18c58555a1582e9afb7">cls_conjunction_set::conj</a></div><div class="ttdeci">struct cls_conjunction conj[]</div><div class="ttdef"><b>Definition:</b> classifier.c:51</div></div>
<div class="ttc" id="structcls__conjunction__set_html"><div class="ttname"><a href="structcls__conjunction__set.html">cls_conjunction_set</a></div><div class="ttdef"><b>Definition:</b> classifier.c:36</div></div>
<div class="ttc" id="ovs-rcu_8h_html_a1b7f87ff376b63796578cfdc6505925a"><div class="ttname"><a href="ovs-rcu_8h.html#a1b7f87ff376b63796578cfdc6505925a">ovsrcu_postpone</a></div><div class="ttdeci">#define ovsrcu_postpone(FUNCTION, ARG)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.h:209</div></div>
<div class="ttc" id="structcls__conjunction_html"><div class="ttname"><a href="structcls__conjunction.html">cls_conjunction</a></div><div class="ttdef"><b>Definition:</b> classifier.h:350</div></div>
<div class="ttc" id="classifier_8c_html_ad5bd104ff1996371b05b648305b4dff6"><div class="ttname"><a href="classifier_8c.html#ad5bd104ff1996371b05b648305b4dff6">cls_conjunction_set_alloc</a></div><div class="ttdeci">static struct cls_conjunction_set * cls_conjunction_set_alloc(struct cls_match *match, const struct cls_conjunction conj[], size_t n)</div><div class="ttdef"><b>Definition:</b> classifier.c:68</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9622c189d91becff24aaf9ce923ca908"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> cls_rule_visible_in_version </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcls__rule.html">cls_rule</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classifier_8h.html#a15b69fcc6ad4d2d040c00ec025940eac">cls_version_t</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classifier-private_8h.html#a11fd45afe0c64b417b05d3efec0fa64b">cls_match_visible_in_version</a>(<a class="code" href="structrule.html">rule</a>-&gt;cls_match, <a class="code" href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">version</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="ttc" id="structrule_html"><div class="ttname"><a href="structrule.html">rule</a></div><div class="ttdef"><b>Definition:</b> ofproto-provider.h:329</div></div>
<div class="ttc" id="classifier-private_8h_html_a11fd45afe0c64b417b05d3efec0fa64b"><div class="ttname"><a href="classifier-private_8h.html#a11fd45afe0c64b417b05d3efec0fa64b">cls_match_visible_in_version</a></div><div class="ttdeci">static bool cls_match_visible_in_version(const struct cls_match *rule, cls_version_t version)</div><div class="ttdef"><b>Definition:</b> classifier-private.h:98</div></div>
<div class="ttc" id="namespacesetup_html_a2aa722b36a933088812b50ea79b97a5c"><div class="ttname"><a href="namespacesetup.html#a2aa722b36a933088812b50ea79b97a5c">setup.version</a></div><div class="ttdeci">version</div><div class="ttdef"><b>Definition:</b> setup.py:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae52f0b408a50cf63836a57d8babf4310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef OVSRCU_TYPE </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtrie__node.html">trie_node</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_915fb0c656ffb8a17b4ec5b2ac3f6404.html">lib</a></li><li class="navelem"><a class="el" href="classifier_8h.html">classifier.h</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:07:27 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
