<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ovs all: /home/vladn/git/ovs/lib/timeval.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ovs all
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('timeval_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">timeval.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="config_8h_source.html">config.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="timeval_8h_source.html">timeval.h</a>&quot;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;<a class="el" href="poll_8h_source.html">poll.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="pthread_8h_source.html">pthread.h</a>&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="time_8h_source.html">sys/time.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2windows_2sys_2resource_8h_source.html">sys/resource.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="unistd_8h_source.html">unistd.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="coverage_8h_source.html">coverage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dummy_8h_source.html">dummy.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dynamic-string_8h_source.html">dynamic-string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fatal-signal_8h_source.html">fatal-signal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hash_8h_source.html">hash.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hmap_8h_source.html">hmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ovs-rcu_8h_source.html">ovs-rcu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ovs-thread_8h_source.html">ovs-thread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="signals_8h_source.html">signals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="seq_8h_source.html">seq.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="unixctl_8h_source.html">unixctl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lib_2util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vlog_8h_source.html">openvswitch/vlog.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for timeval.c:</div>
<div class="dyncontent">
<div class="center"><img src="timeval_8c__incl.png" border="0" usemap="#_2home_2vladn_2git_2ovs_2lib_2timeval_8c" alt=""/></div>
<map name="_2home_2vladn_2git_2ovs_2lib_2timeval_8c" id="_2home_2vladn_2git_2ovs_2lib_2timeval_8c">
<area shape="rect" id="node2" href="config_8h.html" title="config.h" alt="" coords="5,95,73,121"/><area shape="rect" id="node3" href="timeval_8h.html" title="timeval.h" alt="" coords="1505,244,1579,271"/><area shape="rect" id="node4" href="time_8h.html" title="time.h" alt="" coords="273,393,331,420"/><area shape="rect" id="node7" href="lib_2util_8h.html" title="util.h" alt="" coords="1983,319,2034,345"/><area shape="rect" id="node16" href="string_8h.html" title="string.h" alt="" coords="2467,393,2532,420"/><area shape="rect" id="node24" href="poll_8h.html" title="poll.h" alt="" coords="2845,95,2898,121"/><area shape="rect" id="node25" href="pthread_8h.html" title="pthread.h" alt="" coords="1012,393,1088,420"/><area shape="rect" id="node27" href="include_2windows_2sys_2resource_8h.html" title="sys/resource.h" alt="" coords="2923,95,3031,121"/><area shape="rect" id="node28" href="unistd_8h.html" title="unistd.h" alt="" coords="3055,95,3123,121"/><area shape="rect" id="node30" href="coverage_8h.html" title="coverage.h" alt="" coords="893,95,980,121"/><area shape="rect" id="node31" href="ovs-thread_8h.html" title="ovs&#45;thread.h" alt="" coords="936,169,1031,196"/><area shape="rect" id="node36" href="dummy_8h.html" title="dummy.h" alt="" coords="2220,169,2296,196"/><area shape="rect" id="node37" href="dynamic-string_8h.html" title="dynamic&#45;string.h" alt="" coords="555,319,673,345"/><area shape="rect" id="node38" href="fatal-signal_8h.html" title="fatal&#45;signal.h" alt="" coords="2499,244,2595,271"/><area shape="rect" id="node39" href="hash_8h.html" title="hash.h" alt="" coords="2175,244,2237,271"/><area shape="rect" id="node40" href="hmap_8h.html" title="hmap.h" alt="" coords="2085,244,2151,271"/><area shape="rect" id="node41" href="ovs-rcu_8h.html" title="ovs&#45;rcu.h" alt="" coords="817,169,893,196"/><area shape="rect" id="node42" href="signals_8h.html" title="signals.h" alt="" coords="1806,244,1881,271"/><area shape="rect" id="node43" href="seq_8h.html" title="seq.h" alt="" coords="2007,244,2061,271"/><area shape="rect" id="node44" href="unixctl_8h.html" title="unixctl.h" alt="" coords="3147,95,3217,121"/><area shape="rect" id="node45" href="vlog_8h.html" title="openvswitch/vlog.h" alt="" coords="703,244,837,271"/><area shape="rect" id="node5" href="type-props_8h.html" title="type&#45;props.h" alt="" coords="1661,319,1756,345"/><area shape="rect" id="node12" href="stddef_8h.html" title="stddef.h" alt="" coords="1607,393,1677,420"/><area shape="rect" id="node14" href="stdio_8h.html" title="stdio.h" alt="" coords="723,393,785,420"/><area shape="rect" id="node17" href="lib_2compiler_8h.html" title="compiler.h" alt="" coords="395,393,478,420"/><area shape="rect" id="node19" href="include_2openvswitch_2types_8h.html" title="openvswitch/types.h" alt="" coords="1799,393,1941,420"/><area shape="rect" id="node21" href="include_2openvswitch_2util_8h.html" title="openvswitch/util.h" alt="" coords="809,393,936,420"/><area shape="rect" id="node18" href="include_2openvswitch_2compiler_8h.html" title="openvswitch/compiler.h" alt="" coords="169,468,328,495"/><area shape="rect" id="node22" href="version_8h.html" title="openvswitch/version.h" alt="" coords="774,468,926,495"/><area shape="rect" id="node32" href="ovs-atomic_8h.html" title="ovs&#45;atomic.h" alt="" coords="1604,244,1701,271"/><area shape="rect" id="node35" href="thread_8h.html" title="openvswitch/thread.h" alt="" coords="799,319,946,345"/><area shape="rect" id="node33" href="ovs-atomic-pthreads_8h.html" title="ovs&#45;atomic&#45;pthreads.h" alt="" coords="1123,319,1273,345"/><area shape="rect" id="node34" href="ovs-atomic-locked_8h.html" title="ovs&#45;atomic&#45;locked.h" alt="" coords="1129,393,1267,420"/><area shape="rect" id="node46" href="include_2openvswitch_2list_8h.html" title="openvswitch/list.h" alt="" coords="301,319,428,345"/><area shape="rect" id="node47" href="token-bucket_8h.html" title="openvswitch/token&#45;bucket.h" alt="" coords="1349,319,1535,345"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlarge__warp.html">large_warp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclock.html">clock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcpu__usage.html">cpu_usage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcpu__tracker.html">cpu_tracker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad82fda43249e796f257f7d927b7cbe3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ad82fda43249e796f257f7d927b7cbe3a">VLOG_DEFINE_THIS_MODULE</a> (timeval)</td></tr>
<tr class="separator:ad82fda43249e796f257f7d927b7cbe3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3540ccb13b8bdd3265196a7919bc7c4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a3540ccb13b8bdd3265196a7919bc7c4c">DEFINE_STATIC_PER_THREAD_DATA</a> (<a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>, last_seq, 0)</td></tr>
<tr class="separator:a3540ccb13b8bdd3265196a7919bc7c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c75406ba89026510bcccfd790b8ec1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ab2c75406ba89026510bcccfd790b8ec1">DEFINE_STATIC_PER_THREAD_DATA</a> (long long int, last_wakeup, 0)</td></tr>
<tr class="separator:ab2c75406ba89026510bcccfd790b8ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32964dab47345d7668a88dab9e7c749"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ac32964dab47345d7668a88dab9e7c749">log_poll_interval</a> (long long int last_wakeup)</td></tr>
<tr class="separator:ac32964dab47345d7668a88dab9e7c749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3761322455f4c1ea9cb7678d7238a13d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structrusage.html">rusage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a3761322455f4c1ea9cb7678d7238a13d">get_recent_rusage</a> (void)</td></tr>
<tr class="separator:a3761322455f4c1ea9cb7678d7238a13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72914ef2603bf22085a7b2f43bcdd7e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ae72914ef2603bf22085a7b2f43bcdd7e">getrusage_thread</a> (struct <a class="el" href="structrusage.html">rusage</a> *)</td></tr>
<tr class="separator:ae72914ef2603bf22085a7b2f43bcdd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edcd4d8770850ec1eae5e258f053429"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a2edcd4d8770850ec1eae5e258f053429">refresh_rusage</a> (void)</td></tr>
<tr class="separator:a2edcd4d8770850ec1eae5e258f053429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad329d5d80aefb0fc78de96dd20e800af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a> (struct timespec *sum, const struct timespec *<a class="el" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>, const struct timespec *b)</td></tr>
<tr class="separator:ad329d5d80aefb0fc78de96dd20e800af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63854b507d42d1e136b9fbb2063b979c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a63854b507d42d1e136b9fbb2063b979c">init_clock</a> (struct <a class="el" href="structclock.html">clock</a> *c, clockid_t id)</td></tr>
<tr class="separator:a63854b507d42d1e136b9fbb2063b979c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac718e44e08f010436499f9ecc6ca8662"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ac718e44e08f010436499f9ecc6ca8662">do_init_time</a> (void)</td></tr>
<tr class="separator:ac718e44e08f010436499f9ecc6ca8662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4ec5d6222d78bc2312b0a9ae7ee153"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a> (void)</td></tr>
<tr class="separator:a5e4ec5d6222d78bc2312b0a9ae7ee153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738f8b1e48e099f62510d6c0289f202b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a> (struct <a class="el" href="structclock.html">clock</a> *c, struct timespec *ts)</td></tr>
<tr class="separator:a738f8b1e48e099f62510d6c0289f202b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be630b59eddc746146c27d499df9b8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a4be630b59eddc746146c27d499df9b8d">time_timespec</a> (struct timespec *ts)</td></tr>
<tr class="separator:a4be630b59eddc746146c27d499df9b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff894c8c5b2306b031e590ce5b4ad0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a8ff894c8c5b2306b031e590ce5b4ad0c">time_wall_timespec</a> (struct timespec *ts)</td></tr>
<tr class="separator:a8ff894c8c5b2306b031e590ce5b4ad0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a676b8e5717a3334c301fe11d9861cb"><td class="memItemLeft" align="right" valign="top">static time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a6a676b8e5717a3334c301fe11d9861cb">time_sec__</a> (struct <a class="el" href="structclock.html">clock</a> *c)</td></tr>
<tr class="separator:a6a676b8e5717a3334c301fe11d9861cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b06f8363a4deed456d4ddb429fd4a6"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a39b06f8363a4deed456d4ddb429fd4a6">time_now</a> (void)</td></tr>
<tr class="separator:a39b06f8363a4deed456d4ddb429fd4a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e5da92cea7f2b7015d0639d3f4cbdff"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a6e5da92cea7f2b7015d0639d3f4cbdff">time_wall</a> (void)</td></tr>
<tr class="separator:a6e5da92cea7f2b7015d0639d3f4cbdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b149e606b3a0ca2ad2d380d72726a0"><td class="memItemLeft" align="right" valign="top">static long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ad0b149e606b3a0ca2ad2d380d72726a0">time_msec__</a> (struct <a class="el" href="structclock.html">clock</a> *c)</td></tr>
<tr class="separator:ad0b149e606b3a0ca2ad2d380d72726a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3aab6d723083c856a0a3384490b1d1f"><td class="memItemLeft" align="right" valign="top">long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a> (void)</td></tr>
<tr class="separator:ab3aab6d723083c856a0a3384490b1d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a42eb304645765af661daf0bbed0ba"><td class="memItemLeft" align="right" valign="top">long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a69a42eb304645765af661daf0bbed0ba">time_wall_msec</a> (void)</td></tr>
<tr class="separator:a69a42eb304645765af661daf0bbed0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea355781c327b2b5dc94cffef9adc2f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#aea355781c327b2b5dc94cffef9adc2f2">time_alarm</a> (unsigned int secs)</td></tr>
<tr class="separator:aea355781c327b2b5dc94cffef9adc2f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedff28d003951ac34166fba170d8f164"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#aedff28d003951ac34166fba170d8f164">time_poll</a> (struct pollfd *pollfds, int n_pollfds, <a class="el" href="lib_2util_8h.html#a347a96271d32e87bca48fd2cb716c101">HANDLE</a> *handles <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, long long int timeout_when, int *<a class="el" href="test-cmap_8c.html#a4ea1a3fe80c16f774d21249c952c3891">elapsed</a>)</td></tr>
<tr class="separator:aedff28d003951ac34166fba170d8f164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682a10bcbabb04d8a3794d1eefb0d347"><td class="memItemLeft" align="right" valign="top">long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a682a10bcbabb04d8a3794d1eefb0d347">timespec_to_msec</a> (const struct timespec *ts)</td></tr>
<tr class="separator:a682a10bcbabb04d8a3794d1eefb0d347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57fbc1f15c141304a7f7ca14591a5d3"><td class="memItemLeft" align="right" valign="top">long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a> (const struct timeval *tv)</td></tr>
<tr class="separator:ae57fbc1f15c141304a7f7ca14591a5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4856a607c5c6fa81a2602a847a93d8"><td class="memItemLeft" align="right" valign="top">long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a9a4856a607c5c6fa81a2602a847a93d8">time_boot_msec</a> (void)</td></tr>
<tr class="separator:a9a4856a607c5c6fa81a2602a847a93d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf444b0a6813b2404de4ee66dad83b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#aacf444b0a6813b2404de4ee66dad83b1">xgettimeofday</a> (struct timeval *tv)</td></tr>
<tr class="separator:aacf444b0a6813b2404de4ee66dad83b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a41252e997548e108e2b260e5fd620"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a> (clock_t id, struct timespec *ts)</td></tr>
<tr class="separator:a38a41252e997548e108e2b260e5fd620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42231d31daaa887f5baaddc1bdb5c84a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a42231d31daaa887f5baaddc1bdb5c84a">msec_to_timespec</a> (long long int ms, struct timespec *ts)</td></tr>
<tr class="separator:a42231d31daaa887f5baaddc1bdb5c84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc04d4a27e93ece8cbae8a0c8b9ef86"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a1cc04d4a27e93ece8cbae8a0c8b9ef86">timewarp_work</a> (void)</td></tr>
<tr class="separator:a1cc04d4a27e93ece8cbae8a0c8b9ef86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee0e6276abcbb9a427b7e7c7b304598"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a5ee0e6276abcbb9a427b7e7c7b304598">timewarp_run</a> (void)</td></tr>
<tr class="separator:a5ee0e6276abcbb9a427b7e7c7b304598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec7d5bea7dee25e6386673c4d6cf1f5"><td class="memItemLeft" align="right" valign="top">static long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#adec7d5bea7dee25e6386673c4d6cf1f5">timeval_diff_msec</a> (const struct timeval *<a class="el" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>, const struct timeval *b)</td></tr>
<tr class="separator:adec7d5bea7dee25e6386673c4d6cf1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536482278ad06f7c23c5c1f8476e08f6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a536482278ad06f7c23c5c1f8476e08f6">is_warped</a> (const struct <a class="el" href="structclock.html">clock</a> *c)</td></tr>
<tr class="separator:a536482278ad06f7c23c5c1f8476e08f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a8667942773283f2e0c7cbc6640c50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a79a8667942773283f2e0c7cbc6640c50">DEFINE_PER_THREAD_MALLOCED_DATA</a> (struct <a class="el" href="structcpu__tracker.html">cpu_tracker</a> *, cpu_tracker_var)</td></tr>
<tr class="separator:a79a8667942773283f2e0c7cbc6640c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fee271594e47bd480466078d578d36"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structcpu__tracker.html">cpu_tracker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a> (void)</td></tr>
<tr class="separator:a29fee271594e47bd480466078d578d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ec4724503a9f65bc221fdc19667a47"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a73ec4724503a9f65bc221fdc19667a47">getrusage_thread</a> (struct <a class="el" href="structrusage.html">rusage</a> *<a class="el" href="structrusage.html">rusage</a> <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:a73ec4724503a9f65bc221fdc19667a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a727b61e154493e1e53ea7587de5ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a71a727b61e154493e1e53ea7587de5ff">get_cpu_usage</a> (void)</td></tr>
<tr class="separator:a71a727b61e154493e1e53ea7587de5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae6d7428be7312405ffb3572f76de28b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#aae6d7428be7312405ffb3572f76de28b">timeval_stop_cb</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[] <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:aae6d7428be7312405ffb3572f76de28b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00263f6bfe0f429cd5607e25b3e5688"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ac00263f6bfe0f429cd5607e25b3e5688">timeval_warp_cb</a> (struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *conn, int argc <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>, const char *argv[], void *aux <a class="el" href="packets_8h.html#a2c497b144355a46113dfdc5276a2ef51">OVS_UNUSED</a>)</td></tr>
<tr class="separator:ac00263f6bfe0f429cd5607e25b3e5688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad389a7b2655b771a1fe8a1766941c3ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ad389a7b2655b771a1fe8a1766941c3ae">timeval_dummy_register</a> (void)</td></tr>
<tr class="separator:ad389a7b2655b771a1fe8a1766941c3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f80eee4cd87e8c12785936b18bc9ab3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a4f80eee4cd87e8c12785936b18bc9ab3">strftime_msec</a> (char *s, size_t max, const char *format, const struct <a class="el" href="structtm__msec.html">tm_msec</a> *tm)</td></tr>
<tr class="separator:a4f80eee4cd87e8c12785936b18bc9ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948284863dd1587c271dab43c4ce2865"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtm__msec.html">tm_msec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a948284863dd1587c271dab43c4ce2865">localtime_msec</a> (long long int <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, struct <a class="el" href="structtm__msec.html">tm_msec</a> *result)</td></tr>
<tr class="separator:a948284863dd1587c271dab43c4ce2865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502e9eeba2b4d6cbcf84c351eadb2c42"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtm__msec.html">tm_msec</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a502e9eeba2b4d6cbcf84c351eadb2c42">gmtime_msec</a> (long long int <a class="el" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>, struct <a class="el" href="structtm__msec.html">tm_msec</a> *result)</td></tr>
<tr class="separator:a502e9eeba2b4d6cbcf84c351eadb2c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa9b99aab5c9eb6c654e46653667f2043"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structclock.html">clock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></td></tr>
<tr class="separator:aa9b99aab5c9eb6c654e46653667f2043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90a3634fee45e6fff15714f8f118b88"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structclock.html">clock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a></td></tr>
<tr class="separator:ab90a3634fee45e6fff15714f8f118b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636c8b2f876d914ab9bc2b8beb74dbd3"><td class="memItemLeft" align="right" valign="top">static long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a636c8b2f876d914ab9bc2b8beb74dbd3">boot_time</a></td></tr>
<tr class="separator:a636c8b2f876d914ab9bc2b8beb74dbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56fb0942bad160348771058309e133b3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a56fb0942bad160348771058309e133b3">timewarp_enabled</a></td></tr>
<tr class="separator:a56fb0942bad160348771058309e133b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f46af08e7ccab9eeb2f810ffdc30932"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structseq.html">seq</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a></td></tr>
<tr class="separator:a8f46af08e7ccab9eeb2f810ffdc30932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108d87e3c341741112bf7010f50657da"><td class="memItemLeft" align="right" valign="top">static long long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timeval_8c.html#a108d87e3c341741112bf7010f50657da">deadline</a> = LLONG_MAX</td></tr>
<tr class="separator:a108d87e3c341741112bf7010f50657da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a79a8667942773283f2e0c7cbc6640c50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_PER_THREAD_MALLOCED_DATA </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcpu__tracker.html">cpu_tracker</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cpu_tracker_var&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3540ccb13b8bdd3265196a7919bc7c4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_STATIC_PER_THREAD_DATA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">last_seq&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2c75406ba89026510bcccfd790b8ec1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE_STATIC_PER_THREAD_DATA </td>
          <td>(</td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">last_wakeup&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac718e44e08f010436499f9ecc6ca8662"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_init_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">struct </span>timespec ts;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="coverage_8c.html#a427d76fbbce16e8536726da5fa34e485">coverage_init</a>();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a> = <a class="code" href="seq_8h.html#ac5c222ed0a1154ae1d757a23c4c8d092">seq_create</a>();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="timeval_8c.html#a63854b507d42d1e136b9fbb2063b979c">init_clock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>, (!<a class="code" href="namespaceovs_1_1timeval.html#a4cd29ef12ee3ff5dc2ed0fa5d441f88c">clock_gettime</a>(<a class="code" href="namespaceovs_1_1timeval.html#a1c3a2f59d940d0f0d7345a6508b32c8a">CLOCK_MONOTONIC</a>, &amp;ts)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                  ? <a class="code" href="namespaceovs_1_1timeval.html#a1c3a2f59d940d0f0d7345a6508b32c8a">CLOCK_MONOTONIC</a></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                                  : CLOCK_REALTIME));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="timeval_8c.html#a63854b507d42d1e136b9fbb2063b979c">init_clock</a>(&amp;<a class="code" href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a>, CLOCK_REALTIME);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="timeval_8c.html#a636c8b2f876d914ab9bc2b8beb74dbd3">boot_time</a> = <a class="code" href="timeval_8c.html#a682a10bcbabb04d8a3794d1eefb0d347">timespec_to_msec</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.cache);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ab90a3634fee45e6fff15714f8f118b88"><div class="ttname"><a href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a></div><div class="ttdeci">static struct clock wall_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:82</div></div>
<div class="ttc" id="seq_8h_html_ac5c222ed0a1154ae1d757a23c4c8d092"><div class="ttname"><a href="seq_8h.html#ac5c222ed0a1154ae1d757a23c4c8d092">seq_create</a></div><div class="ttdeci">struct seq * seq_create(void)</div></div>
<div class="ttc" id="namespaceovs_1_1timeval_html_a1c3a2f59d940d0f0d7345a6508b32c8a"><div class="ttname"><a href="namespaceovs_1_1timeval.html#a1c3a2f59d940d0f0d7345a6508b32c8a">ovs.timeval.CLOCK_MONOTONIC</a></div><div class="ttdeci">int CLOCK_MONOTONIC</div><div class="ttdef"><b>Definition:</b> timeval.py:25</div></div>
<div class="ttc" id="timeval_8c_html_a63854b507d42d1e136b9fbb2063b979c"><div class="ttname"><a href="timeval_8c.html#a63854b507d42d1e136b9fbb2063b979c">init_clock</a></div><div class="ttdeci">static void init_clock(struct clock *c, clockid_t id)</div><div class="ttdef"><b>Definition:</b> timeval.c:111</div></div>
<div class="ttc" id="timeval_8c_html_a682a10bcbabb04d8a3794d1eefb0d347"><div class="ttname"><a href="timeval_8c.html#a682a10bcbabb04d8a3794d1eefb0d347">timespec_to_msec</a></div><div class="ttdeci">long long int timespec_to_msec(const struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:349</div></div>
<div class="ttc" id="timeval_8c_html_a8f46af08e7ccab9eeb2f810ffdc30932"><div class="ttname"><a href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a></div><div class="ttdeci">static struct seq * timewarp_seq</div><div class="ttdef"><b>Definition:</b> timeval.c:91</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="coverage_8c_html_a427d76fbbce16e8536726da5fa34e485"><div class="ttname"><a href="coverage_8c.html#a427d76fbbce16e8536726da5fa34e485">coverage_init</a></div><div class="ttdeci">void coverage_init(void)</div><div class="ttdef"><b>Definition:</b> coverage.c:76</div></div>
<div class="ttc" id="namespaceovs_1_1timeval_html_a4cd29ef12ee3ff5dc2ed0fa5d441f88c"><div class="ttname"><a href="namespaceovs_1_1timeval.html#a4cd29ef12ee3ff5dc2ed0fa5d441f88c">ovs.timeval.clock_gettime</a></div><div class="ttdeci">tuple clock_gettime</div><div class="ttdef"><b>Definition:</b> timeval.py:49</div></div>
<div class="ttc" id="timeval_8c_html_a636c8b2f876d914ab9bc2b8beb74dbd3"><div class="ttname"><a href="timeval_8c.html#a636c8b2f876d914ab9bc2b8beb74dbd3">boot_time</a></div><div class="ttdeci">static long long int boot_time</div><div class="ttdef"><b>Definition:</b> timeval.c:85</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29fee271594e47bd480466078d578d36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structcpu__tracker.html">cpu_tracker</a>* get_cpu_tracker </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;{</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcpu__tracker.html">cpu_tracker</a> *t = cpu_tracker_var_get();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <span class="keywordflow">if</span> (!t) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        t = <a class="code" href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a>(<span class="keyword">sizeof</span> *t);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        t-&gt;<a class="code" href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">older</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a> = LLONG_MIN;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a> = LLONG_MIN;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        cpu_tracker_var_set_unsafe(t);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="ttc" id="structcpu__tracker_html_a4779eee4d5161851d866164097378b35"><div class="ttname"><a href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">cpu_tracker::older</a></div><div class="ttdeci">struct cpu_usage older</div><div class="ttdef"><b>Definition:</b> timeval.c:606</div></div>
<div class="ttc" id="structcpu__tracker_html"><div class="ttname"><a href="structcpu__tracker.html">cpu_tracker</a></div><div class="ttdef"><b>Definition:</b> timeval.c:605</div></div>
<div class="ttc" id="util_8c_html_ad7ead2fc5daad78a7f124e173863b16e"><div class="ttname"><a href="util_8c.html#ad7ead2fc5daad78a7f124e173863b16e">xzalloc</a></div><div class="ttdeci">void * xzalloc(size_t size)</div><div class="ttdef"><b>Definition:</b> util.c:104</div></div>
<div class="ttc" id="structcpu__usage_html_acebca0e0f7ea288c805d859c10b6f276"><div class="ttname"><a href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">cpu_usage::when</a></div><div class="ttdeci">long long int when</div><div class="ttdef"><b>Definition:</b> timeval.c:601</div></div>
<div class="ttc" id="structcpu__tracker_html_ac9d0fa8bd20c6a89c2063a21bf50f173"><div class="ttname"><a href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">cpu_tracker::newer</a></div><div class="ttdeci">struct cpu_usage newer</div><div class="ttdef"><b>Definition:</b> timeval.c:607</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71a727b61e154493e1e53ea7587de5ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_cpu_usage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;{</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a>()-&gt;<a class="code" href="structcpu__tracker.html#a0cbc2c04e0b1cc66e4f6664faca38813">cpu_usage</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a29fee271594e47bd480466078d578d36"><div class="ttname"><a href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a></div><div class="ttdeci">static struct cpu_tracker * get_cpu_tracker(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:615</div></div>
<div class="ttc" id="structcpu__tracker_html_a0cbc2c04e0b1cc66e4f6664faca38813"><div class="ttname"><a href="structcpu__tracker.html#a0cbc2c04e0b1cc66e4f6664faca38813">cpu_tracker::cpu_usage</a></div><div class="ttdeci">int cpu_usage</div><div class="ttdef"><b>Definition:</b> timeval.c:608</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3761322455f4c1ea9cb7678d7238a13d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structrusage.html">rusage</a> * get_recent_rusage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a>()-&gt;<a class="code" href="structcpu__tracker.html#a477b80e93d4dd2b8ba345ead42b91cd3">recent_rusage</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a29fee271594e47bd480466078d578d36"><div class="ttname"><a href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a></div><div class="ttdeci">static struct cpu_tracker * get_cpu_tracker(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:615</div></div>
<div class="ttc" id="structcpu__tracker_html_a477b80e93d4dd2b8ba345ead42b91cd3"><div class="ttname"><a href="structcpu__tracker.html#a477b80e93d4dd2b8ba345ead42b91cd3">cpu_tracker::recent_rusage</a></div><div class="ttdeci">struct rusage recent_rusage</div><div class="ttdef"><b>Definition:</b> timeval.c:610</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae72914ef2603bf22085a7b2f43bcdd7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getrusage_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrusage.html">rusage</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a73ec4724503a9f65bc221fdc19667a47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int getrusage_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrusage.html">rusage</a> *<a class="el" href="structrusage.html">rusage</a>&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;{</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="preprocessor">#ifdef RUSAGE_THREAD</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="getrusage-windows_8c.html#ad6bbdf27bfe56f9ba1653a187be4c518">getrusage</a>(<a class="code" href="include_2windows_2sys_2resource_8h.html#ab1a3e21b0e3b681f4693bc10d4c9d1ea">RUSAGE_THREAD</a>, <a class="code" href="structrusage.html">rusage</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    errno = EINVAL;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="ttc" id="include_2windows_2sys_2resource_8h_html_ab1a3e21b0e3b681f4693bc10d4c9d1ea"><div class="ttname"><a href="include_2windows_2sys_2resource_8h.html#ab1a3e21b0e3b681f4693bc10d4c9d1ea">RUSAGE_THREAD</a></div><div class="ttdeci">#define RUSAGE_THREAD</div><div class="ttdef"><b>Definition:</b> resource.h:48</div></div>
<div class="ttc" id="structrusage_html"><div class="ttname"><a href="structrusage.html">rusage</a></div><div class="ttdef"><b>Definition:</b> resource.h:20</div></div>
<div class="ttc" id="getrusage-windows_8c_html_ad6bbdf27bfe56f9ba1653a187be4c518"><div class="ttname"><a href="getrusage-windows_8c.html#ad6bbdf27bfe56f9ba1653a187be4c518">getrusage</a></div><div class="ttdeci">int getrusage(int who, struct rusage *usage)</div><div class="ttdef"><b>Definition:</b> getrusage-windows.c:39</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a502e9eeba2b4d6cbcf84c351eadb2c42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtm__msec.html">tm_msec</a>* gmtime_msec </td>
          <td>(</td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtm__msec.html">tm_msec</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="namespaceovs_1_1timeval.html#ab1c76a407e9041bb7f1b20037f5028ca">time_t</a> now_sec = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a> / 1000;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  gmtime_r(&amp;now_sec, &amp;result-&gt;<a class="code" href="structtm__msec.html#a9f56b2204b124ea2f2fe688581c076cf">tm</a>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  result-&gt;<a class="code" href="structtm__msec.html#a2cced7219667065c5bab5392fb2be818">msec</a> = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a> % 1000;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;}</div>
<div class="ttc" id="namespaceovs_1_1timeval_html_ab1c76a407e9041bb7f1b20037f5028ca"><div class="ttname"><a href="namespaceovs_1_1timeval.html#ab1c76a407e9041bb7f1b20037f5028ca">ovs.timeval.time_t</a></div><div class="ttdeci">time_t</div><div class="ttdef"><b>Definition:</b> timeval.py:26</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="structtm__msec_html_a2cced7219667065c5bab5392fb2be818"><div class="ttname"><a href="structtm__msec.html#a2cced7219667065c5bab5392fb2be818">tm_msec::msec</a></div><div class="ttdeci">int msec</div><div class="ttdef"><b>Definition:</b> timeval.h:50</div></div>
<div class="ttc" id="structtm__msec_html_a9f56b2204b124ea2f2fe688581c076cf"><div class="ttname"><a href="structtm__msec.html#a9f56b2204b124ea2f2fe688581c076cf">tm_msec::tm</a></div><div class="ttdeci">struct tm tm</div><div class="ttdef"><b>Definition:</b> timeval.h:49</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63854b507d42d1e136b9fbb2063b979c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_clock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclock.html">clock</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">clockid_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    memset(c, 0, <span class="keyword">sizeof</span> *c);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    c-&gt;<a class="code" href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">id</a> = id;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a>(&amp;c-&gt;<a class="code" href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">slow_path</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a>(c-&gt;<a class="code" href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">id</a>, &amp;c-&gt;cache);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="ovs-atomic-clang_8h_html_a5df32309cb870138152b9cc430cf8571"><div class="ttname"><a href="ovs-atomic-clang_8h.html#a5df32309cb870138152b9cc430cf8571">atomic_init</a></div><div class="ttdeci">#define atomic_init(OBJECT, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic-clang.h:28</div></div>
<div class="ttc" id="thread_8h_html_aba7f4ad0b5b050ee701ff3b8ceb5ccb5"><div class="ttname"><a href="thread_8h.html#aba7f4ad0b5b050ee701ff3b8ceb5ccb5">ovs_mutex_init</a></div><div class="ttdeci">void ovs_mutex_init(const struct ovs_mutex *)</div><div class="ttdef"><b>Definition:</b> ovs-thread.c:206</div></div>
<div class="ttc" id="structclock_html_aa3b3d22746089fa1ae490f5d60f235ed"><div class="ttname"><a href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">clock::id</a></div><div class="ttdeci">clockid_t id</div><div class="ttdef"><b>Definition:</b> timeval.c:68</div></div>
<div class="ttc" id="timeval_8c_html_a38a41252e997548e108e2b260e5fd620"><div class="ttname"><a href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a></div><div class="ttdeci">void xclock_gettime(clock_t id, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:437</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
<div class="ttc" id="structclock_html_a7c6edd9b5e15a87a698627ea8fdbe7cc"><div class="ttname"><a href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">clock::slow_path</a></div><div class="ttdeci">atomic_bool slow_path</div><div class="ttdef"><b>Definition:</b> timeval.c:72</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a536482278ad06f7c23c5c1f8476e08f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> is_warped </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structclock.html">clock</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordtype">bool</span> warped;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    warped = <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.warp.tv_sec || <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.warp.tv_nsec;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> warped;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;}</div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a948284863dd1587c271dab43c4ce2865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtm__msec.html">tm_msec</a>* localtime_msec </td>
          <td>(</td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtm__msec.html">tm_msec</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;{</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <a class="code" href="namespaceovs_1_1timeval.html#ab1c76a407e9041bb7f1b20037f5028ca">time_t</a> now_sec = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a> / 1000;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  localtime_r(&amp;now_sec, &amp;result-&gt;<a class="code" href="structtm__msec.html#a9f56b2204b124ea2f2fe688581c076cf">tm</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  result-&gt;<a class="code" href="structtm__msec.html#a2cced7219667065c5bab5392fb2be818">msec</a> = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a> % 1000;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;}</div>
<div class="ttc" id="namespaceovs_1_1timeval_html_ab1c76a407e9041bb7f1b20037f5028ca"><div class="ttname"><a href="namespaceovs_1_1timeval.html#ab1c76a407e9041bb7f1b20037f5028ca">ovs.timeval.time_t</a></div><div class="ttdeci">time_t</div><div class="ttdef"><b>Definition:</b> timeval.py:26</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="structtm__msec_html_a2cced7219667065c5bab5392fb2be818"><div class="ttname"><a href="structtm__msec.html#a2cced7219667065c5bab5392fb2be818">tm_msec::msec</a></div><div class="ttdeci">int msec</div><div class="ttdef"><b>Definition:</b> timeval.h:50</div></div>
<div class="ttc" id="structtm__msec_html_a9f56b2204b124ea2f2fe688581c076cf"><div class="ttname"><a href="structtm__msec.html#a9f56b2204b124ea2f2fe688581c076cf">tm_msec::tm</a></div><div class="ttdeci">struct tm tm</div><div class="ttdef"><b>Definition:</b> timeval.h:49</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac32964dab47345d7668a88dab9e7c749"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_poll_interval </td>
          <td>(</td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>last_wakeup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;{</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> interval = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>() - last_wakeup;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">if</span> (interval &gt;= 1000 &amp;&amp; !<a class="code" href="timeval_8c.html#a536482278ad06f7c23c5c1f8476e08f6">is_warped</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>)) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structrusage.html">rusage</a> *last_rusage = <a class="code" href="timeval_8c.html#a3761322455f4c1ea9cb7678d7238a13d">get_recent_rusage</a>();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keyword">struct </span><a class="code" href="structrusage.html">rusage</a> <a class="code" href="structrusage.html">rusage</a>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="timeval_8c.html#ae72914ef2603bf22085a7b2f43bcdd7e">getrusage_thread</a>(&amp;<a class="code" href="structrusage.html">rusage</a>)) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <a class="code" href="vlog_8h.html#acb01a4212c4839a364d54adfe8f4bf10">VLOG_WARN</a>(<span class="stringliteral">&quot;Unreasonably long %lldms poll interval&quot;</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                      <span class="stringliteral">&quot; (%lldms user, %lldms system)&quot;</span>,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                      interval,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                      <a class="code" href="timeval_8c.html#adec7d5bea7dee25e6386673c4d6cf1f5">timeval_diff_msec</a>(&amp;<a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a42c294483743ea16b9a77f22a2e7660a">ru_utime</a>,</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                        &amp;last_rusage-&gt;<a class="code" href="structrusage.html#a42c294483743ea16b9a77f22a2e7660a">ru_utime</a>),</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                      <a class="code" href="timeval_8c.html#adec7d5bea7dee25e6386673c4d6cf1f5">timeval_diff_msec</a>(&amp;<a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a7776ee7a6ec11f32ad4c8d1b0862ceb8">ru_stime</a>,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                        &amp;last_rusage-&gt;<a class="code" href="structrusage.html#a7776ee7a6ec11f32ad4c8d1b0862ceb8">ru_stime</a>));</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a4643b00037b8e80bae9fcd26522a428b">ru_minflt</a> &gt; last_rusage-&gt;<a class="code" href="structrusage.html#a4643b00037b8e80bae9fcd26522a428b">ru_minflt</a></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                || <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#aa864ea2c906ab13a9a537a99522ae1f2">ru_majflt</a> &gt; last_rusage-&gt;<a class="code" href="structrusage.html#aa864ea2c906ab13a9a537a99522ae1f2">ru_majflt</a>) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <a class="code" href="vlog_8h.html#acb01a4212c4839a364d54adfe8f4bf10">VLOG_WARN</a>(<span class="stringliteral">&quot;faults: %ld minor, %ld major&quot;</span>,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                          <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a4643b00037b8e80bae9fcd26522a428b">ru_minflt</a> - last_rusage-&gt;<a class="code" href="structrusage.html#a4643b00037b8e80bae9fcd26522a428b">ru_minflt</a>,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                          <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#aa864ea2c906ab13a9a537a99522ae1f2">ru_majflt</a> - last_rusage-&gt;<a class="code" href="structrusage.html#aa864ea2c906ab13a9a537a99522ae1f2">ru_majflt</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#ae0054babff647c0b7d15056d2a065078">ru_inblock</a> &gt; last_rusage-&gt;<a class="code" href="structrusage.html#ae0054babff647c0b7d15056d2a065078">ru_inblock</a></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                || <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#af90459468f1d307bef8651ca7f859216">ru_oublock</a> &gt; last_rusage-&gt;<a class="code" href="structrusage.html#af90459468f1d307bef8651ca7f859216">ru_oublock</a>) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <a class="code" href="vlog_8h.html#acb01a4212c4839a364d54adfe8f4bf10">VLOG_WARN</a>(<span class="stringliteral">&quot;disk: %ld reads, %ld writes&quot;</span>,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                          <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#ae0054babff647c0b7d15056d2a065078">ru_inblock</a> - last_rusage-&gt;<a class="code" href="structrusage.html#ae0054babff647c0b7d15056d2a065078">ru_inblock</a>,</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                          <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#af90459468f1d307bef8651ca7f859216">ru_oublock</a> - last_rusage-&gt;<a class="code" href="structrusage.html#af90459468f1d307bef8651ca7f859216">ru_oublock</a>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a1ff82b153eb3945d4aa62bfc428d9b28">ru_nvcsw</a> &gt; last_rusage-&gt;<a class="code" href="structrusage.html#a1ff82b153eb3945d4aa62bfc428d9b28">ru_nvcsw</a></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                || <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a4ce68fcaf7242cc09be270c56cc2f55e">ru_nivcsw</a> &gt; last_rusage-&gt;<a class="code" href="structrusage.html#a4ce68fcaf7242cc09be270c56cc2f55e">ru_nivcsw</a>) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <a class="code" href="vlog_8h.html#acb01a4212c4839a364d54adfe8f4bf10">VLOG_WARN</a>(<span class="stringliteral">&quot;context switches: %ld voluntary, %ld involuntary&quot;</span>,</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                          <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a1ff82b153eb3945d4aa62bfc428d9b28">ru_nvcsw</a> - last_rusage-&gt;<a class="code" href="structrusage.html#a1ff82b153eb3945d4aa62bfc428d9b28">ru_nvcsw</a>,</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                          <a class="code" href="structrusage.html">rusage</a>.<a class="code" href="structrusage.html#a4ce68fcaf7242cc09be270c56cc2f55e">ru_nivcsw</a> - last_rusage-&gt;<a class="code" href="structrusage.html#a4ce68fcaf7242cc09be270c56cc2f55e">ru_nivcsw</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="vlog_8h.html#acb01a4212c4839a364d54adfe8f4bf10">VLOG_WARN</a>(<span class="stringliteral">&quot;Unreasonably long %lldms poll interval&quot;</span>, interval);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <a class="code" href="coverage_8c.html#a319386c3518226fceeaaa10c19edcc24">coverage_log</a>();</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_adec7d5bea7dee25e6386673c4d6cf1f5"><div class="ttname"><a href="timeval_8c.html#adec7d5bea7dee25e6386673c4d6cf1f5">timeval_diff_msec</a></div><div class="ttdeci">static long long int timeval_diff_msec(const struct timeval *a, const struct timeval *b)</div><div class="ttdef"><b>Definition:</b> timeval.c:521</div></div>
<div class="ttc" id="structrusage_html_a4ce68fcaf7242cc09be270c56cc2f55e"><div class="ttname"><a href="structrusage.html#a4ce68fcaf7242cc09be270c56cc2f55e">rusage::ru_nivcsw</a></div><div class="ttdeci">long ru_nivcsw</div><div class="ttdef"><b>Definition:</b> resource.h:36</div></div>
<div class="ttc" id="structrusage_html"><div class="ttname"><a href="structrusage.html">rusage</a></div><div class="ttdef"><b>Definition:</b> resource.h:20</div></div>
<div class="ttc" id="structrusage_html_a7776ee7a6ec11f32ad4c8d1b0862ceb8"><div class="ttname"><a href="structrusage.html#a7776ee7a6ec11f32ad4c8d1b0862ceb8">rusage::ru_stime</a></div><div class="ttdeci">struct timeval ru_stime</div><div class="ttdef"><b>Definition:</b> resource.h:22</div></div>
<div class="ttc" id="coverage_8c_html_a319386c3518226fceeaaa10c19edcc24"><div class="ttname"><a href="coverage_8c.html#a319386c3518226fceeaaa10c19edcc24">coverage_log</a></div><div class="ttdeci">void coverage_log(void)</div><div class="ttdef"><b>Definition:</b> coverage.c:173</div></div>
<div class="ttc" id="structrusage_html_aa864ea2c906ab13a9a537a99522ae1f2"><div class="ttname"><a href="structrusage.html#aa864ea2c906ab13a9a537a99522ae1f2">rusage::ru_majflt</a></div><div class="ttdeci">long ru_majflt</div><div class="ttdef"><b>Definition:</b> resource.h:28</div></div>
<div class="ttc" id="structrusage_html_a4643b00037b8e80bae9fcd26522a428b"><div class="ttname"><a href="structrusage.html#a4643b00037b8e80bae9fcd26522a428b">rusage::ru_minflt</a></div><div class="ttdeci">long ru_minflt</div><div class="ttdef"><b>Definition:</b> resource.h:27</div></div>
<div class="ttc" id="timeval_8c_html_a536482278ad06f7c23c5c1f8476e08f6"><div class="ttname"><a href="timeval_8c.html#a536482278ad06f7c23c5c1f8476e08f6">is_warped</a></div><div class="ttdeci">static bool is_warped(const struct clock *c)</div><div class="ttdef"><b>Definition:</b> timeval.c:544</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="timeval_8c_html_ae72914ef2603bf22085a7b2f43bcdd7e"><div class="ttname"><a href="timeval_8c.html#ae72914ef2603bf22085a7b2f43bcdd7e">getrusage_thread</a></div><div class="ttdeci">static int getrusage_thread(struct rusage *)</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="vlog_8h_html_acb01a4212c4839a364d54adfe8f4bf10"><div class="ttname"><a href="vlog_8h.html#acb01a4212c4839a364d54adfe8f4bf10">VLOG_WARN</a></div><div class="ttdeci">#define VLOG_WARN(...)</div><div class="ttdef"><b>Definition:</b> vlog.h:197</div></div>
<div class="ttc" id="structrusage_html_a42c294483743ea16b9a77f22a2e7660a"><div class="ttname"><a href="structrusage.html#a42c294483743ea16b9a77f22a2e7660a">rusage::ru_utime</a></div><div class="ttdeci">struct timeval ru_utime</div><div class="ttdef"><b>Definition:</b> resource.h:21</div></div>
<div class="ttc" id="structrusage_html_a1ff82b153eb3945d4aa62bfc428d9b28"><div class="ttname"><a href="structrusage.html#a1ff82b153eb3945d4aa62bfc428d9b28">rusage::ru_nvcsw</a></div><div class="ttdeci">long ru_nvcsw</div><div class="ttdef"><b>Definition:</b> resource.h:35</div></div>
<div class="ttc" id="timeval_8c_html_a3761322455f4c1ea9cb7678d7238a13d"><div class="ttname"><a href="timeval_8c.html#a3761322455f4c1ea9cb7678d7238a13d">get_recent_rusage</a></div><div class="ttdeci">static struct rusage * get_recent_rusage(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:628</div></div>
<div class="ttc" id="structrusage_html_af90459468f1d307bef8651ca7f859216"><div class="ttname"><a href="structrusage.html#af90459468f1d307bef8651ca7f859216">rusage::ru_oublock</a></div><div class="ttdeci">long ru_oublock</div><div class="ttdef"><b>Definition:</b> resource.h:31</div></div>
<div class="ttc" id="structrusage_html_ae0054babff647c0b7d15056d2a065078"><div class="ttname"><a href="structrusage.html#ae0054babff647c0b7d15056d2a065078">rusage::ru_inblock</a></div><div class="ttdeci">long ru_inblock</div><div class="ttdef"><b>Definition:</b> resource.h:30</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42231d31daaa887f5baaddc1bdb5c84a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void msec_to_timespec </td>
          <td>(</td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;{</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    ts-&gt;tv_sec = ms / 1000;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    ts-&gt;tv_nsec = (ms % 1000) * 1000 * 1000;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2edcd4d8770850ec1eae5e258f053429"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void refresh_rusage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keyword">struct </span><a class="code" href="structcpu__tracker.html">cpu_tracker</a> *t = <a class="code" href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a>();</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrusage.html">rusage</a> *recent_rusage = &amp;t-&gt;<a class="code" href="structcpu__tracker.html#a477b80e93d4dd2b8ba345ead42b91cd3">recent_rusage</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="timeval_8c.html#ae72914ef2603bf22085a7b2f43bcdd7e">getrusage_thread</a>(recent_rusage)) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a> = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">if</span> (now &gt;= t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a> + 3 * 1000) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            t-&gt;<a class="code" href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">older</a> = t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a> = <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#afa4c291059816bbcaa2cae4e39f41d2a">cpu</a> = (<a class="code" href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a>(&amp;recent_rusage-&gt;<a class="code" href="structrusage.html#a42c294483743ea16b9a77f22a2e7660a">ru_utime</a>) +</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                            <a class="code" href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a>(&amp;recent_rusage-&gt;<a class="code" href="structrusage.html#a7776ee7a6ec11f32ad4c8d1b0862ceb8">ru_stime</a>));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordflow">if</span> (t-&gt;<a class="code" href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">older</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a> != LLONG_MIN &amp;&amp; t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#afa4c291059816bbcaa2cae4e39f41d2a">cpu</a> &gt; t-&gt;<a class="code" href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">older</a>.<a class="code" href="structcpu__usage.html#afa4c291059816bbcaa2cae4e39f41d2a">cpu</a>) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dividend = t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#afa4c291059816bbcaa2cae4e39f41d2a">cpu</a> - t-&gt;<a class="code" href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">older</a>.<a class="code" href="structcpu__usage.html#afa4c291059816bbcaa2cae4e39f41d2a">cpu</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> divisor = (t-&gt;<a class="code" href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">newer</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a> - t-&gt;<a class="code" href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">older</a>.<a class="code" href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">when</a>) / 100;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                t-&gt;<a class="code" href="structcpu__tracker.html#a0cbc2c04e0b1cc66e4f6664faca38813">cpu_usage</a> = divisor &gt; 0 ? dividend / divisor : -1;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                t-&gt;<a class="code" href="structcpu__tracker.html#a0cbc2c04e0b1cc66e4f6664faca38813">cpu_usage</a> = -1;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="ttc" id="structcpu__usage_html_afa4c291059816bbcaa2cae4e39f41d2a"><div class="ttname"><a href="structcpu__usage.html#afa4c291059816bbcaa2cae4e39f41d2a">cpu_usage::cpu</a></div><div class="ttdeci">unsigned long long int cpu</div><div class="ttdef"><b>Definition:</b> timeval.c:602</div></div>
<div class="ttc" id="timeval_8c_html_a29fee271594e47bd480466078d578d36"><div class="ttname"><a href="timeval_8c.html#a29fee271594e47bd480466078d578d36">get_cpu_tracker</a></div><div class="ttdeci">static struct cpu_tracker * get_cpu_tracker(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:615</div></div>
<div class="ttc" id="structrusage_html"><div class="ttname"><a href="structrusage.html">rusage</a></div><div class="ttdef"><b>Definition:</b> resource.h:20</div></div>
<div class="ttc" id="structrusage_html_a7776ee7a6ec11f32ad4c8d1b0862ceb8"><div class="ttname"><a href="structrusage.html#a7776ee7a6ec11f32ad4c8d1b0862ceb8">rusage::ru_stime</a></div><div class="ttdeci">struct timeval ru_stime</div><div class="ttdef"><b>Definition:</b> resource.h:22</div></div>
<div class="ttc" id="structcpu__tracker_html_a4779eee4d5161851d866164097378b35"><div class="ttname"><a href="structcpu__tracker.html#a4779eee4d5161851d866164097378b35">cpu_tracker::older</a></div><div class="ttdeci">struct cpu_usage older</div><div class="ttdef"><b>Definition:</b> timeval.c:606</div></div>
<div class="ttc" id="timeval_8c_html_ae57fbc1f15c141304a7f7ca14591a5d3"><div class="ttname"><a href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a></div><div class="ttdeci">long long int timeval_to_msec(const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> timeval.c:355</div></div>
<div class="ttc" id="structcpu__tracker_html_a477b80e93d4dd2b8ba345ead42b91cd3"><div class="ttname"><a href="structcpu__tracker.html#a477b80e93d4dd2b8ba345ead42b91cd3">cpu_tracker::recent_rusage</a></div><div class="ttdeci">struct rusage recent_rusage</div><div class="ttdef"><b>Definition:</b> timeval.c:610</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="structcpu__tracker_html_a0cbc2c04e0b1cc66e4f6664faca38813"><div class="ttname"><a href="structcpu__tracker.html#a0cbc2c04e0b1cc66e4f6664faca38813">cpu_tracker::cpu_usage</a></div><div class="ttdeci">int cpu_usage</div><div class="ttdef"><b>Definition:</b> timeval.c:608</div></div>
<div class="ttc" id="timeval_8c_html_ae72914ef2603bf22085a7b2f43bcdd7e"><div class="ttname"><a href="timeval_8c.html#ae72914ef2603bf22085a7b2f43bcdd7e">getrusage_thread</a></div><div class="ttdeci">static int getrusage_thread(struct rusage *)</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="structcpu__tracker_html"><div class="ttname"><a href="structcpu__tracker.html">cpu_tracker</a></div><div class="ttdef"><b>Definition:</b> timeval.c:605</div></div>
<div class="ttc" id="structrusage_html_a42c294483743ea16b9a77f22a2e7660a"><div class="ttname"><a href="structrusage.html#a42c294483743ea16b9a77f22a2e7660a">rusage::ru_utime</a></div><div class="ttdeci">struct timeval ru_utime</div><div class="ttdef"><b>Definition:</b> resource.h:21</div></div>
<div class="ttc" id="structcpu__usage_html_acebca0e0f7ea288c805d859c10b6f276"><div class="ttname"><a href="structcpu__usage.html#acebca0e0f7ea288c805d859c10b6f276">cpu_usage::when</a></div><div class="ttdeci">long long int when</div><div class="ttdef"><b>Definition:</b> timeval.c:601</div></div>
<div class="ttc" id="structcpu__tracker_html_ac9d0fa8bd20c6a89c2063a21bf50f173"><div class="ttname"><a href="structcpu__tracker.html#ac9d0fa8bd20c6a89c2063a21bf50f173">cpu_tracker::newer</a></div><div class="ttdeci">struct cpu_usage newer</div><div class="ttdef"><b>Definition:</b> timeval.c:607</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f80eee4cd87e8c12785936b18bc9ab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t strftime_msec </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structtm__msec.html">tm_msec</a> *&#160;</td>
          <td class="paramname"><em>tm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;{</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordtype">size_t</span> n;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">/* Visual Studio 2013&#39;s behavior is to crash when 0 is passed as second</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">     * argument to strftime. */</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    n = max ? strftime(s, max, format, &amp;tm-&gt;<a class="code" href="structtm__msec.html#a9f56b2204b124ea2f2fe688581c076cf">tm</a>) : 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keywordflow">if</span> (n) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordtype">char</span> decimals[4];</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        sprintf(decimals, <span class="stringliteral">&quot;%03d&quot;</span>, tm-&gt;<a class="code" href="structtm__msec.html#a2cced7219667065c5bab5392fb2be818">msec</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">for</span> (p = strchr(s, <span class="charliteral">&#39;#&#39;</span>); p; p = strchr(p, <span class="charliteral">&#39;#&#39;</span>)) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordtype">char</span> *d = decimals;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39;#&#39;</span>)  {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                *p++ = *d ? *d++ : <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div>
<div class="ttc" id="structtm__msec_html_a2cced7219667065c5bab5392fb2be818"><div class="ttname"><a href="structtm__msec.html#a2cced7219667065c5bab5392fb2be818">tm_msec::msec</a></div><div class="ttdeci">int msec</div><div class="ttdef"><b>Definition:</b> timeval.h:50</div></div>
<div class="ttc" id="structtm__msec_html_a9f56b2204b124ea2f2fe688581c076cf"><div class="ttname"><a href="structtm__msec.html#a9f56b2204b124ea2f2fe688581c076cf">tm_msec::tm</a></div><div class="ttdeci">struct tm tm</div><div class="ttdef"><b>Definition:</b> timeval.h:49</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aea355781c327b2b5dc94cffef9adc2f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void time_alarm </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>secs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;{</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> msecs;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="ovs-thread_8h.html#a45fe50abf18418d7090fc3d72746d554">assert_single_threaded</a>();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    now = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    msecs = secs * 1000LL;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="timeval_8c.html#a108d87e3c341741112bf7010f50657da">deadline</a> = now &lt; LLONG_MAX - msecs ? now + msecs : LLONG_MAX;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a108d87e3c341741112bf7010f50657da"><div class="ttname"><a href="timeval_8c.html#a108d87e3c341741112bf7010f50657da">deadline</a></div><div class="ttdeci">static long long int deadline</div><div class="ttdef"><b>Definition:</b> timeval.c:97</div></div>
<div class="ttc" id="ovs-thread_8h_html_a45fe50abf18418d7090fc3d72746d554"><div class="ttname"><a href="ovs-thread_8h.html#a45fe50abf18418d7090fc3d72746d554">assert_single_threaded</a></div><div class="ttdeci">#define assert_single_threaded()</div><div class="ttdef"><b>Definition:</b> ovs-thread.h:513</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="timeval_8c_html_a5e4ec5d6222d78bc2312b0a9ae7ee153"><div class="ttname"><a href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a></div><div class="ttdeci">static void time_init(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:137</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9a4856a607c5c6fa81a2602a847a93d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long int time_boot_msec </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a>();</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#a636c8b2f876d914ab9bc2b8beb74dbd3">boot_time</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a636c8b2f876d914ab9bc2b8beb74dbd3"><div class="ttname"><a href="timeval_8c.html#a636c8b2f876d914ab9bc2b8beb74dbd3">boot_time</a></div><div class="ttdeci">static long long int boot_time</div><div class="ttdef"><b>Definition:</b> timeval.c:85</div></div>
<div class="ttc" id="timeval_8c_html_a5e4ec5d6222d78bc2312b0a9ae7ee153"><div class="ttname"><a href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a></div><div class="ttdeci">static void time_init(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:137</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5e4ec5d6222d78bc2312b0a9ae7ee153"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void time_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">static</span> pthread_once_t once = PTHREAD_ONCE_INIT;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    pthread_once(&amp;once, <a class="code" href="timeval_8c.html#ac718e44e08f010436499f9ecc6ca8662">do_init_time</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ac718e44e08f010436499f9ecc6ca8662"><div class="ttname"><a href="timeval_8c.html#ac718e44e08f010436499f9ecc6ca8662">do_init_time</a></div><div class="ttdeci">static void do_init_time(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:121</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3aab6d723083c856a0a3384490b1d1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long int time_msec </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#ad0b149e606b3a0ca2ad2d380d72726a0">time_msec__</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="timeval_8c_html_ad0b149e606b3a0ca2ad2d380d72726a0"><div class="ttname"><a href="timeval_8c.html#ad0b149e606b3a0ca2ad2d380d72726a0">time_msec__</a></div><div class="ttdeci">static long long int time_msec__(struct clock *c)</div><div class="ttdef"><b>Definition:</b> timeval.c:211</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0b149e606b3a0ca2ad2d380d72726a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long long int time_msec__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclock.html">clock</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;{</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">struct </span>timespec ts;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a>(c, &amp;ts);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#a682a10bcbabb04d8a3794d1eefb0d347">timespec_to_msec</a>(&amp;ts);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a682a10bcbabb04d8a3794d1eefb0d347"><div class="ttname"><a href="timeval_8c.html#a682a10bcbabb04d8a3794d1eefb0d347">timespec_to_msec</a></div><div class="ttdeci">long long int timespec_to_msec(const struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:349</div></div>
<div class="ttc" id="timeval_8c_html_a738f8b1e48e099f62510d6c0289f202b"><div class="ttname"><a href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a></div><div class="ttdeci">static void time_timespec__(struct clock *c, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:144</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39b06f8363a4deed456d4ddb429fd4a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t time_now </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#a6a676b8e5717a3334c301fe11d9861cb">time_sec__</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a6a676b8e5717a3334c301fe11d9861cb"><div class="ttname"><a href="timeval_8c.html#a6a676b8e5717a3334c301fe11d9861cb">time_sec__</a></div><div class="ttdeci">static time_t time_sec__(struct clock *c)</div><div class="ttdef"><b>Definition:</b> timeval.c:188</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aedff28d003951ac34166fba170d8f164"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int time_poll </td>
          <td>(</td>
          <td class="paramtype">struct pollfd *&#160;</td>
          <td class="paramname"><em>pollfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_pollfds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lib_2util_8h.html#a347a96271d32e87bca48fd2cb716c101">HANDLE</a> *handles&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long int&#160;</td>
          <td class="paramname"><em>timeout_when</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>elapsed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> *last_wakeup = last_wakeup_get();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> start;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">bool</span> quiescent;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordtype">int</span> retval = 0;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="coverage_8c.html#a1f7803e3fc93d6ee10d7e2f875d7ef36">coverage_clear</a>();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="coverage_8c.html#a1f463c0ae3dd0ff51d175b9dfab991a1">coverage_run</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (*last_wakeup) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="timeval_8c.html#ac32964dab47345d7668a88dab9e7c749">log_poll_interval</a>(*last_wakeup);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    start = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    timeout_when = <a class="code" href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a>(timeout_when, <a class="code" href="timeval_8c.html#a108d87e3c341741112bf7010f50657da">deadline</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    quiescent = <a class="code" href="ovs-rcu_8c.html#ac81961a9bdf5a36f3c8d322a1c575b8c">ovsrcu_is_quiescent</a>();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a> = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordtype">int</span> time_left;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> (now &gt;= timeout_when) {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            time_left = 0;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) timeout_when - now &gt; INT_MAX) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            time_left = INT_MAX;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            time_left = timeout_when - <a class="code" href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">if</span> (!quiescent) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> (!time_left) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <a class="code" href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                <a class="code" href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a>();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        retval = poll(pollfds, n_pollfds, time_left);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span> (retval &lt; 0) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            retval = -errno;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span> (n_pollfds &gt; MAXIMUM_WAIT_OBJECTS) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <a class="code" href="vlog_8h.html#aa21b5bf44db11689721bd2d0a6934c54">VLOG_ERR</a>(<span class="stringliteral">&quot;Cannot handle more than maximum wait objects\n&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n_pollfds != 0) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            retval = WaitForMultipleObjects(n_pollfds, handles, FALSE,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                            time_left);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">if</span> (retval &lt; 0) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="comment">/* XXX This will be replace by a win error to errno</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">               conversion function */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            retval = -WSAGetLastError();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            retval = -EINVAL;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span> (!quiescent &amp;&amp; time_left) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <a class="code" href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a>();</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="timeval_8c.html#a108d87e3c341741112bf7010f50657da">deadline</a> &lt;= <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>()) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="fatal-signal_8c.html#a4d0ee0ff674a5598df5a8f09c855e198">fatal_signal_handler</a>(SIGALRM);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <a class="code" href="vlog_8h.html#aa21b5bf44db11689721bd2d0a6934c54">VLOG_ERR</a>(<span class="stringliteral">&quot;wake up from WaitForMultipleObjects after deadline&quot;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="fatal-signal_8c.html#a4d0ee0ff674a5598df5a8f09c855e198">fatal_signal_handler</a>(SIGTERM);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">if</span> (retval &lt; 0) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                retval = 0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span> (retval != -EINTR) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    *last_wakeup = <a class="code" href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="timeval_8c.html#a2edcd4d8770850ec1eae5e258f053429">refresh_rusage</a>();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    *<a class="code" href="test-bitmap_8c.html#a4ea1a3fe80c16f774d21249c952c3891">elapsed</a> = *last_wakeup - start;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a108d87e3c341741112bf7010f50657da"><div class="ttname"><a href="timeval_8c.html#a108d87e3c341741112bf7010f50657da">deadline</a></div><div class="ttdeci">static long long int deadline</div><div class="ttdef"><b>Definition:</b> timeval.c:97</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a4868431442c9de1191bc247e1f6fe551"><div class="ttname"><a href="ovs-rcu_8c.html#a4868431442c9de1191bc247e1f6fe551">ovsrcu_quiesce_start</a></div><div class="ttdeci">void ovsrcu_quiesce_start(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:120</div></div>
<div class="ttc" id="timeval_8c_html_a2edcd4d8770850ec1eae5e258f053429"><div class="ttname"><a href="timeval_8c.html#a2edcd4d8770850ec1eae5e258f053429">refresh_rusage</a></div><div class="ttdeci">static void refresh_rusage(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:645</div></div>
<div class="ttc" id="coverage_8c_html_a1f7803e3fc93d6ee10d7e2f875d7ef36"><div class="ttname"><a href="coverage_8c.html#a1f7803e3fc93d6ee10d7e2f875d7ef36">coverage_clear</a></div><div class="ttdeci">void coverage_clear(void)</div><div class="ttdef"><b>Definition:</b> coverage.c:289</div></div>
<div class="ttc" id="timeval_8c_html_ac32964dab47345d7668a88dab9e7c749"><div class="ttname"><a href="timeval_8c.html#ac32964dab47345d7668a88dab9e7c749">log_poll_interval</a></div><div class="ttdeci">static void log_poll_interval(long long int last_wakeup)</div><div class="ttdef"><b>Definition:</b> timeval.c:556</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a852d4dd2fdd70e891a655e15e9246f2d"><div class="ttname"><a href="ovs-rcu_8c.html#a852d4dd2fdd70e891a655e15e9246f2d">ovsrcu_quiesce</a></div><div class="ttdeci">void ovsrcu_quiesce(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:140</div></div>
<div class="ttc" id="test-bitmap_8c_html_a4ea1a3fe80c16f774d21249c952c3891"><div class="ttname"><a href="test-bitmap_8c.html#a4ea1a3fe80c16f774d21249c952c3891">elapsed</a></div><div class="ttdeci">static int elapsed(const struct timeval *start)</div><div class="ttdef"><b>Definition:</b> test-bitmap.c:28</div></div>
<div class="ttc" id="fatal-signal_8c_html_a4d0ee0ff674a5598df5a8f09c855e198"><div class="ttname"><a href="fatal-signal_8c.html#a4d0ee0ff674a5598df5a8f09c855e198">fatal_signal_handler</a></div><div class="ttdeci">void fatal_signal_handler(int sig_nr)</div><div class="ttdef"><b>Definition:</b> fatal-signal.c:164</div></div>
<div class="ttc" id="timeval_8c_html_ab3aab6d723083c856a0a3384490b1d1f"><div class="ttname"><a href="timeval_8c.html#ab3aab6d723083c856a0a3384490b1d1f">time_msec</a></div><div class="ttdeci">long long int time_msec(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:221</div></div>
<div class="ttc" id="test-reconnect_8c_html_a5e982e2373d34bfe07d9942993762ad8"><div class="ttname"><a href="test-reconnect_8c.html#a5e982e2373d34bfe07d9942993762ad8">now</a></div><div class="ttdeci">static int now</div><div class="ttdef"><b>Definition:</b> test-reconnect.c:32</div></div>
<div class="ttc" id="vlog_8h_html_aa21b5bf44db11689721bd2d0a6934c54"><div class="ttname"><a href="vlog_8h.html#aa21b5bf44db11689721bd2d0a6934c54">VLOG_ERR</a></div><div class="ttdeci">#define VLOG_ERR(...)</div><div class="ttdef"><b>Definition:</b> vlog.h:196</div></div>
<div class="ttc" id="Util_8h_html_a926c1ab4f6ca8b244750377dcdea9ec1"><div class="ttname"><a href="Util_8h.html#a926c1ab4f6ca8b244750377dcdea9ec1">MIN</a></div><div class="ttdeci">#define MIN(_a, _b)</div><div class="ttdef"><b>Definition:</b> Util.h:68</div></div>
<div class="ttc" id="ovs-rcu_8c_html_a854fdaf22698bdbfd2907256a51279a3"><div class="ttname"><a href="ovs-rcu_8c.html#a854fdaf22698bdbfd2907256a51279a3">ovsrcu_quiesce_end</a></div><div class="ttdeci">void ovsrcu_quiesce_end(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:98</div></div>
<div class="ttc" id="ovs-rcu_8c_html_ac81961a9bdf5a36f3c8d322a1c575b8c"><div class="ttname"><a href="ovs-rcu_8c.html#ac81961a9bdf5a36f3c8d322a1c575b8c">ovsrcu_is_quiescent</a></div><div class="ttdeci">bool ovsrcu_is_quiescent(void)</div><div class="ttdef"><b>Definition:</b> ovs-rcu.c:155</div></div>
<div class="ttc" id="coverage_8c_html_a1f463c0ae3dd0ff51d175b9dfab991a1"><div class="ttname"><a href="coverage_8c.html#a1f463c0ae3dd0ff51d175b9dfab991a1">coverage_run</a></div><div class="ttdeci">void coverage_run(void)</div><div class="ttdef"><b>Definition:</b> coverage.c:305</div></div>
<div class="ttc" id="timeval_8c_html_a5e4ec5d6222d78bc2312b0a9ae7ee153"><div class="ttname"><a href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a></div><div class="ttdeci">static void time_init(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:137</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6a676b8e5717a3334c301fe11d9861cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static time_t time_sec__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclock.html">clock</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">struct </span>timespec ts;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a>(c, &amp;ts);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> ts.tv_sec;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a738f8b1e48e099f62510d6c0289f202b"><div class="ttname"><a href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a></div><div class="ttdeci">static void time_timespec__(struct clock *c, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:144</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4be630b59eddc746146c27d499df9b8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void time_timespec </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>, ts);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="timeval_8c_html_a738f8b1e48e099f62510d6c0289f202b"><div class="ttname"><a href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a></div><div class="ttdeci">static void time_timespec__(struct clock *c, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:144</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a738f8b1e48e099f62510d6c0289f202b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void time_timespec__ </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structclock.html">clock</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">bool</span> slow_path;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a>(&amp;c-&gt;<a class="code" href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">slow_path</a>, &amp;slow_path);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (!slow_path) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a>(c-&gt;<a class="code" href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">id</a>, ts);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keyword">struct </span>timespec warp;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">struct </span>timespec cache;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordtype">bool</span> stopped;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        stopped = c-&gt;stopped;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        warp = c-&gt;warp;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        cache = c-&gt;cache;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (!stopped) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <a class="code" href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a>(c-&gt;<a class="code" href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">id</a>, &amp;cache);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a>(ts, &amp;cache, &amp;warp);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="timeval_8c_html_ad329d5d80aefb0fc78de96dd20e800af"><div class="ttname"><a href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a></div><div class="ttdeci">static void timespec_add(struct timespec *sum, const struct timespec *a, const struct timespec *b)</div><div class="ttdef"><b>Definition:</b> timeval.c:527</div></div>
<div class="ttc" id="structclock_html_aa3b3d22746089fa1ae490f5d60f235ed"><div class="ttname"><a href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">clock::id</a></div><div class="ttdeci">clockid_t id</div><div class="ttdef"><b>Definition:</b> timeval.c:68</div></div>
<div class="ttc" id="timeval_8c_html_a38a41252e997548e108e2b260e5fd620"><div class="ttname"><a href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a></div><div class="ttdeci">void xclock_gettime(clock_t id, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:437</div></div>
<div class="ttc" id="ovs-atomic_8h_html_a5d15551798797ab706ecbbd4c25ee59b"><div class="ttname"><a href="ovs-atomic_8h.html#a5d15551798797ab706ecbbd4c25ee59b">atomic_read_relaxed</a></div><div class="ttdeci">#define atomic_read_relaxed(VAR, DST)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:392</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
<div class="ttc" id="timeval_8c_html_a5e4ec5d6222d78bc2312b0a9ae7ee153"><div class="ttname"><a href="timeval_8c.html#a5e4ec5d6222d78bc2312b0a9ae7ee153">time_init</a></div><div class="ttdeci">static void time_init(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:137</div></div>
<div class="ttc" id="structclock_html_a7c6edd9b5e15a87a698627ea8fdbe7cc"><div class="ttname"><a href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">clock::slow_path</a></div><div class="ttdeci">atomic_bool slow_path</div><div class="ttdef"><b>Definition:</b> timeval.c:72</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e5da92cea7f2b7015d0639d3f4cbdff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t time_wall </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#a6a676b8e5717a3334c301fe11d9861cb">time_sec__</a>(&amp;<a class="code" href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ab90a3634fee45e6fff15714f8f118b88"><div class="ttname"><a href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a></div><div class="ttdeci">static struct clock wall_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:82</div></div>
<div class="ttc" id="timeval_8c_html_a6a676b8e5717a3334c301fe11d9861cb"><div class="ttname"><a href="timeval_8c.html#a6a676b8e5717a3334c301fe11d9861cb">time_sec__</a></div><div class="ttdeci">static time_t time_sec__(struct clock *c)</div><div class="ttdef"><b>Definition:</b> timeval.c:188</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a69a42eb304645765af661daf0bbed0ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long int time_wall_msec </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#ad0b149e606b3a0ca2ad2d380d72726a0">time_msec__</a>(&amp;<a class="code" href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ab90a3634fee45e6fff15714f8f118b88"><div class="ttname"><a href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a></div><div class="ttdeci">static struct clock wall_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:82</div></div>
<div class="ttc" id="timeval_8c_html_ad0b149e606b3a0ca2ad2d380d72726a0"><div class="ttname"><a href="timeval_8c.html#ad0b149e606b3a0ca2ad2d380d72726a0">time_msec__</a></div><div class="ttdeci">static long long int time_msec__(struct clock *c)</div><div class="ttdef"><b>Definition:</b> timeval.c:211</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ff894c8c5b2306b031e590ce5b4ad0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void time_wall_timespec </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a>(&amp;<a class="code" href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a>, ts);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ab90a3634fee45e6fff15714f8f118b88"><div class="ttname"><a href="timeval_8c.html#ab90a3634fee45e6fff15714f8f118b88">wall_clock</a></div><div class="ttdeci">static struct clock wall_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:82</div></div>
<div class="ttc" id="timeval_8c_html_a738f8b1e48e099f62510d6c0289f202b"><div class="ttname"><a href="timeval_8c.html#a738f8b1e48e099f62510d6c0289f202b">time_timespec__</a></div><div class="ttdeci">static void time_timespec__(struct clock *c, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:144</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad329d5d80aefb0fc78de96dd20e800af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timespec_add </td>
          <td>(</td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>sum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timespec *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timespec *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keyword">struct </span>timespec tmp;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    tmp.tv_sec = <a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>-&gt;tv_sec + b-&gt;tv_sec;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    tmp.tv_nsec = <a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>-&gt;tv_nsec + b-&gt;tv_nsec;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (tmp.tv_nsec &gt;= 1000 * 1000 * 1000) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        tmp.tv_nsec -= 1000 * 1000 * 1000;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        tmp.tv_sec++;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    *sum = tmp;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a682a10bcbabb04d8a3794d1eefb0d347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long int timespec_to_msec </td>
          <td>(</td>
          <td class="paramtype">const struct timespec *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) ts-&gt;tv_sec * 1000 + ts-&gt;tv_nsec / (1000 * 1000);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adec7d5bea7dee25e6386673c4d6cf1f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long long int timeval_diff_msec </td>
          <td>(</td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a>(<a class="code" href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a>) - <a class="code" href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a>(b);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ae57fbc1f15c141304a7f7ca14591a5d3"><div class="ttname"><a href="timeval_8c.html#ae57fbc1f15c141304a7f7ca14591a5d3">timeval_to_msec</a></div><div class="ttdeci">long long int timeval_to_msec(const struct timeval *tv)</div><div class="ttdef"><b>Definition:</b> timeval.c:355</div></div>
<div class="ttc" id="test-atomic_8c_html_a0a0390ed59a97feb6783f87db4086a7c"><div class="ttname"><a href="test-atomic_8c.html#a0a0390ed59a97feb6783f87db4086a7c">a</a></div><div class="ttdeci">static uint32_t a</div><div class="ttdef"><b>Definition:</b> test-atomic.c:175</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad389a7b2655b771a1fe8a1766941c3ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timeval_dummy_register </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="timeval_8c.html#a56fb0942bad160348771058309e133b3">timewarp_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;time/stop&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0, <a class="code" href="timeval_8c.html#aae6d7428be7312405ffb3572f76de28b">timeval_stop_cb</a>, NULL);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a>(<span class="stringliteral">&quot;time/warp&quot;</span>, <span class="stringliteral">&quot;[large_msecs] msecs&quot;</span>, 1, 2,</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                             <a class="code" href="timeval_8c.html#ac00263f6bfe0f429cd5607e25b3e5688">timeval_warp_cb</a>, NULL);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_ac00263f6bfe0f429cd5607e25b3e5688"><div class="ttname"><a href="timeval_8c.html#ac00263f6bfe0f429cd5607e25b3e5688">timeval_warp_cb</a></div><div class="ttdeci">static void timeval_warp_cb(struct unixctl_conn *conn, int argc OVS_UNUSED, const char *argv[], void *aux OVS_UNUSED)</div><div class="ttdef"><b>Definition:</b> timeval.c:708</div></div>
<div class="ttc" id="timeval_8c_html_a56fb0942bad160348771058309e133b3"><div class="ttname"><a href="timeval_8c.html#a56fb0942bad160348771058309e133b3">timewarp_enabled</a></div><div class="ttdeci">static bool timewarp_enabled</div><div class="ttdef"><b>Definition:</b> timeval.c:88</div></div>
<div class="ttc" id="unixctl_8c_html_a88337242bbc90240984cd6c145c2a4be"><div class="ttname"><a href="unixctl_8c.html#a88337242bbc90240984cd6c145c2a4be">unixctl_command_register</a></div><div class="ttdeci">void unixctl_command_register(const char *name, const char *usage, int min_args, int max_args, unixctl_cb_func *cb, void *aux)</div><div class="ttdef"><b>Definition:</b> unixctl.c:106</div></div>
<div class="ttc" id="timeval_8c_html_aae6d7428be7312405ffb3572f76de28b"><div class="ttname"><a href="timeval_8c.html#aae6d7428be7312405ffb3572f76de28b">timeval_stop_cb</a></div><div class="ttdeci">static void timeval_stop_cb(struct unixctl_conn *conn, int argc OVS_UNUSED, const char *argv[] OVS_UNUSED, void *aux OVS_UNUSED)</div><div class="ttdef"><b>Definition:</b> timeval.c:684</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aae6d7428be7312405ffb3572f76de28b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timeval_stop_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *argv[]&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">slow_path</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.stopped = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a>(<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">id</a>, &amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.cache);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(conn, NULL);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="structclock_html_aa3b3d22746089fa1ae490f5d60f235ed"><div class="ttname"><a href="structclock.html#aa3b3d22746089fa1ae490f5d60f235ed">clock::id</a></div><div class="ttdeci">clockid_t id</div><div class="ttdef"><b>Definition:</b> timeval.c:68</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="timeval_8c_html_a38a41252e997548e108e2b260e5fd620"><div class="ttname"><a href="timeval_8c.html#a38a41252e997548e108e2b260e5fd620">xclock_gettime</a></div><div class="ttdeci">void xclock_gettime(clock_t id, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:437</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
<div class="ttc" id="structclock_html_a7c6edd9b5e15a87a698627ea8fdbe7cc"><div class="ttname"><a href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">clock::slow_path</a></div><div class="ttdeci">atomic_bool slow_path</div><div class="ttdef"><b>Definition:</b> timeval.c:72</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae57fbc1f15c141304a7f7ca14591a5d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long int timeval_to_msec </td>
          <td>(</td>
          <td class="paramtype">const struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>) tv-&gt;tv_sec * 1000 + tv-&gt;tv_usec / 1000;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac00263f6bfe0f429cd5607e25b3e5688"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timeval_warp_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structunixctl__conn.html">unixctl_conn</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int argc&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *aux&#160;</td>
          <td class="paramname"><em>OVS_UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> total_warp = argc &gt; 2 ? atoll(argv[1]) : 0;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> msecs = argc &gt; 2 ? atoll(argv[2]) : atoll(argv[1]);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (msecs &lt;= 0 || total_warp &lt; 0) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="unixctl_8c.html#aa5346a65e6271e5081000764e29c32c3">unixctl_command_reply_error</a>(conn, <span class="stringliteral">&quot;invalid MSECS&quot;</span>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.large_warp.conn) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="unixctl_8c.html#aa5346a65e6271e5081000764e29c32c3">unixctl_command_reply_error</a>(conn, <span class="stringliteral">&quot;A previous warp in progress&quot;</span>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">slow_path</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.large_warp.conn = conn;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.large_warp.total_warp = total_warp;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.large_warp.warp = msecs;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.large_warp.main_thread_id = <a class="code" href="ovs-thread_8h.html#a31f9d6ab46c96ccf3d140b8eccf777b8">ovsthread_id_self</a>();</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="timeval_8c.html#a1cc04d4a27e93ece8cbae8a0c8b9ef86">timewarp_work</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="unixctl_8c_html_aa5346a65e6271e5081000764e29c32c3"><div class="ttname"><a href="unixctl_8c.html#aa5346a65e6271e5081000764e29c32c3">unixctl_command_reply_error</a></div><div class="ttdeci">void unixctl_command_reply_error(struct unixctl_conn *conn, const char *error)</div><div class="ttdef"><b>Definition:</b> unixctl.c:176</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="ovs-thread_8h_html_a31f9d6ab46c96ccf3d140b8eccf777b8"><div class="ttname"><a href="ovs-thread_8h.html#a31f9d6ab46c96ccf3d140b8eccf777b8">ovsthread_id_self</a></div><div class="ttdeci">static unsigned int ovsthread_id_self(void)</div><div class="ttdef"><b>Definition:</b> ovs-thread.h:473</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
<div class="ttc" id="timeval_8c_html_a1cc04d4a27e93ece8cbae8a0c8b9ef86"><div class="ttname"><a href="timeval_8c.html#a1cc04d4a27e93ece8cbae8a0c8b9ef86">timewarp_work</a></div><div class="ttdeci">static void timewarp_work(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:454</div></div>
<div class="ttc" id="structclock_html_a7c6edd9b5e15a87a698627ea8fdbe7cc"><div class="ttname"><a href="structclock.html#a7c6edd9b5e15a87a698627ea8fdbe7cc">clock::slow_path</a></div><div class="ttdeci">atomic_bool slow_path</div><div class="ttdef"><b>Definition:</b> timeval.c:72</div></div>
<div class="ttc" id="ovs-atomic_8h_html_ac84e8c39629cf9a668992a651aaf3fc3"><div class="ttname"><a href="ovs-atomic_8h.html#ac84e8c39629cf9a668992a651aaf3fc3">atomic_store_relaxed</a></div><div class="ttdeci">#define atomic_store_relaxed(VAR, VALUE)</div><div class="ttdef"><b>Definition:</b> ovs-atomic.h:390</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ee0e6276abcbb9a427b7e7c7b304598"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timewarp_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;{</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">/* The function is a no-op unless timeval_dummy_register() is called. */</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="timeval_8c.html#a56fb0942bad160348771058309e133b3">timewarp_enabled</a>) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> thread_id;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        thread_id = <a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.large_warp.main_thread_id;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>.<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">if</span> (thread_id != <a class="code" href="ovs-thread_8h.html#a31f9d6ab46c96ccf3d140b8eccf777b8">ovsthread_id_self</a>()) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="comment">/* For threads other than the thread that changes the sequence,</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">             * wait on it. */</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *last_seq = last_seq_get();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            *last_seq = <a class="code" href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a>(<a class="code" href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <a class="code" href="seq_8h.html#a8b59b6e589df65b24f88b732b0c5b00a">seq_wait</a>(<a class="code" href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a>, *last_seq);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <span class="comment">/* Work on adding the remaining warps. */</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <a class="code" href="timeval_8c.html#a1cc04d4a27e93ece8cbae8a0c8b9ef86">timewarp_work</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="timeval_8c_html_a56fb0942bad160348771058309e133b3"><div class="ttname"><a href="timeval_8c.html#a56fb0942bad160348771058309e133b3">timewarp_enabled</a></div><div class="ttdeci">static bool timewarp_enabled</div><div class="ttdef"><b>Definition:</b> timeval.c:88</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="timeval_8c_html_a8f46af08e7ccab9eeb2f810ffdc30932"><div class="ttname"><a href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a></div><div class="ttdeci">static struct seq * timewarp_seq</div><div class="ttdef"><b>Definition:</b> timeval.c:91</div></div>
<div class="ttc" id="seq_8c_html_aa0751e2740716cafaf1421e9f671c319"><div class="ttname"><a href="seq_8c.html#aa0751e2740716cafaf1421e9f671c319">seq_read</a></div><div class="ttdeci">uint64_t seq_read(const struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:115</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="seq_8h_html_a8b59b6e589df65b24f88b732b0c5b00a"><div class="ttname"><a href="seq_8h.html#a8b59b6e589df65b24f88b732b0c5b00a">seq_wait</a></div><div class="ttdeci">#define seq_wait(seq, value)</div><div class="ttdef"><b>Definition:</b> seq.h:129</div></div>
<div class="ttc" id="ovs-thread_8h_html_a31f9d6ab46c96ccf3d140b8eccf777b8"><div class="ttname"><a href="ovs-thread_8h.html#a31f9d6ab46c96ccf3d140b8eccf777b8">ovsthread_id_self</a></div><div class="ttdeci">static unsigned int ovsthread_id_self(void)</div><div class="ttdef"><b>Definition:</b> ovs-thread.h:473</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
<div class="ttc" id="timeval_8c_html_a1cc04d4a27e93ece8cbae8a0c8b9ef86"><div class="ttname"><a href="timeval_8c.html#a1cc04d4a27e93ece8cbae8a0c8b9ef86">timewarp_work</a></div><div class="ttdeci">static void timewarp_work(void)</div><div class="ttdef"><b>Definition:</b> timeval.c:454</div></div>
<div class="ttc" id="Types_8h_html_aaa5d1cd013383c889537491c3cfd9aad"><div class="ttname"><a href="Types_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a></div><div class="ttdeci">unsigned long long uint64_t</div><div class="ttdef"><b>Definition:</b> Types.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1cc04d4a27e93ece8cbae8a0c8b9ef86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void timewarp_work </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keyword">struct </span><a class="code" href="structclock.html">clock</a> *c = &amp;<a class="code" href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keyword">struct </span>timespec warp;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (!c-&gt;large_warp.conn) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (c-&gt;large_warp.total_warp &gt;= c-&gt;large_warp.warp) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="timeval_8c.html#a42231d31daaa887f5baaddc1bdb5c84a">msec_to_timespec</a>(c-&gt;large_warp.warp, &amp;warp);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a>(&amp;c-&gt;warp, &amp;c-&gt;warp, &amp;warp);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        c-&gt;large_warp.total_warp -= c-&gt;large_warp.warp;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c-&gt;large_warp.total_warp) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="timeval_8c.html#a42231d31daaa887f5baaddc1bdb5c84a">msec_to_timespec</a>(c-&gt;large_warp.total_warp, &amp;warp);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a>(&amp;c-&gt;warp, &amp;c-&gt;warp, &amp;warp);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        c-&gt;large_warp.total_warp = 0;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">/* c-&gt;large_warp.total_warp is 0. */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="timeval_8c.html#a42231d31daaa887f5baaddc1bdb5c84a">msec_to_timespec</a>(c-&gt;large_warp.warp, &amp;warp);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a>(&amp;c-&gt;warp, &amp;c-&gt;warp, &amp;warp);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (!c-&gt;large_warp.total_warp) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <a class="code" href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a>(c-&gt;large_warp.conn, <span class="stringliteral">&quot;warped&quot;</span>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        c-&gt;large_warp.conn = NULL;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a>(&amp;c-&gt;<a class="code" href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">mutex</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="seq_8c.html#a74a066dd7f09238a11c8e511b843b911">seq_change</a>(<a class="code" href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">/* give threads (eg. monitor) some chances to run */</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    poll(NULL, 0, 10);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    Sleep(10);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;}</div>
<div class="ttc" id="timeval_8c_html_a42231d31daaa887f5baaddc1bdb5c84a"><div class="ttname"><a href="timeval_8c.html#a42231d31daaa887f5baaddc1bdb5c84a">msec_to_timespec</a></div><div class="ttdeci">static void msec_to_timespec(long long int ms, struct timespec *ts)</div><div class="ttdef"><b>Definition:</b> timeval.c:447</div></div>
<div class="ttc" id="seq_8c_html_a74a066dd7f09238a11c8e511b843b911"><div class="ttname"><a href="seq_8c.html#a74a066dd7f09238a11c8e511b843b911">seq_change</a></div><div class="ttdeci">void seq_change(struct seq *seq) OVS_EXCLUDED(seq_mutex)</div><div class="ttdef"><b>Definition:</b> seq.c:100</div></div>
<div class="ttc" id="unixctl_8c_html_a71135e26f1bfb4f5c4c1eae4a5a7c2fc"><div class="ttname"><a href="unixctl_8c.html#a71135e26f1bfb4f5c4c1eae4a5a7c2fc">unixctl_command_reply</a></div><div class="ttdeci">void unixctl_command_reply(struct unixctl_conn *conn, const char *result)</div><div class="ttdef"><b>Definition:</b> unixctl.c:166</div></div>
<div class="ttc" id="thread_8h_html_a5861b95ae97d5b0c11752e83a79eb7ed"><div class="ttname"><a href="thread_8h.html#a5861b95ae97d5b0c11752e83a79eb7ed">ovs_mutex_unlock</a></div><div class="ttdeci">void ovs_mutex_unlock(const struct ovs_mutex *mutex) OVS_RELEASES(mutex)</div></div>
<div class="ttc" id="structclock_html"><div class="ttname"><a href="structclock.html">clock</a></div><div class="ttdef"><b>Definition:</b> timeval.c:67</div></div>
<div class="ttc" id="thread_8h_html_afe7356b30b0520c57f8dd5fec1e92ef2"><div class="ttname"><a href="thread_8h.html#afe7356b30b0520c57f8dd5fec1e92ef2">ovs_mutex_lock</a></div><div class="ttdeci">#define ovs_mutex_lock(mutex)</div><div class="ttdef"><b>Definition:</b> thread.h:59</div></div>
<div class="ttc" id="timeval_8c_html_a8f46af08e7ccab9eeb2f810ffdc30932"><div class="ttname"><a href="timeval_8c.html#a8f46af08e7ccab9eeb2f810ffdc30932">timewarp_seq</a></div><div class="ttdeci">static struct seq * timewarp_seq</div><div class="ttdef"><b>Definition:</b> timeval.c:91</div></div>
<div class="ttc" id="timeval_8c_html_ad329d5d80aefb0fc78de96dd20e800af"><div class="ttname"><a href="timeval_8c.html#ad329d5d80aefb0fc78de96dd20e800af">timespec_add</a></div><div class="ttdeci">static void timespec_add(struct timespec *sum, const struct timespec *a, const struct timespec *b)</div><div class="ttdef"><b>Definition:</b> timeval.c:527</div></div>
<div class="ttc" id="timeval_8c_html_aa9b99aab5c9eb6c654e46653667f2043"><div class="ttname"><a href="timeval_8c.html#aa9b99aab5c9eb6c654e46653667f2043">monotonic_clock</a></div><div class="ttdeci">static struct clock monotonic_clock</div><div class="ttdef"><b>Definition:</b> timeval.c:81</div></div>
<div class="ttc" id="structclock_html_a1475b34f4d0cf5ac7836908bdf2bc7aa"><div class="ttname"><a href="structclock.html#a1475b34f4d0cf5ac7836908bdf2bc7aa">clock::mutex</a></div><div class="ttdeci">struct ovs_mutex mutex</div><div class="ttdef"><b>Definition:</b> timeval.c:71</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad82fda43249e796f257f7d927b7cbe3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VLOG_DEFINE_THIS_MODULE </td>
          <td>(</td>
          <td class="paramtype">timeval&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a38a41252e997548e108e2b260e5fd620"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xclock_gettime </td>
          <td>(</td>
          <td class="paramtype">clock_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceovs_1_1timeval.html#a4cd29ef12ee3ff5dc2ed0fa5d441f88c">clock_gettime</a>(<span class="keywordtype">id</span>, ts) == -1) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">/* It seems like a bad idea to try to use vlog here because it is</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">         * likely to try to check the current time. */</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="util_8c.html#a050e4cc1ed75e8095e604e01109711e1">ovs_abort</a>(errno, <span class="stringliteral">&quot;xclock_gettime() failed&quot;</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="ttc" id="util_8c_html_a050e4cc1ed75e8095e604e01109711e1"><div class="ttname"><a href="util_8c.html#a050e4cc1ed75e8095e604e01109711e1">ovs_abort</a></div><div class="ttdeci">void ovs_abort(int err_no, const char *format,...)</div><div class="ttdef"><b>Definition:</b> util.c:310</div></div>
<div class="ttc" id="namespaceovs_1_1timeval_html_a4cd29ef12ee3ff5dc2ed0fa5d441f88c"><div class="ttname"><a href="namespaceovs_1_1timeval.html#a4cd29ef12ee3ff5dc2ed0fa5d441f88c">ovs.timeval.clock_gettime</a></div><div class="ttdeci">tuple clock_gettime</div><div class="ttdef"><b>Definition:</b> timeval.py:49</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aacf444b0a6813b2404de4ee66dad83b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xgettimeofday </td>
          <td>(</td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span> (gettimeofday(tv, NULL) == -1) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="vlog_8h.html#a6d19cddbe047acf5f291c7a2c2d4a7ac">VLOG_FATAL</a>(<span class="stringliteral">&quot;gettimeofday failed (%s)&quot;</span>, <a class="code" href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a>(errno));</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    ULARGE_INTEGER current_time = xgetfiletime();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    tv-&gt;tv_sec = (current_time.QuadPart - unix_epoch) / 10000000;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    tv-&gt;tv_usec = ((current_time.QuadPart - unix_epoch) %</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                   10000000) / 10;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div>
<div class="ttc" id="util_8c_html_a6ebcfdb6e7dfaa3c08f98efee0ae2fd1"><div class="ttname"><a href="util_8c.html#a6ebcfdb6e7dfaa3c08f98efee0ae2fd1">ovs_strerror</a></div><div class="ttdeci">const char * ovs_strerror(int error)</div><div class="ttdef"><b>Definition:</b> util.c:409</div></div>
<div class="ttc" id="vlog_8h_html_a6d19cddbe047acf5f291c7a2c2d4a7ac"><div class="ttname"><a href="vlog_8h.html#a6d19cddbe047acf5f291c7a2c2d4a7ac">VLOG_FATAL</a></div><div class="ttdeci">#define VLOG_FATAL(...)</div><div class="ttdef"><b>Definition:</b> vlog.h:193</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a636c8b2f876d914ab9bc2b8beb74dbd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long int boot_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a108d87e3c341741112bf7010f50657da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long int deadline = LLONG_MAX</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa9b99aab5c9eb6c654e46653667f2043"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structclock.html">clock</a> monotonic_clock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a56fb0942bad160348771058309e133b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="datapath_2linux_2compat_2include_2linux_2types_8h.html#afaa87723b8417d40fcf45b7330261ef9">bool</a> timewarp_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8f46af08e7ccab9eeb2f810ffdc30932"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structseq.html">seq</a>* timewarp_seq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab90a3634fee45e6fff15714f8f118b88"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structclock.html">clock</a> wall_clock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_36ad3adc1aabcd87770fae1b41e5ac14.html">ovs</a></li><li class="navelem"><a class="el" href="dir_915fb0c656ffb8a17b4ec5b2ac3f6404.html">lib</a></li><li class="navelem"><a class="el" href="timeval_8c.html">timeval.c</a></li>
    <li class="footer">Generated on Wed Sep 9 2015 19:07:38 for ovs all by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
